(this["webpackJsonpfe-32-diploma"]=this["webpackJsonpfe-32-diploma"]||[]).push([[0],Array(80).concat([function(e,t,a){},,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(27),n=a.n(r),i=a(10),l=(a(80),a(7)),o=Object(s.createContext)({bookingStage:null,animation:{loading:!1,text:""},popup:{visible:!1,buttonText:"",content:[""],error:!1},trainsInfo:{},forwardTrain:null,backwardTrain:null,seatsInfo:{},orderInfo:{},travelDetailsCollapsed:{}}),d=a(0);function u(e){var t,a=Object(s.useState)(null),c=Object(l.a)(a,2),r=c[0],n=c[1],i=Object(s.useState)({loading:!1}),u=Object(l.a)(i,2),j=u[0],m=u[1],p=Object(s.useState)({visible:!1}),b=Object(l.a)(p,2),_=b[0],h=b[1];try{t=JSON.parse(localStorage.getItem("trainsInfo"))}catch(K){t=null}t&&t.params||(t={params:{}});var f,O=Object(s.useState)(t),x=Object(l.a)(O,2),v=x[0],N=x[1];try{f=JSON.parse(localStorage.getItem("forwardTrain"))}catch(U){f=null}var g,k=Object(s.useState)(f),y=Object(l.a)(k,2),w=y[0],C=y[1];try{g=JSON.parse(localStorage.getItem("backwardTrain"))}catch(q){g=null}var T,S=Object(s.useState)(g),I=Object(l.a)(S,2),H=I[0],F=I[1];try{T=JSON.parse(localStorage.getItem("seatsInfo"))}catch($){T=null}T&&T.params||(T={params:{}});var M,E=Object(s.useState)(T),D=Object(l.a)(E,2),P=D[0],A=D[1];try{M=JSON.parse(localStorage.getItem("orderInfo"))}catch(Q){M={}}var R=Object(s.useState)(M),L=Object(l.a)(R,2),V=L[0],W=L[1],B=Object(s.useState)({forward:!1,backward:!1,passengers:!1}),Y=Object(l.a)(B,2),X=Y[0],J=Y[1];return Object(d.jsx)(o.Provider,{value:{bookingStage:r,setBookingStage:n,animation:j,setAnimation:m,popup:_,setPopup:h,trainsInfo:v,setTrainsInfo:N,forwardTrain:w,setForwardTrain:C,backwardTrain:H,setBackwardTrain:F,seatsInfo:P,setSeatsInfo:A,orderInfo:V,setOrderInfo:W,travelDetailsCollapsed:X,setTravelDetailsCollapsed:J},children:e.children})}var j=a(40);a(82);var m=function(){return Object(d.jsx)("nav",{className:"header__navbar",children:Object(d.jsxs)("ul",{className:"header__navbar__list",children:[Object(d.jsx)("li",{className:"header__nav-item active",children:Object(d.jsx)(j.a,{exact:!0,to:"/#about",className:"nav-link",children:"\u041e \u043d\u0430\u0441"})}),Object(d.jsx)("li",{className:"header__nav-item",children:Object(d.jsx)(j.a,{to:"/#description",className:"nav-link",children:"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"})}),Object(d.jsx)("li",{className:"header__nav-item",children:Object(d.jsx)(j.a,{to:"/#feedbacks",className:"nav-link",children:"\u041e\u0442\u0437\u044b\u0432\u044b"})}),Object(d.jsx)("li",{className:"header__nav-item",children:Object(d.jsx)(j.a,{to:"/#contacts",className:"nav-link",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})})]})})},p=a(8),b=a(9),_=a(5),h=a(11);a(87);function f(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";e({visible:!0,buttonText:a,content:Array.isArray(t)?t:[t],error:!1})}function O(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";e({visible:!0,buttonText:a,content:Array.isArray(t)?t:[t],error:!0})}function x(e,t){O(e,["\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(t.status," - ").concat(t.statusText),"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443"])}function v(e){O(e,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445","\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443"])}function N(e,t){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(Object(p.a)().mark((function e(t,a){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{ok:!1,status:"",statusText:"No Connect"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=Object(b.a)(Object(p.a)().mark((function e(t){var a,s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://fe-diplom.herokuapp.com","/routes/cities?name=").concat(t),e.next=3,N(a);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(Object(p.a)().mark((function e(t){var a,s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat("https://fe-diplom.herokuapp.com","/routes")),Object.entries(t).forEach((function(e){return a.searchParams.append(e[0],e[1])})),e.next=4,N(a);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(Object(p.a)().mark((function e(){var t,a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://fe-diplom.herokuapp.com","/routes/last"),e.next=3,N(t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return H.apply(this,arguments)}function H(){return(H=Object(b.a)(Object(p.a)().mark((function e(t,a){var s,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new URL("".concat("https://fe-diplom.herokuapp.com","/routes/").concat(t,"/seats")),Object.entries(a).forEach((function(e){return s.searchParams.append(e[0],e[1])})),e.next=4,N(s);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(Object(p.a)().mark((function e(t){var a,s,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://fe-diplom.herokuapp.com","/order"),s={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)},e.next=4,N(a,s);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return D.apply(this,arguments)}function D(){return(D=Object(b.a)(Object(p.a)().mark((function e(t){var a,s,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://fe-diplom.herokuapp.com","/subscribe"),s={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:t})},e.next=4,N(a,s);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(Object(p.a)().mark((function e(t,a){var s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a"}),e.next=3,k(a);case 3:return s=e.sent,t({loading:!1}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=a.p+"static/media/location.08fbb43a.svg";a(88);function L(e){var t=e.name,a=e.value,c=e.placeholder,r=e.setValue,n=Object(s.useState)(null),i=Object(l.a)(n,2),u=i[0],j=i[1],m=Object(s.useState)([]),_=Object(l.a)(m,2),h=_[0],f=_[1],O=Object(s.useState)(!1),v=Object(l.a)(O,2),N=v[0],g=v[1],k=Object(s.useContext)(o),y=k.animation,w=k.setAnimation,C=k.setPopup,T=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a,s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(w,t);case 2:return(a=e.sent).ok||x(C,a),e.prev=4,e.next=7,a.json();case 7:s=e.sent,f(s),g(!!s.length),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),g(!1);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();console.log(h);return Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("input",{className:"location-input__input",type:"text",name:t,value:a,placeholder:c,onChange:function(e){if(!y.loading){clearTimeout(u);var t=e.target.value.trimLeft();r(t),t.length?j(setTimeout((function(){return function(e){T(e)}(t)}),1e3)):g(!1)}},required:!0}),Object(d.jsx)("div",{className:"location-input__button",children:Object(d.jsx)("img",{className:"location-input__button-icon",src:R,width:"100%",alt:"button-location"})}),N&&Object(d.jsx)("ul",{className:"location-input__list",tabIndex:"9999",children:h.map((function(e){return Object(d.jsx)("li",{className:"location-input__list-item",onClick:function(){return t=e.name,r(t),void g(!1);var t},children:e.name},e._id)}))})]})}function V(e,t,a,s){return W.apply(this,arguments)}function W(){return(W=Object(b.a)(Object(p.a)().mark((function e(t,a,s,c){var r,n,i,l,o,d,u,j,m,b,_,h,f,O,N,g,k,y,C,S,I,H,F,M,E,D,P,A,R,L;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a"}),o=c.fromCityId,d=c.toCityId,u=c.dateStart,j=c.dateEnd,m=c.limit,b=c.offset,_=c.sort,h=c.haveFirstClass,f=c.haveSecondClass,O=c.haveThirdClass,N=c.haveFourthClass,g=c.haveWifi,k=c.isExpress,y=c.priceFrom,C=c.priceTo,S=c.startDepartureHourFrom,I=c.startDepartureHourTo,H=c.startArrivalHourFrom,F=c.startArrivalHourTo,M=c.endDepartureHourFrom,E=c.endDepartureHourTo,D=c.endArrivalHourFrom,P=c.endArrivalHourTo,A={from_city_id:o,to_city_id:d,date_start:u,limit:m,offset:b,sort:_},R={from_city_id:d,to_city_id:o,date_start_arrival:j,limit:m,offset:b,sort:_},h&&(A.have_first_class=!0,R.have_first_class=!0),f&&(A.have_second_class=!0,R.have_second_class=!0),O&&(A.have_third_class=!0,R.have_third_class=!0),N&&(A.have_fourth_class=!0,R.have_fourth_class=!0),g&&(A.have_wifi=!0,R.have_wifi=!0),k&&(A.is_express=!0,R.is_express=!0),isNaN(+y)||(A.price_from=y,R.price_from=y),isNaN(+C)||(A.price_to=C,R.price_to=C),isNaN(+S)||(A.start_departure_hour_from=S),isNaN(+I)||(A.start_departure_hour_to=I),isNaN(+H)||(A.start_arrival_hour_from=H),isNaN(+F)||(A.start_arrival_hour_to=F),isNaN(+M)||(R.start_departure_hour_from=M),isNaN(+E)||(R.start_departure_hour_to=E),isNaN(+D)||(R.start_arrival_hour_from=D),isNaN(+P)||(R.start_arrival_hour_to=P),e.next=22,w(A);case 22:if((r=e.sent).ok){e.next=27;break}return t({loading:!1}),x(a,r),e.abrupt("return",!1);case 27:return e.prev=27,e.next=30,r.json();case 30:n=e.sent,e.next=38;break;case 33:return e.prev=33,e.t0=e.catch(27),t({loading:!1}),v(a),e.abrupt("return",!1);case 38:return e.next=40,w(R);case 40:if((r=e.sent).ok){e.next=45;break}return t({loading:!1}),x(a,r),e.abrupt("return",!1);case 45:return e.prev=45,e.next=48,r.json();case 48:i=e.sent,e.next=56;break;case 51:return e.prev=51,e.t1=e.catch(45),t({loading:!1}),v(a),e.abrupt("return",!1);case 56:return e.next=58,T();case 58:if((r=e.sent).ok){e.next=63;break}return t({loading:!1}),x(a,r),e.abrupt("return",!1);case 63:return e.prev=63,e.next=66,r.json();case 66:l=e.sent,e.next=74;break;case 69:return e.prev=69,e.t2=e.catch(63),t({loading:!1}),v(a),e.abrupt("return",!1);case 74:return s(L={params:c,forwardTrainsInfo:n,backwardTrainsInfo:i,lastRoutes:l}),localStorage.setItem("trainsInfo",JSON.stringify(L)),t({loading:!1}),e.abrupt("return",!0);case 79:case"end":return e.stop()}}),e,null,[[27,33],[45,51],[63,69]])})))).apply(this,arguments)}var B=a(21),Y=a.n(B),X=a(48),J=(a(65),a.p+"static/media/button-invert.5fca6600.svg"),K=a.p+"static/media/calendar.f3bd0495.svg";function U(e){var t=e.classModificator,a="ticket-search-form"+(t?" ticket-search-form".concat(t):""),c="ticket-search-form__label"+(t?" ticket-search-form__label".concat(t):""),r="ticket-search-form__button"+(t?" ticket-search-form__button".concat(t):""),n=Object(s.useState)(""),i=Object(l.a)(n,2),u=i[0],j=i[1],m=Object(s.useState)(""),f=Object(l.a)(m,2),v=f[0],N=f[1],g={from:"",to:""},k=Object(s.useState)(g),y=Object(l.a)(k,2),w=y[0],C=y[1],T=Object(s.useContext)(o),S=T.setPopup,I=T.setAnimation,H=T.setTrainsInfo,F=T.setForwardTrain,M=T.setBackwardTrain,E=Object(h.f)(),D=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t,a){var s,c,r,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.trim(),e.next=3,P(I,s);case 3:if((c=e.sent).ok){e.next=7;break}return x(S,c),e.abrupt("return",null);case 7:return e.prev=7,e.next=10,c.json();case 10:r=e.sent,e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return",null);case 16:return n=r.find((function(e){return e.name===s})),e.abrupt("return",n._id);case 18:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a,s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,D(w.from,"\u041e\u0442\u043a\u0443\u0434\u0430");case 3:if(null!==(a=e.sent)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,D(w.to,"\u041a\u0443\u0434\u0430");case 8:if(null!==(s=e.sent)){e.next=11;break}return e.abrupt("return");case 11:if(a!==s){e.next=14;break}return O(S,'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 "\u041e\u0442\u043a\u0443\u0434\u0430" \u0438 "\u041a\u0443\u0434\u0430" \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c\u0438'),e.abrupt("return");case 14:return e.next=16,V(I,S,H,{fromCityId:a,toCityId:s,dateStart:u,dateEnd:v,limit:5,offset:0,sort:"date",direction:"forward"});case 16:if(e.sent){e.next=19;break}return e.abrupt("return");case 19:E.push("/run/trains"),C(g),F(null),M(null),localStorage.setItem("forwardTrain",null),localStorage.setItem("backwardTrain",null);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{className:a,onSubmit:A,children:[Object(d.jsxs)("label",{className:c,children:["\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",Object(d.jsx)("div",{className:"ticket-search-form__input-container",children:Object(d.jsx)(L,{name:"from",value:w.from,placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",setValue:function(e){C(Object(_.a)(Object(_.a)({},w),{},{from:e}))}})})]}),Object(d.jsx)("button",{className:"ticket-search-form__button-invert",type:"button",onClick:function(){var e=w.to,t=w.from;C(Object(_.a)(Object(_.a)({},w),{},{from:e,to:t}))},children:Object(d.jsx)("img",{className:"ticket-search-form__image-invert",src:J,width:"100%",alt:"button-invert"})}),Object(d.jsx)("div",{className:"ticket-search-form__input-container",children:Object(d.jsx)(L,{name:"to",value:w.to,placeholder:"\u041a\u0443\u0434\u0430",setValue:function(e){C(Object(_.a)(Object(_.a)({},w),{},{to:e}))}})}),Object(d.jsxs)("label",{className:c,children:["\u0414\u0430\u0442\u0430",Object(d.jsxs)("div",{className:"ticket-search-form__input-container",children:[Object(d.jsx)(Y.a,{className:"date-input__datepicker",locale:"ru",dateFormat:"dd/MM/yyyy",selected:u,placeholderText:"\u0414\u0414/\u041c\u041c/\u0413\u0413",onChange:function(e){return j(e)}}),Object(d.jsx)("div",{className:"date-input__button",children:Object(d.jsx)("img",{className:"date-input__button-icon",src:K,width:"100%",alt:"button-calendar"})})]})]}),Object(d.jsxs)("div",{className:"ticket-search-form__input-container",children:[Object(d.jsx)(Y.a,{className:"date-input__datepicker",locale:"ru",dateFormat:"dd/MM/yyyy",selected:v,placeholderText:"\u0414\u0414/\u041c\u041c/\u0413\u0413",onChange:function(e){return N(e)}}),Object(d.jsx)("div",{className:"date-input__button",children:Object(d.jsx)("img",{className:"date-input__button-icon",src:K,width:"100%",alt:"button-calendar"})})]}),Object(d.jsx)("button",{className:r,type:"submit",children:"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"})]})}Object(B.registerLocale)("ru",X.a);a(129);function q(){return Object(d.jsx)("div",{className:"header__logo",children:Object(d.jsx)(i.b,{to:"/",className:"header__logo__link",children:"\u041b\u043e\u0433\u043e"})})}a(130);function $(){var e="";switch(Object(s.useContext)(o).bookingStage){case"trains":case"seats":case"passengers":case"payment":case"confirmation":e="_run";break;case"completion":e="_completion"}var t="header"+(e?" header".concat(e):""),a="header__top"+(e?" header__top".concat(e):"");return Object(d.jsxs)("header",{className:t,children:[Object(d.jsx)("div",{className:a,children:Object(d.jsx)(q,{})}),Object(d.jsx)(m,{}),"_completion"!==e&&Object(d.jsxs)("div",{className:"header__body",children:[!e&&Object(d.jsxs)("p",{className:"header__slogan",children:["\u0412\u0441\u044f \u0436\u0438\u0437\u043d\u044c -",Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"header__slogan_bold",children:"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435!"})]}),Object(d.jsx)(U,{classModificator:e})]})]})}a(131),a(132);var Q=a.p+"static/media/loading-animation.4e2e699c.gif";function z(){var e=Object(s.useContext)(o).animation;return Object(d.jsxs)("div",{className:"loading-animation",children:[Object(d.jsx)("img",{className:"loading-animation__image",src:Q,height:"780",alt:"loading-animation"}),Object(d.jsx)("p",{className:"loading-animation__text",children:e.text})]})}a(133);function G(){return Object(d.jsxs)("section",{className:"about",id:"about",children:[Object(d.jsx)("h2",{className:"about__title",children:"\u041e \u043d\u0430\u0441"}),Object(d.jsxs)("div",{className:"about__content",children:[Object(d.jsx)("p",{className:"about__text",children:"\u041c\u044b \u0440\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0441! \u041c\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0434\u043b\u044f \u0412\u0430\u0441 \u0441 2003 \u0433\u043e\u0434\u0430. 14 \u043b\u0435\u0442 \u043c\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c, \u043a\u0430\u043a \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0434\u043d\u0435\u043c \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0434\u0435\u0439 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."}),Object(d.jsxs)("p",{className:"about__text",children:["\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0436\u0435\u043b\u0435\u0437\u043d\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043e\u043d\u043b\u0430\u0439\u043d \u0432\u0441\u0435\u0433\u043e \u0432 2 \u043a\u043b\u0438\u043a\u0430, \u043d\u043e \u0441\u0442\u043e\u0438\u0442 \u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c?",Object(d.jsx)("br",{}),"\u041c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043e \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u0445 \u0437\u0430\u043a\u0430\u0437\u0430 \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."]}),Object(d.jsxs)("p",{className:"about__text",children:["\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0435\u0448\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430 90 \u0441\u0443\u0442\u043e\u043a \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0435\u0437\u0434\u0430.",Object(d.jsx)("br",{}),"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0446\u0435\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u0430 \u043d\u0430 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u0430\u044f \u043d\u0438\u0437\u043a\u0430\u044f."]})]})]})}a(134);function Z(){var e=Object(s.useContext)(o).setPopup;return Object(d.jsxs)("section",{className:"description",id:"description",children:[Object(d.jsxs)("div",{className:"description__top",children:[Object(d.jsx)("h2",{className:"description__title",children:"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"}),Object(d.jsx)("button",{className:"description__button",type:"button",onClick:function(){f(e,"\u0417\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e\u0431\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u043d\u0438\u0436\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430\u043c")},children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}),Object(d.jsx)("div",{className:"description__items",children:[["\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437","\u043d\u0430 \u0441\u0430\u0439\u0442\u0435"],["\u041d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438","\u0435\u0445\u0430\u0442\u044c \u0432 \u043e\u0444\u0438\u0441"],["\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440","\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439"]].map((function(e,t){return Object(d.jsxs)("div",{className:"description__item",children:[Object(d.jsx)("div",{className:"description__icon description__icon_".concat(t+1)}),Object(d.jsx)("p",{className:"description__text",children:e.map((function(e,t){return Object(d.jsxs)(c.a.Fragment,{children:[e,Object(d.jsx)("br",{})]},t)}))})]},t)}))})]})}var ee=a(73),te=(a(136),a.p+"static/media/avatar_ekaterina.e05877d1.png"),ae=a.p+"static/media/avatar_evgeniy.65a6aedf.png",se=[{avatar:te,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."},{avatar:ae,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438 \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."},{avatar:te,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."},{avatar:ae,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438 \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."},{avatar:te,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."},{avatar:ae,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438 \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."},{avatar:te,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."},{avatar:ae,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438 \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."},{avatar:te,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."},{avatar:ae,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438 \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."}];function ce(){return Object(d.jsxs)("section",{className:"feedbacks__slider",id:"feedbacks",children:[Object(d.jsx)("h2",{className:"feedbacks__title",children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(d.jsx)("div",{className:"feedbacks__items",children:Object(d.jsx)(ee.a,{itemsToShow:2,showArrows:!1,children:se.map((function(e,t){return Object(d.jsxs)("div",{className:"feedbacks__item",children:[Object(d.jsx)("img",{className:"feedbacks__item__avatar",src:e.avatar,alt:"avatar"}),Object(d.jsxs)("div",{className:"feedbacks__item__content",children:[Object(d.jsx)("div",{className:"feedbacks__item__name",children:e.name}),Object(d.jsxs)("div",{className:"feedbacks__item__text",children:[Object(d.jsx)("span",{className:"feedbacks__item__quote-start",children:"\u201c"}),e.text," ",Object(d.jsx)("span",{className:"feedbacks__item__quote-end",children:"\u201e"})]})]})]},t)}))})})]})}function re(){var e=Object(s.useContext)(o).setBookingStage;return Object(s.useEffect)((function(){e(null)}),[e]),Object(d.jsxs)("main",{className:"home-page",children:[Object(d.jsx)(G,{}),Object(d.jsx)(Z,{}),Object(d.jsx)(ce,{})]})}a(137),a(138);var ne=a.p+"static/media/dark-triangle.8b813f45.svg",ie=a.p+"static/media/light-triangle.5ca8bc48.svg";function le(e){var t=e.stepNumber;return Object(d.jsx)("div",{className:"progress-indicator",children:["\u0411\u0438\u043b\u0435\u0442\u044b","\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b","\u041e\u043f\u043b\u0430\u0442\u0430","\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"].map((function(e,a,s){var c="progress-indicator__step progress-indicator__step_".concat(a+1);a<t&&(c+=" progress-indicator__step_highlighted");var r="progress-indicator__step-name progress-indicator__step-name_".concat(a+1);return Object(d.jsxs)("div",{className:c,children:[Object(d.jsx)("p",{className:"progress-indicator__step-number",children:a+1}),Object(d.jsx)("p",{className:r,children:e}),a<s.length-1&&Object(d.jsx)("img",{className:"progress-indicator__triangle",src:a<t?ie:ne,width:"37",height:"98",alt:"triangle"})]},a)}))})}a(139),a(140);var oe=a.p+"static/media/icons.659298fb.svg";function de(e){var t=e.iconName,a=e.iconWidth,s=e.iconHeight,c=e.name,r=e.value,n=e.setValue;return Object(d.jsxs)("div",{className:"option-check-box",children:[Object(d.jsx)("svg",{className:"option-check-box__icon",width:a,height:s,children:Object(d.jsx)("use",{xlinkHref:"".concat(oe,"#").concat(t)})}),Object(d.jsx)("p",{className:"option-check-box__title",children:c}),Object(d.jsx)("div",{className:"option-check-box__selector "+(r?"option-check-box__selector_on":"option-check-box__selector_off"),onClick:function(){return n(!r)},children:Object(d.jsx)("div",{className:"option-check-box__handle "+(r?"option-check-box__handle_on":"option-check-box__handle_off")})})]})}a(141);function ue(e){var t=e.minValue,a=e.maxValue,c=e.setMinValue,r=e.setMaxValue,n=e.changeRange,i=e.isDisabled,o=Object(s.useState)(0),u=Object(l.a)(o,2),j=u[0],m=u[1],p=500,b=5e3,_=100,h=1e3,f=t>=p?t:p,O=a<=b?a:b;f+h>O&&(f=p,O=b);var x=Math.round((f-p)/4500*100),v=100-Math.round((O-p)/4500*100);return Object(d.jsx)("div",{className:"price-range-bar",children:Object(d.jsxs)("div",{className:"price-range-bar__range"+(i?" price-range-bar__range_disabled":""),style:{left:"".concat(x,"%"),right:"".concat(v,"%")},children:[Object(d.jsxs)("div",{className:"price-range-bar__handle price-range-bar__handle-min",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),m(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth*_/4500;e.clientX>j+t&&(m(e.clientX),f+h<O&&c(f+=_)),e.clientX<j-t&&(m(e.clientX),f>p&&c((f-=_)>p?f:p))}},onPointerUp:function(){i||n(t,a)},children:[Object(d.jsx)("p",{className:"price-range-bar__handle-title",children:"\u043e\u0442"}),Object(d.jsx)("p",{className:"price-range-bar__handle-value",children:f>p?f:"min"})]}),Object(d.jsxs)("div",{className:"price-range-bar__handle price-range-bar__handle-max",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),m(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth*_/4500;e.clientX<j-t&&(m(e.clientX),f+h<O&&r(O-=_)),e.clientX>j+t&&(m(e.clientX),O<b&&r((O+=_)<b?O:b))}},onPointerUp:function(){i||n(t,a)},children:[Object(d.jsx)("p",{className:"price-range-bar__handle-title",children:"\u0434\u043e"}),Object(d.jsx)("p",{className:"price-range-bar__handle-value",children:O<b?O:"max"})]})]})})}a(142),a(143);function je(e){var t=e.minValue,a=e.maxValue,c=e.setMinValue,r=e.setMaxValue,n=e.changeRange,i=e.isDisabled,o=Object(s.useState)(0),u=Object(l.a)(o,2),j=u[0],m=u[1],p=t>=0?t:0,b=a<=24?a:24;p+4>b&&(p=0,b=24);var _=Math.round(p/24*100),h=100-Math.round(b/24*100);return Object(d.jsx)("div",{className:"time-range-bar",children:Object(d.jsxs)("div",{className:"time-range-bar__range"+(i?" time-range-bar__range_disabled":""),style:{left:"".concat(_,"%"),right:"".concat(h,"%")},children:[Object(d.jsx)("div",{className:"time-range-bar__handle time-range-bar__handle-min",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),m(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth/24;e.clientX>j+t&&(m(e.clientX),p+4<b&&c(p+1)),e.clientX<j-t&&(m(e.clientX),p>0&&c(p-1))}},onPointerUp:function(){i||n(t,a)},children:Object(d.jsxs)("p",{className:"time-range-bar__handle-value",children:[p,":00"]})}),Object(d.jsx)("div",{className:"time-range-bar__handle time-range-bar__handle-max",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),m(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth/24;e.clientX<j-t&&(m(e.clientX),p+4<b&&r(b-1)),e.clientX>j+t&&(m(e.clientX),b<24&&r(b+1))}},onPointerUp:function(){i||n(t,a)},children:Object(d.jsxs)("p",{className:"time-range-bar__handle-value",children:[b,":00"]})})]})})}function me(e){var t=e.times,a=e.setTimes,c=e.changeTimes,r=e.isStart,n=e.isDisabled,i=t.departureHourFrom,o=t.departureHourTo,u=t.arrivalHourFrom,j=t.arrivalHourTo,m=a.setDepartureHourFrom,p=a.setDepartureHourTo,b=a.setArrivalHourFrom,_=a.setArrivalHourTo,h=Object(s.useState)(!0),f=Object(l.a)(h,2),O=f[0],x=f[1];return Object(d.jsxs)("div",{className:"trains-time-filter",children:[Object(d.jsxs)("div",{className:"trains-time-filter__collapsed"+(O?"":" trains-time-filter__collapsed_exp"),children:[Object(d.jsx)("svg",{className:"trains-time-filter__arrow"+(r?"":" trains-time-filter__arrow_mirror"),width:"32",height:"26",children:Object(d.jsx)("use",{xlinkHref:oe+"#arrow-negative"})}),Object(d.jsx)("p",{className:"trains-time-filter__title",children:r?"\u0422\u0443\u0434\u0430":"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"}),Object(d.jsx)("button",{className:"trains-time-filter__button"+(O?"":" trains-time-filter__button_minus"),type:"button",onClick:function(){return x(!O)}})]}),!O&&Object(d.jsxs)("div",{className:"trains-time-filter__full",children:[Object(d.jsx)("p",{className:"trains-time-filter__bar-title trains-time-filter__bar-title_departure",children:"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u0431\u044b\u0442\u0438\u044f"}),Object(d.jsx)("div",{className:"trains-time-filter__bar",children:Object(d.jsx)(je,{minValue:i,maxValue:o,setMinValue:m,setMaxValue:p,changeRange:function(e,t){c({departureHourFrom:e,departureHourTo:t,arrivalHourFrom:u,arrivalHourTo:j})},isDisabled:n})}),Object(d.jsx)("p",{className:"trains-time-filter__bar-title trains-time-filter__bar-title_arrival",children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"}),Object(d.jsx)("div",{className:"trains-time-filter__bar",children:Object(d.jsx)(je,{minValue:u,maxValue:j,setMinValue:b,setMaxValue:_,changeRange:function(e,t){c({departureHourFrom:i,departureHourTo:o,arrivalHourFrom:e,arrivalHourTo:t})},isDisabled:n})})]})]})}var pe=a(14),be=a.n(pe);function _e(e){return/^[^@]+@([^@.]+\.)+[^@.]+$/.test(e)}function he(e){return be()(1e3*e).format("DD.MM.YYYY")}function fe(e){return be()(1e3*e).format("HH:mm")}function Oe(e){var t=+e,a=Math.trunc(t/60)%60;a=(a<10?"0":"")+a;var s=Math.trunc(t/3600);return"".concat(s," : ").concat(a)}function xe(e){var t=e+"";return t.length>3&&(t=t.slice(0,-3)+" "+t.slice(-3)),t}function ve(e){return e?be()(e,"YYYY-MM-DD").format("DD.MM.YYYY"):""}function Ne(e){return e?be()(e,"DD.MM.YYYY").format("YYYY-MM-DD"):""}function ge(e){var t=e.seatList;return e.passengerList.reduce((function(e,a,s){return e+(a.isAdult?t.forward[s].fullPrice+t.backward[s].fullPrice:t.forward[s].childPrice+t.backward[s].childPrice)}),0)}function ke(e){var t=e.reloadInfo,a=Object(s.useState)(""),c=Object(l.a)(a,2),r=c[0],n=c[1],i=Object(s.useState)(""),u=Object(l.a)(i,2),j=u[0],m=u[1],p=Object(s.useState)(!1),b=Object(l.a)(p,2),_=b[0],h=b[1],f=Object(s.useState)(!1),O=Object(l.a)(f,2),x=O[0],v=O[1],N=Object(s.useState)(!1),g=Object(l.a)(N,2),k=g[0],y=g[1],w=Object(s.useState)(!1),C=Object(l.a)(w,2),T=C[0],S=C[1],I=Object(s.useState)(!1),H=Object(l.a)(I,2),F=H[0],M=H[1],E=Object(s.useState)(!1),D=Object(l.a)(E,2),P=D[0],A=D[1],R=Object(s.useState)(0),L=Object(l.a)(R,2),V=L[0],W=L[1],B=Object(s.useState)(0),X=Object(l.a)(B,2),J=X[0],U=X[1],q=Object(s.useState)(0),$=Object(l.a)(q,2),Q=$[0],z=$[1],G=Object(s.useState)(24),Z=Object(l.a)(G,2),ee=Z[0],te=Z[1],ae=Object(s.useState)(0),se=Object(l.a)(ae,2),ce=se[0],re=se[1],ne=Object(s.useState)(24),ie=Object(l.a)(ne,2),le=ie[0],oe=ie[1],je=Object(s.useState)(0),pe=Object(l.a)(je,2),be=pe[0],_e=pe[1],he=Object(s.useState)(24),fe=Object(l.a)(he,2),Oe=fe[0],xe=fe[1],Ne=Object(s.useState)(0),ge=Object(l.a)(Ne,2),ke=ge[0],ye=ge[1],we=Object(s.useState)(24),Ce=Object(l.a)(we,2),Te=Ce[0],Se=Ce[1],Ie=Object(s.useContext)(o),He=Ie.bookingStage,Fe=Ie.trainsInfo,Me=Ie.seatsInfo;Object(s.useEffect)((function(){n(ve(Fe.params.dateStart))}),[Fe.params.dateStart]),Object(s.useEffect)((function(){m(ve(Fe.params.dateEnd))}),[Fe.params.dateEnd]),Object(s.useEffect)((function(){h(!!("trains"===He?Fe.params.haveFirstClass:Me.params.haveFirstClass))}),[He,Fe.params.haveFirstClass,Me.params.haveFirstClass]),Object(s.useEffect)((function(){v(!!("trains"===He?Fe.params.haveSecondClass:Me.params.haveSecondClass))}),[He,Fe.params.haveSecondClass,Me.params.haveSecondClass]),Object(s.useEffect)((function(){y(!!("trains"===He?Fe.params.haveThirdClass:Me.params.haveThirdClass))}),[He,Fe.params.haveThirdClass,Me.params.haveThirdClass]),Object(s.useEffect)((function(){S(!!("trains"===He?Fe.params.haveFourthClass:Me.params.haveFourthClass))}),[He,Fe.params.haveFourthClass,Me.params.haveFourthClass]),Object(s.useEffect)((function(){M(!!("trains"===He?Fe.params.haveWifi:Me.params.haveWifi))}),[He,Fe.params.haveWifi,Me.params.haveWifi]),Object(s.useEffect)((function(){A(!!("trains"===He?Fe.params.isExpress:Me.params.isExpress))}),[He,Fe.params.isExpress,Me.params.isExpress]),Object(s.useEffect)((function(){void 0!==Fe.params.priceFrom&&W(Fe.params.priceFrom)}),[Fe.params.priceFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.priceTo&&U(Fe.params.priceTo)}),[Fe.params.priceTo]),Object(s.useEffect)((function(){void 0!==Fe.params.startDepartureHourFrom&&z(Fe.params.startDepartureHourFrom)}),[Fe.params.startDepartureHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.startDepartureHourTo&&te(Fe.params.startDepartureHourTo)}),[Fe.params.startDepartureHourTo]),Object(s.useEffect)((function(){void 0!==Fe.params.startArrivalHourFrom&&re(Fe.params.startArrivalHourFrom)}),[Fe.params.startArrivalHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.startArrivalHourTo&&oe(Fe.params.startArrivalHourTo)}),[Fe.params.startArrivalHourTo]),Object(s.useEffect)((function(){void 0!==Fe.params.endDepartureHourFrom&&_e(Fe.params.endDepartureHourFrom)}),[Fe.params.endDepartureHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.endDepartureHourTo&&xe(Fe.params.endDepartureHourTo)}),[Fe.params.endDepartureHourTo]),Object(s.useEffect)((function(){void 0!==Fe.params.endArrivalHourFrom&&ye(Fe.params.endArrivalHourFrom)}),[Fe.params.endArrivalHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.endArrivalHourTo&&Se(Fe.params.endArrivalHourTo)}),[Fe.params.endArrivalHourTo]);var Ee={departureHourFrom:Q,departureHourTo:ee,arrivalHourFrom:ce,arrivalHourTo:le},De={departureHourFrom:be,departureHourTo:Oe,arrivalHourFrom:ke,arrivalHourTo:Te},Pe={setDepartureHourFrom:z,setDepartureHourTo:te,setArrivalHourFrom:re,setArrivalHourTo:oe},Ae={setDepartureHourFrom:_e,setDepartureHourTo:xe,setArrivalHourFrom:ye,setArrivalHourTo:Se};return Object(d.jsxs)("div",{className:"trains-params",children:[Object(d.jsxs)("section",{className:"trains-params__dates",children:[Object(d.jsxs)("label",{className:"trains-params__date-title",children:["\u0414\u0430\u0442\u0430 \u043f\u043e\u0435\u0437\u0434\u043a\u0438",Object(d.jsxs)("div",{className:"trains-params__date-container",children:[Object(d.jsx)(Y.a,{className:"date-input__datepicker",locale:"ru",dateFormat:"dd/MM/yyyy",selected:r,placeholderText:"\u0414\u0414/\u041c\u041c/\u0413\u0413",onChange:function(e){return n(e)}}),Object(d.jsx)("div",{className:"side-date-input__button",children:Object(d.jsx)("img",{className:"date-input__button-icon",src:K,width:"100%",alt:"button-calendar"})})]})]}),Object(d.jsxs)("label",{className:"trains-params__date-title",children:["\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f",Object(d.jsxs)("div",{className:"trains-params__date-container",children:[Object(d.jsx)(Y.a,{className:"date-input__datepicker",locale:"ru",dateFormat:"dd/MM/yyyy",selected:j,placeholderText:"\u0414\u0414/\u041c\u041c/\u0413\u0413",onChange:function(e){return m(e)}}),Object(d.jsx)("div",{className:"side-date-input__button",children:Object(d.jsx)("img",{className:"date-input__button-icon",src:K,width:"100%",alt:"button-calendar"})})]})]})]}),Object(d.jsxs)("section",{className:"trains-params__options",children:[Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(de,{iconName:"second-class",iconWidth:17,iconHeight:17,name:"\u041a\u0443\u043f\u0435",value:x,setValue:function(e){v(e),t({haveSecondClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(de,{iconName:"third-class",iconWidth:17,iconHeight:17,name:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442",value:k,setValue:function(e){y(e),t({haveThirdClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(de,{iconName:"fourth-class",iconWidth:14,iconHeight:23,name:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439",value:T,setValue:function(e){S(e),t({haveFourthClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(de,{iconName:"first-class",iconWidth:22,iconHeight:20,name:"\u041b\u044e\u043a\u0441",value:_,setValue:function(e){h(e),t({haveFirstClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(de,{iconName:"wifi",iconWidth:24,iconHeight:19,name:"Wi-Fi",value:F,setValue:function(e){M(e),t({haveWifi:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(de,{iconName:"express",iconWidth:20,iconHeight:20,name:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441",value:P,setValue:function(e){A(e),t({isExpress:e,offset:0})}})})]}),Object(d.jsxs)("section",{className:"trains-params__price",children:[Object(d.jsx)("p",{className:"trains-params__price-title",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(d.jsx)("div",{className:"trains-params__price-range-bar",children:Object(d.jsx)(ue,{minValue:V,maxValue:J,setMinValue:W,setMaxValue:U,changeRange:function(e,a){t({priceFrom:e,priceTo:a,offset:0})},isDisabled:"trains"!==He})})]}),Object(d.jsx)("section",{className:"trains-params__times",children:Object(d.jsx)(me,{times:Ee,setTimes:Pe,changeTimes:function(e){t({startDepartureHourFrom:e.departureHourFrom,startDepartureHourTo:e.departureHourTo,startArrivalHourFrom:e.arrivalHourFrom,startArrivalHourTo:e.arrivalHourTo,offset:0})},isStart:!0,isDisabled:!("trains"===He&&"forward"===Fe.params.direction)})}),Object(d.jsx)("section",{className:"trains-params__times",children:Object(d.jsx)(me,{times:De,setTimes:Ae,changeTimes:function(e){t({endDepartureHourFrom:e.departureHourFrom,endDepartureHourTo:e.departureHourTo,endArrivalHourFrom:e.arrivalHourFrom,endArrivalHourTo:e.arrivalHourTo,offset:0})},isStart:!1,isDisabled:!("trains"===He&&"backward"===Fe.params.direction)})})]})}Object(B.registerLocale)("ru",X.a);a(145),a(146),a(147);function ye(e){var t=e.haveWifi,a=e.isExpress,s=e.haveFood,c=e.darkColor,r="option-icons__icon option-icons__icon_".concat(c?"dark":"light");return Object(d.jsxs)("div",{className:"option-icons",children:[t&&Object(d.jsx)("div",{className:"option-icons__container",children:Object(d.jsx)("svg",{className:r,width:"20",height:"16",children:Object(d.jsx)("use",{xlinkHref:oe+"#wifi"})})}),a&&Object(d.jsx)("div",{className:"option-icons__container",children:Object(d.jsx)("svg",{className:r,width:"20",height:"20",children:Object(d.jsx)("use",{xlinkHref:oe+"#express"})})}),s&&Object(d.jsx)("div",{className:"option-icons__container",children:Object(d.jsx)("svg",{className:r,width:"20",height:"18",children:Object(d.jsx)("use",{xlinkHref:oe+"#food"})})})]})}function we(e){var t=e.route.departure,a=t.from,s=t.to,c=t.have_wifi,r=t.is_express,n=t.min_price;return Object(d.jsxs)("div",{className:"last-routes-item",children:[Object(d.jsxs)("div",{className:"last-routes-item__city-names",children:[Object(d.jsx)("p",{className:"last-routes-item__city-name-from",children:a.city.name}),Object(d.jsx)("p",{className:"last-routes-item__city-name-to",children:s.city.name})]}),Object(d.jsxs)("div",{className:"last-routes-item__station-names",children:[Object(d.jsx)("p",{className:"last-routes-item__station-name-from",children:a.railway_station_name}),Object(d.jsx)("p",{className:"last-routes-item__station-name-to",children:s.railway_station_name})]}),Object(d.jsxs)("div",{className:"last-routes-item__min-price",children:[Object(d.jsx)(ye,{haveWifi:c,isExpress:r,haveFood:!0,darkColor:!1}),Object(d.jsx)("p",{className:"last-routes-item__before-price",children:"\u043e\u0442"}),Object(d.jsx)("p",{className:"last-routes-item__price",children:xe(n)}),Object(d.jsx)("p",{className:"last-routes-item__after-price",children:"\u20bd"})]})]})}var Ce=a(13),Te=a.n(Ce);function Se(){var e=Object(s.useContext)(o).trainsInfo;return Object(d.jsxs)("div",{className:"last-routes",children:[Object(d.jsx)("h3",{className:"last-routes__title",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"}),Object(d.jsx)("div",{className:"last-routes__list",children:e.lastRoutes.map((function(e){return Object(d.jsx)(we,{route:e},Te.a.generate())}))})]})}a(156),a(157),a(158);function Ie(e){var t=e.classNumber,a=e.seatsCount,s=e.priceInfo,c=s.top_price,r=void 0===c?1/0:c,n=s.bottom_price,i=void 0===n?1/0:n,l=s.side_price,o=void 0===l?1/0:l;return Object(d.jsxs)("div",{className:"train-class-seats-info",children:[Object(d.jsx)("p",{className:"train-class-seats-info__class-name",children:["\u041b\u044e\u043a\u0441","\u041a\u0443\u043f\u0435","\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442","\u0421\u0438\u0434\u044f\u0447\u0438\u0439"][t-1]}),Object(d.jsx)("p",{className:"train-class-seats-info__seats-count",children:a}),Object(d.jsx)("p",{className:"train-class-seats-info__before-price",children:"\u043e\u0442"}),Object(d.jsx)("p",{className:"train-class-seats-info__price",children:xe(Math.min(r,i,o))}),Object(d.jsx)("p",{className:"train-class-seats-info__after-price",children:"\u20bd"})]})}function He(e){var t=e.trainInfo,a=e.isForward,c=e.reloadInfo,r=e.loadSeats,n=e.isConfirmation,i=t.from,l=t.to,u=t.train,j=t.duration,m=t.have_first_class,f=t.have_second_class,O=t.have_third_class,x=t.have_fourth_class,v=t.available_seats_info,N=t.price_info,g=t.have_wifi,k=t.is_express,y=t._id,w=Object(s.useContext)(o),C=w.setAnimation,T=w.setPopup,S=w.trainsInfo,I=w.setTrainsInfo,H=w.forwardTrain,F=w.setForwardTrain,M=w.backwardTrain,E=w.setBackwardTrain,D=Object(h.f)(),P=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(C,T,I,Object(_.a)(Object(_.a)({},S.params),{},{offset:0,direction:a?"forward":"backward"}));case 2:e.sent&&D.push("/run/trains");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){var s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=JSON.stringify(t),a?(F(JSON.parse(s)),localStorage.setItem("forwardTrain",s)):(E(JSON.parse(s)),localStorage.setItem("backwardTrain",s)),!a||M){e.next=6;break}c({direction:"backward",offset:0}),e.next=17;break;case 6:if(!a){e.next=12;break}return e.next=9,r(y,M._id);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,r(H._id,y);case 14:e.t0=e.sent;case 15:e.t0&&D.push("/run/seats");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"trains-list-item",children:[n&&Object(d.jsxs)("h3",{className:"trains-list-item__title",children:["\u041f\u043e\u0435\u0437\u0434 ",a?"\u0442\u0443\u0434\u0430":"\u043e\u0431\u0440\u0430\u0442\u043d\u043e"]}),Object(d.jsxs)("div",{className:"trains-list-item__body",children:[Object(d.jsxs)("div",{className:"trains-list-item__left",children:[Object(d.jsx)("div",{className:"trains-list-item__icon-container",children:Object(d.jsx)("svg",{className:"trains-list-item__icon",width:"44",height:"52",children:Object(d.jsx)("use",{xlinkHref:oe+"#train-face"})})}),Object(d.jsx)("p",{className:"trains-list-item__train-number",children:u._id}),Object(d.jsxs)("div",{className:"trains-list-item__train-properties",children:[Object(d.jsxs)("p",{className:"trains-list-item__train-property",children:[i.city.name," \u2192"]}),Object(d.jsx)("p",{className:"trains-list-item__train-property",children:l.city.name}),Object(d.jsx)("p",{className:"trains-list-item__train-property",children:u.name&&"\xab".concat(u.name,"\xbb")})]})]}),Object(d.jsxs)("div",{className:"trains-list-item__middle",children:[Object(d.jsxs)("div",{className:"trains-list-item__middle-from",children:[Object(d.jsx)("p",{className:"trains-list-item__time",children:fe(a?i.datetime:l.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__date",children:he(a?i.datetime:l.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__city",children:a?i.city.name:l.city.name}),Object(d.jsx)("p",{className:"trains-list-item__station",children:a?i.railway_station_name:l.railway_station_name})]}),Object(d.jsxs)("div",{className:"trains-list-item__middle-way",children:[Object(d.jsx)("p",{className:"trains-list-item__duration",children:Oe(j)}),Object(d.jsx)("svg",{className:"trains-list-item__arrow"+(a?"":" trains-list-item__arrow_mirror"),width:"30",height:"20",children:Object(d.jsx)("use",{xlinkHref:oe+"#arrow"})})]}),Object(d.jsxs)("div",{className:"trains-list-item__middle-to",children:[Object(d.jsx)("p",{className:"trains-list-item__time",children:fe(a?l.datetime:i.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__date",children:he(a?l.datetime:i.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__city",children:a?l.city.name:i.city.name}),Object(d.jsx)("p",{className:"trains-list-item__station",children:a?l.railway_station_name:i.railway_station_name})]})]}),Object(d.jsxs)("div",{className:"trains-list-item__right",children:[Object(d.jsxs)("div",{className:"trains-list-item__seats-info",children:[x&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Ie,{classNumber:4,seatsCount:v.fourth,priceInfo:N.fourth})}),O&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Ie,{classNumber:3,seatsCount:v.third,priceInfo:N.third})}),f&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Ie,{classNumber:2,seatsCount:v.second,priceInfo:N.second})}),m&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Ie,{classNumber:1,seatsCount:v.first,priceInfo:N.first})})]}),Object(d.jsx)("div",{className:"trains-list-item__option-icons",children:Object(d.jsx)(ye,{haveWifi:g,isExpress:k,haveFood:!0,darkColor:!0})}),n?Object(d.jsx)("button",{className:"trains-list-item__button trains-list-item__button_return",type:"button",onClick:P,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):Object(d.jsx)("button",{className:"trains-list-item__button trains-list-item__button_next",type:"button",onClick:A,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u0430"})]})]})]})}a(159);function Fe(e){var t=e.totalCount,a=e.limit,c=e.offset,r=e.reloadInfo,n=Object(s.useState)(0),i=Object(l.a)(n,2),o=i[0],u=i[1],j=Object(s.useState)(0),m=Object(l.a)(j,2),p=m[0],b=m[1],_=Object(s.useState)(1),h=Object(l.a)(_,2),f=h[0],O=h[1];if(Object(s.useEffect)((function(){u(Math.floor(c/a)),b(Math.ceil(t/a)),c||O(1)}),[t,a,c]),p<2)return null;var x=p>5,v=[];if(!x)for(var N=1;N<=p;N++)v.push(N);var g="select-trains-page__button",k=g+" select-trains-page__button_active",y=function(e){e!==o&&(e||O(1),e===p-1&&O(p-3),u(e),r({offset:e*a}))};return Object(d.jsxs)("div",{className:"select-trains-page",children:[Object(d.jsx)("button",{className:g,type:"button",onClick:function(){if(!(o<1)){var e=o-1;e<f&&f>1&&O(e),u(e),r({offset:e*a})}},children:"<"}),x?Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("button",{className:0===o?k:g,type:"button",onClick:function(){return y(0)},children:"1"}),f>1&&Object(d.jsx)("button",{className:g,type:"button",onClick:function(){var e=f-2;e<1&&(e=1),O(e),u(e),r({offset:e*a})},children:"..."}),Object(d.jsx)("button",{className:o===f?k:g,type:"button",onClick:function(){return y(f)},children:f+1}),Object(d.jsx)("button",{className:o===f+1?k:g,type:"button",onClick:function(){return y(f+1)},children:f+2}),f<p-3&&Object(d.jsx)("button",{className:g,type:"button",onClick:function(){var e=f+2;e>p-3&&(e=p-3),O(e),u(e+1),r({offset:(e+1)*a})},children:"..."}),Object(d.jsx)("button",{className:o===p-1?k:g,type:"button",onClick:function(){return y(p-1)},children:p})]}):v.map((function(e,t){return Object(d.jsx)("button",{className:t===o?k:g,type:"button",onClick:function(){return y(t)},children:e},Te.a.generate())})),Object(d.jsx)("button",{className:"select-trains-page__button",type:"button",onClick:function(){if(!(o>p-2)){var e=o+1;e>f+1&&f<p-3&&O(e-1),u(e),r({offset:e*a})}},children:">"})]})}function Me(e){var t=e.reloadInfo,a=e.loadSeats,c=Object(s.useState)(0),r=Object(l.a)(c,2),n=r[0],i=r[1],u=Object(s.useState)(0),j=Object(l.a)(u,2),m=j[0],p=j[1],b=Object(s.useState)(!1),_=Object(l.a)(b,2),h=_[0],f=_[1],O=Object(s.useContext)(o).trainsInfo;Object(s.useEffect)((function(){switch(O.params.sort){case"price_":i(1);break;case"duration":i(2);break;default:i(0)}}),[O.params.sort]),Object(s.useEffect)((function(){switch(+O.params.limit){case 10:p(1);break;case 20:p(2);break;default:p(0)}}),[O.params.limit]);var x="forward"===O.params.direction,v=x?O.forwardTrainsInfo.items:O.backwardTrainsInfo.items,N="".concat(x?O.forwardTrainsInfo.total_count:O.backwardTrainsInfo.total_count),g=[{mode:"date",name:"\u0432\u0440\u0435\u043c\u0435\u043d\u0438"},{mode:"price_",name:"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438"},{mode:"duration",name:"\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}],k=[5,10,20];return Object(d.jsxs)("div",{className:"trains-list",children:[Object(d.jsxs)("div",{className:"trains-list__menu",children:[Object(d.jsxs)("p",{className:"trains-list__menu-count",children:["\u043d\u0430\u0439\u0434\u0435\u043d\u043e ",N]}),Object(d.jsx)("p",{className:"trains-list__menu-sort-title",children:"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"}),Object(d.jsxs)("div",{className:"trains-list__menu-sort-value-container",children:[Object(d.jsx)("p",{className:"trains-list__menu-sort-value",onClick:function(){return f(!0)},children:g[n].name}),h&&Object(d.jsx)("ul",{className:"trains-list__menu-sort-list",children:g.map((function(e,a){return Object(d.jsx)("li",{className:"trains-list__menu-sort-list-item",onClick:function(){return e=a,f(!1),i(e),void t({sort:g[e].mode});var e},children:e.name},a)}))})]}),Object(d.jsx)("p",{className:"trains-list__menu-limit-title",children:"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e:"}),k.map((function(e,a){return Object(d.jsx)("p",{className:"trains-list__menu-limit-value"+(a===m?" trains-list__menu-limit-value_active":""),onClick:function(){return p(e=a),void t({limit:k[e],offset:0});var e},children:e},a)}))]}),Object(d.jsx)("div",{className:"trains-list__list",children:v.map((function(e){return Object(d.jsx)(He,{trainInfo:e.departure,isForward:x,reloadInfo:t,loadSeats:a,isConfirmation:!1},Te.a.generate())}))}),Object(d.jsx)("div",{className:"trains-list__select-page",children:Object(d.jsx)(Fe,{totalCount:x?O.forwardTrainsInfo.total_count:O.backwardTrainsInfo.total_count,limit:O.params.limit,offset:O.params.offset,reloadInfo:t})})]})}function Ee(e,t,a,s){return De.apply(this,arguments)}function De(){return(De=Object(b.a)(Object(p.a)().mark((function e(t,a,s,c){var r,n,i,l,o,d,u,j,m,b,_,h,f,O;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a"}),l=c.forwardTrainId,o=c.backwardTrainId,d=c.haveFirstClass,u=c.haveSecondClass,j=c.haveThirdClass,m=c.haveFourthClass,b=c.haveWifi,_=c.haveAirConditioning,h=c.isExpress,f={},d&&(f.have_first_class=!0),u&&(f.have_second_class=!0),j&&(f.have_third_class=!0),m&&(f.have_fourth_class=!0),b&&(f.have_wifi=!0),_&&(f.have_air_conditioning=!0),h&&(f.is_express=!0),e.next=12,I(l,f);case 12:if((r=e.sent).ok){e.next=17;break}return t({loading:!1}),x(a,r),e.abrupt("return",!1);case 17:return e.prev=17,e.next=20,r.json();case 20:n=e.sent,e.next=28;break;case 23:return e.prev=23,e.t0=e.catch(17),t({loading:!1}),v(a),e.abrupt("return",!1);case 28:return e.next=30,I(o,f);case 30:if((r=e.sent).ok){e.next=35;break}return t({loading:!1}),x(a,r),e.abrupt("return",!1);case 35:return e.prev=35,e.next=38,r.json();case 38:i=e.sent,e.next=46;break;case 41:return e.prev=41,e.t1=e.catch(35),t({loading:!1}),v(a),e.abrupt("return",!1);case 46:return s(O={params:c,forwardSeatsInfo:n,backwardSeatsInfo:i}),localStorage.setItem("seatsInfo",JSON.stringify(O)),t({loading:!1}),e.abrupt("return",!0);case 51:case"end":return e.stop()}}),e,null,[[17,23],[35,41]])})))).apply(this,arguments)}function Pe(){var e=Object(s.useContext)(o),t=e.setBookingStage,a=e.setAnimation,c=e.setPopup,r=e.trainsInfo,n=e.setTrainsInfo,i=e.setSeatsInfo;Object(s.useEffect)((function(){t("trains")}),[t]);var l=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(a,c,n,Object(_.a)(Object(_.a)({},r.params),t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t,s){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(a,c,i,{forwardTrainId:t,backwardTrainId:s});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(d.jsxs)("main",{className:"trains",children:[Object(d.jsx)(le,{stepNumber:1}),Object(d.jsxs)("div",{className:"trains__main",children:[Object(d.jsxs)("section",{className:"trains__left",children:[Object(d.jsx)(ke,{reloadInfo:l}),Object(d.jsx)(Se,{})]}),Object(d.jsx)("section",{className:"trains__right",children:Object(d.jsx)(Me,{reloadInfo:l,loadSeats:u})})]})]})}a(160),a(161),a(162);function Ae(e){var t=e.trainInfo,a=e.isForward,s=t.from,c=t.to,r=t.train,n=function(e){var t=+e,a=Math.trunc(t/60)%60,s=Math.trunc(t/3600);switch(s%100){case 11:case 12:case 13:case 14:s+=" \u0447\u0430\u0441\u043e\u0432";break;default:switch(s%10){case 1:s+=" \u0447\u0430\u0441";break;case 2:case 3:case 4:s+=" \u0447\u0430\u0441\u0430";break;default:s+=" \u0447\u0430\u0441\u043e\u0432"}}switch(a){case 11:case 12:case 13:case 14:a+=" \u043c\u0438\u043d\u0443\u0442";break;default:switch(a%10){case 1:a+=" \u043c\u0438\u043d\u0443\u0442\u0430";break;case 2:case 3:case 4:a+=" \u043c\u0438\u043d\u0443\u0442\u044b";break;default:a+=" \u043c\u0438\u043d\u0443\u0442"}}return{hour:s,min:a}}(t.duration);return Object(d.jsxs)("div",{className:"train-seats-header",children:[Object(d.jsxs)("div",{className:"train-seats-header__left",children:[Object(d.jsx)("div",{className:"train-seats-header__left-icon-container",children:Object(d.jsx)("svg",{className:"train-seats-header__icon",width:"15",height:"18",children:Object(d.jsx)("use",{xlinkHref:oe+"#train-face"})})}),Object(d.jsxs)("div",{className:"train-seats-header__text-container",children:[Object(d.jsx)("p",{className:"train-seats-header__train-number",children:r._id}),Object(d.jsxs)("div",{className:"train-seats-header__train-properties",children:[Object(d.jsxs)("p",{className:"train-seats-header__train-property",children:[s.city.name," \u2192"]}),Object(d.jsx)("p",{className:"train-seats-header__train-property",children:c.city.name}),Object(d.jsx)("p",{className:"train-seats-header__train-property",children:r.name&&"\xab".concat(r.name,"\xbb")})]})]})]}),Object(d.jsxs)("div",{className:"train-seats-header__middle",children:[Object(d.jsxs)("div",{className:"train-seats-header__middle-from",children:[Object(d.jsx)("p",{className:"train-seats-header__time",children:fe(a?s.datetime:c.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__date",children:he(a?s.datetime:c.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__city",children:a?s.city.name:c.city.name}),Object(d.jsx)("p",{className:"train-seats-header__station",children:a?s.railway_station_name:c.railway_station_name})]}),Object(d.jsx)("svg",{className:"train-seats-header__arrow"+(a?"":" train-seats-header__arrow_mirror"),width:"30",height:"20",children:Object(d.jsx)("use",{xlinkHref:oe+"#arrow"})}),Object(d.jsxs)("div",{className:"train-seats-header__middle-to",children:[Object(d.jsx)("p",{className:"train-seats-header__time",children:fe(a?c.datetime:s.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__date",children:he(a?c.datetime:s.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__city",children:a?c.city.name:s.city.name}),Object(d.jsx)("p",{className:"train-seats-header__station",children:a?c.railway_station_name:s.railway_station_name})]})]}),Object(d.jsxs)("div",{className:"train-seats-header__right",children:[Object(d.jsx)("svg",{className:"train-seats-header__icon-clock",width:"30",height:"30",children:Object(d.jsx)("use",{xlinkHref:oe+"#clock"})}),Object(d.jsxs)("p",{className:"train-seats-header__duration",children:[n.hour,Object(d.jsx)("br",{}),n.min]})]})]})}a(163);function Re(e){var t=e.seatsState,a=e.setSeatsState,s=t.fullTicketsCount+t.childTicketsCount+t.parentTicketsCount,c="seats-count__types-item"+("full"===t.curTicketType?" seats-count__types-item_active":""),r="seats-count__types-item"+("child"===t.curTicketType?" seats-count__types-item_active":""),n="seats-count__types-item"+("parent"===t.curTicketType?" seats-count__types-item_active":""),i=function(e){a(Object(_.a)(Object(_.a)({},t),{},{curTicketType:e}))};return Object(d.jsxs)("div",{className:"seats-count",children:[Object(d.jsx)("h3",{className:"seats-count__title",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432"}),Object(d.jsxs)("div",{className:"seats-count__types-list",children:[Object(d.jsxs)("div",{className:c,onClick:function(){return i("full")},children:[Object(d.jsxs)("p",{className:"seats-count__type-count",children:["\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445 -"," ",t.fullTicketsCount+t.parentTicketsCount]}),Object(d.jsxs)("p",{className:"seats-count__type-description",children:["\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451",Object(d.jsx)("br",{}),6-s," \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"]})]}),Object(d.jsxs)("div",{className:r,onClick:function(){return i("child")},children:[Object(d.jsxs)("p",{className:"seats-count__type-count",children:["\u0414\u0435\u0442\u0441\u043a\u0438\u0445 - ",t.childTicketsCount]}),Object(d.jsxs)("p",{className:"seats-count__type-description",children:["\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ",6-s," \u0434\u0435\u0442\u0435\u0439 \u0434\u043e 10 \u043b\u0435\u0442. \u0421\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432 \u0432\u0430\u0433\u043e\u043d\u0435, \u043a\u0430\u043a \u0443 \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445, \u043d\u043e \u0434\u0435\u0448\u0435\u0432\u043b\u0435 \u0432 \u0441\u0440\u0435\u0434\u043d\u0435\u043c \u043d\u0430 50-65%"]})]}),Object(d.jsxs)("div",{className:n,onClick:function(){return i("parent")},children:[Object(d.jsxs)("p",{className:"seats-count__type-count",children:["\u0414\u0435\u0442\u0441\u043a\u0438\u0445 \xab\u0431\u0435\u0437 \u043c\u0435\u0441\u0442\u0430\xbb - ",t.parentTicketsCount]}),Object(d.jsx)("p",{className:"seats-count__type-description",children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0439 \u0431\u0438\u043b\u0435\u0442"})]})]})]})}a(164),a(165);var Le=a(29);a(166);function Ve(e){var t={};switch(t.index=e.coach._id%15+1,e.coach.class_type){case"first":t.classNumber=1,t.seatsMap=function(e){for(var t=[],a=0;a<16;a++)t.push({available:!1,selected:!1,isTop:!1,price:e.coach.price,width:26,height:58,top:29,paddingTop:34});return t[0].left=134,t[1].left=194,t[2].left=223,t[3].left=283,t[4].left=312,t[5].left=373,t[6].left=402,t[7].left=462,t[8].left=491,t[9].left=552,t[10].left=581,t[11].left=641,t[12].left=670,t[13].left=731,t[14].left=760,t[15].left=820,e.seats.forEach((function(e){e.available&&e.index<=16&&(t[e.index-1].available=!0)})),t}(e);break;case"second":t.classNumber=2,t.seatsMap=function(e){for(var t=[],a=0;a<32;a++)t.push({available:!1,selected:!1,isTop:a%2,price:a%2?e.coach.top_price:e.coach.bottom_price,width:26,height:29,top:a%2?29:58,paddingTop:5});return t[0].left=133,t[1].left=133,t[2].left=194,t[3].left=194,t[4].left=223,t[5].left=223,t[6].left=283,t[7].left=283,t[8].left=312,t[9].left=312,t[10].left=373,t[11].left=373,t[12].left=402,t[13].left=402,t[14].left=462,t[15].left=462,t[16].left=491,t[17].left=491,t[18].left=552,t[19].left=552,t[20].left=581,t[21].left=581,t[22].left=641,t[23].left=641,t[24].left=670,t[25].left=670,t[26].left=731,t[27].left=731,t[28].left=760,t[29].left=760,t[30].left=820,t[31].left=820,e.seats.forEach((function(e){e.available&&e.index<=32&&(t[e.index-1].available=!0)})),t}(e);break;case"third":t.classNumber=3,t.seatsMap=function(e){for(var t=[],a=0;a<48;a++)t.push({available:!1,selected:!1,isTop:a%2,price:a%2?e.coach.top_price:e.coach.bottom_price,width:a>31?43:26,height:a>31?25:31,top:a>31?113:a%2?29:60,paddingTop:a>31?2:5});return t[0].left=133,t[1].left=133,t[2].left=194,t[3].left=194,t[4].left=223,t[5].left=223,t[6].left=283,t[7].left=283,t[8].left=312,t[9].left=312,t[10].left=373,t[11].left=373,t[12].left=402,t[13].left=402,t[14].left=462,t[15].left=462,t[16].left=491,t[17].left=491,t[18].left=552,t[19].left=552,t[20].left=581,t[21].left=581,t[22].left=641,t[23].left=641,t[24].left=670,t[25].left=670,t[26].left=731,t[27].left=731,t[28].left=760,t[29].left=760,t[30].left=820,t[31].left=820,t[32].left=133,t[33].left=176,t[34].left=223,t[35].left=266,t[36].left=312,t[37].left=355,t[38].left=402,t[39].left=445,t[40].left=491,t[41].left=534,t[42].left=581,t[43].left=624,t[44].left=670,t[45].left=713,t[46].left=760,t[47].left=803,e.seats.forEach((function(e){e.available&&e.index<=48&&(t[e.index-1].available=!0)})),t}(e);break;default:t.classNumber=4,t.seatsMap=function(e){for(var t=[],a=0;a<62;a++){switch(t.push({available:!1,selected:!1,isTop:!1,price:e.coach.bottom_price,width:26,height:20,paddingTop:0}),a+1){case 2:case 4:case 6:case 8:case 10:case 12:case 14:case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 30:case 32:t[a].top=32;break;case 1:case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 29:case 31:t[a].top=53;break;case 34:case 36:case 38:case 40:case 42:case 44:case 46:case 48:case 50:case 52:case 54:case 56:case 58:case 60:t[a].top=92;break;case 33:case 35:case 37:case 39:case 41:case 43:case 45:case 47:case 49:case 51:case 53:case 55:case 57:case 59:case 61:case 62:t[a].top=113}switch(a+1){case 2:case 1:case 33:t[a].left=144;break;case 4:case 3:case 34:case 35:t[a].left=189;break;case 6:case 5:case 36:case 37:t[a].left=233;break;case 8:case 7:case 38:case 39:t[a].left=277;break;case 10:case 9:case 40:case 41:t[a].left=321;break;case 12:case 11:case 42:case 43:t[a].left=365;break;case 14:case 13:case 44:case 45:t[a].left=409;break;case 16:case 15:case 46:case 47:t[a].left=453;break;case 18:case 17:case 48:case 49:t[a].left=497;break;case 20:case 19:case 50:case 51:t[a].left=541;break;case 22:case 21:case 52:case 53:t[a].left=585;break;case 24:case 23:case 54:case 55:t[a].left=629;break;case 26:case 25:case 56:case 57:t[a].left=672;break;case 28:case 27:case 58:case 59:t[a].left=717;break;case 30:case 29:case 60:case 61:t[a].left=761;break;case 32:case 31:case 62:t[a].left=805}}return e.seats.forEach((function(e){e.available&&e.index<=62&&(t[e.index-1].available=!0)})),t}(e)}return t.price=e.coach.price,t.topPrice=e.coach.top_price,t.bottomPrice=e.coach.bottom_price,t.haveAirConditioning=e.coach.have_air_conditioning,t.haveWifi=e.coach.have_wifi,t.isLinensIncluded=e.coach.is_linens_included,t.haveFood=e.coach.have_food,t.wifiPrice=e.coach.wifi_price,t.linensPrice=e.coach.linens_price,t.coachId=e.coach._id,t}function We(e){return e.reduce((function(e,t){return t.available&&t.isTop?e+1:e}),0)}function Be(e){return e.reduce((function(e,t){return t.available&&!t.isTop?e+1:e}),0)}function Ye(e,t){var a="object"===typeof e?e:t.seatsMap[e];if(!a.selected)return 0;var s=a.price;return t.addWifi&&(s+=t.wifiPrice),t.addLinens&&(s+=t.linensPrice),"child"===a.ticketType&&(s=Math.trunc(.5*s)),s}function Xe(e){var t=e.coach,a=e.checkOption,c=e.checkSeat,r=e.competitorCount,n=Object(s.useState)([!1,!1,!1,!1]),i=Object(l.a)(n,2),o=i[0],u=i[1],j=null,m=null,p=!1;switch(t.classNumber){case 1:j=t.price;break;case 2:case 3:j=t.topPrice,m=t.bottomPrice,p=!0;break;case 4:j=t.bottomPrice}var b="coach-properties__button",_="coach-properties__button-icon",h=b;t.haveAirConditioning&&(h+=" ".concat(b,"_included"));var f=b,O=_;t.haveWifi&&(f+=" ".concat(b,"_enabled"),O+=" ".concat(_,"_enabled")),t.addWifi&&(f+=" ".concat(b,"_selected"),O+=" ".concat(_,"_selected"));var x=b,v=_;4!==t.classNumber&&(t.isLinensIncluded?x+=" ".concat(b,"_included"):(x+=" ".concat(b,"_enabled"),v+=" ".concat(_,"_enabled"),t.addLinens&&(x+=" ".concat(b,"_selected"),v+=" ".concat(_,"_selected"))));var N=b,g=_;t.haveFood&&(N+=" ".concat(b,"_enabled"),g+=" ".concat(_,"_enabled")),t.addFood&&(N+=" ".concat(b,"_selected"),g+=" ".concat(_,"_selected"));var k,y=function(e,t){var a=Object(Le.a)(o);a[e]=t,u(a)},w=function(e){y(e,!0)},C=function(e){y(e,!1)},T="coach-properties__map coach-properties__map_"+t.classNumber,S=function(e){return e.seatsMap.reduce((function(t,a){return t+Ye(a,e)}),0)}(t);return Object(d.jsxs)("div",{className:"coach-properties",children:[Object(d.jsxs)("div",{className:"coach-properties__header",children:[Object(d.jsx)("div",{className:"coach-properties__label",children:Object(d.jsx)("p",{className:"coach-properties__index",children:t.index>9?t.index:"0"+t.index})}),Object(d.jsxs)("div",{className:"coach-properties__seats",children:[Object(d.jsxs)("p",{className:"coach-properties__seats-all-title",children:["\u041c\u0435\u0441\u0442\u0430",Object(d.jsx)("span",{className:"coach-properties__seats-all-count",children:(k=t.seatsMap,k.reduce((function(e,t){return t.available?e+1:e}),0))})]}),p&&Object(d.jsxs)(s.Fragment,{children:[Object(d.jsxs)("p",{className:"coach-properties__seats-title",children:["\u0412\u0435\u0440\u0445\u043d\u0438\u0435",Object(d.jsx)("span",{className:"coach-properties__seats-count",children:We(t.seatsMap)})]}),Object(d.jsxs)("p",{className:"coach-properties__seats-title",children:["\u041d\u0438\u0436\u043d\u0438\u0435",Object(d.jsx)("span",{className:"coach-properties__seats-count",children:Be(t.seatsMap)})]})]})]}),Object(d.jsxs)("div",{className:"coach-properties__prices",children:[Object(d.jsx)("p",{className:"coach-properties__prices-title",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(d.jsxs)("p",{className:"coach-properties__price",children:[xe(j),Object(d.jsx)("span",{className:"coach-properties__currency",children:"\u20bd"})]}),m&&Object(d.jsxs)("p",{className:"coach-properties__price",children:[xe(m),Object(d.jsx)("span",{className:"coach-properties__currency",children:"\u20bd"})]})]}),Object(d.jsxs)("div",{className:"coach-properties__service",children:[Object(d.jsxs)("p",{className:"coach-properties__service-title",children:["\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",Object(d.jsx)("span",{className:"coach-propertis__service-title_light",children:"\u0424\u043f\u043a"})]}),Object(d.jsxs)("ul",{className:"coach-properties__options",children:[Object(d.jsxs)("li",{className:h,onMouseOver:function(){return w(0)},onMouseOut:function(){return C(0)},children:[Object(d.jsx)("svg",{className:"coach-properties__button-icon",width:"21",height:"21",children:Object(d.jsx)("use",{xlinkHref:oe+"#conditioner"})}),o[0]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"\u041a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440"})]}),Object(d.jsxs)("li",{className:f,onClick:function(){t.haveWifi&&a(t.index,"addWifi")},onMouseOver:function(){return w(1)},onMouseOut:function(){return C(1)},children:[Object(d.jsx)("svg",{className:O,width:"20",height:"16",children:Object(d.jsx)("use",{xlinkHref:oe+"#wifi"})}),o[1]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"WI-FI"})]}),Object(d.jsxs)("li",{className:x,onClick:function(){4===t.classNumber||t.isLinensIncluded||a(t.index,"addLinens")},onMouseOver:function(){return w(2)},onMouseOut:function(){return C(2)},children:[Object(d.jsx)("svg",{className:v,width:"22",height:"16",children:Object(d.jsx)("use",{xlinkHref:oe+"#linens"})}),o[2]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"\u0411\u0435\u043b\u044c\u0451"})]}),Object(d.jsxs)("li",{className:N,onClick:function(){t.haveFood&&a(t.index,"addFood")},onMouseOver:function(){return w(3)},onMouseOut:function(){return C(3)},children:[Object(d.jsx)("svg",{className:g,width:"20",height:"18",children:Object(d.jsx)("use",{xlinkHref:oe+"#food"})}),o[3]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"\u041f\u0438\u0442\u0430\u043d\u0438\u0435"})]})]})]})]}),Object(d.jsxs)("div",{className:"coach-properties__map-container",children:[Object(d.jsxs)("p",{className:"coach-properties__hint",children:[r," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442 \u043c\u0435\u0441\u0442\u0430 \u0432 \u044d\u0442\u043e\u043c \u043f\u043e\u0435\u0437\u0434\u0435"]}),Object(d.jsxs)("div",{className:T,children:[Object(d.jsx)("p",{className:"coach-properties__map-label",children:t.index>9?t.index:"0"+t.index}),t.seatsMap.map((function(e,a){return Object(d.jsx)("p",{className:"coach-properties__map-seat"+(e.available?" coach-properties__map-seat_available":"")+(e.selected?" coach-properties__map-seat_selected":"")+(e.selected&&"child"===e.ticketType?" coach-properties__map-seat_child":"")+(e.selected&&"parent"===e.ticketType?" coach-properties__map-seat_parent":""),style:{top:"".concat(e.top,"px"),left:"".concat(e.left,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),paddingTop:"".concat(e.paddingTop,"px")},onClick:function(){return e=a,void(t.seatsMap[e].available&&c(t.index,e));var e},children:a+1},a)}))]}),!!S&&Object(d.jsxs)("p",{className:"coach-properties__sum-price",children:[xe(S),Object(d.jsx)("span",{className:"coach-properties__sum-price-currency",children:"\u20bd"})]})]})]})}function Je(e){var t=e.seatsState,a=e.setSeatsState,s=t.info.filter((function(e){return e.classNumber===t.classNumber})).sort((function(e,t){return e.index-t.index})),c=function(e,s){var c=t.info.find((function(t){return e===t.index}));c[s]=!c[s],a(Object(_.a)(Object(_.a)({},t),{},{info:t.info}))},r=function(e,s){var c=t.info.find((function(t){return e===t.index}));if(c.seatsMap[s].selected)switch(c.seatsMap[s].selected=!1,c.seatsMap[s].ticketType){case"full":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,fullTicketsCount:t.fullTicketsCount-1}));break;case"child":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,childTicketsCount:t.childTicketsCount-1}));break;case"parent":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,parentTicketsCount:t.parentTicketsCount-1}))}else{if(t.fullTicketsCount+t.childTicketsCount+t.parentTicketsCount>=6)return;switch(c.seatsMap[s].selected=!0,c.seatsMap[s].ticketType=t.curTicketType,t.curTicketType){case"full":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,fullTicketsCount:t.fullTicketsCount+1}));break;case"child":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,childTicketsCount:t.childTicketsCount+1}));break;case"parent":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,parentTicketsCount:t.parentTicketsCount+1}))}}};return Object(d.jsxs)("div",{className:"coach-select",children:[Object(d.jsxs)("div",{className:"coach-select__header",children:[Object(d.jsx)("p",{className:"coach-select__title",children:"\u0412\u0430\u0433\u043e\u043d\u044b"}),s.map((function(e){return Object(d.jsx)("p",{className:"coach-select__number"+(e.isSelected?" coach-select__number_selected":""),onClick:function(){return function(e){var s=t.info.find((function(t){return e===t.index}));s.isSelected=!s.isSelected,a(Object(_.a)(Object(_.a)({},t),{},{info:t.info}))}(e.index)},children:e.index>9?e.index:"0"+e.index},Te.a.generate())})),Object(d.jsx)("p",{className:"coach-select__numbering",children:"\u041d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u0430\u0433\u043e\u043d\u043e\u0432 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0433\u043e\u043b\u043e\u0432\u044b \u043f\u043e\u0435\u0437\u0434\u0430"})]}),s.filter((function(e){return e.isSelected})).map((function(e){return Object(d.jsx)("div",{className:"coach-select__coach",children:Object(d.jsx)(Xe,{coach:e,checkOption:c,checkSeat:r,competitorCount:t.competitorCount})},Te.a.generate())}))]})}function Ke(e){var t=e.seatsState,a=e.setSeatsState;return Object(d.jsxs)("div",{className:"coach-type",children:[Object(d.jsx)("h3",{className:"coach-type__title",children:"\u0422\u0438\u043f \u0432\u0430\u0433\u043e\u043d\u0430"}),Object(d.jsx)("ul",{className:"coach-type__list"+(t.classNumber?" coach-type__list_active":""),children:[{iconName:"fourth-class",className:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439",classNumber:4,margin:0},{iconName:"third-class",className:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442",classNumber:3,margin:80},{iconName:"second-class",className:"\u041a\u0443\u043f\u0435",classNumber:2,margin:45},{iconName:"first-class",className:"\u041b\u044e\u043a\u0441",classNumber:1,margin:68}].map((function(e,s){return Object(d.jsxs)("li",{className:"coach-type__item",style:{marginLeft:"".concat(e.margin,"px")},children:[Object(d.jsx)("svg",{className:"coach-type__icon"+(e.classNumber===t.classNumber?" coach-type__icon_active":""),width:"50",height:"50",onClick:function(){return s=e.classNumber,void a(Object(_.a)(Object(_.a)({},t),{},{classNumber:s}));var s},children:Object(d.jsx)("use",{xlinkHref:"".concat(oe,"#").concat(e.iconName)})}),Object(d.jsx)("p",{className:"coach-type__name"+(e.classNumber===t.classNumber?" coach-type__name_active":""),children:e.className})]},s)}))}),!!t.classNumber&&Object(d.jsx)(Je,{seatsState:t,setSeatsState:a})]})}function Ue(e){var t=e.trainInfo,a=e.seatsState,c=e.setSeatsState,r=e.isForward,n=Object(s.useContext)(o),l=n.setAnimation,u=n.setPopup,j=n.trainsInfo,m=n.setTrainsInfo,f=Object(h.f)(),O=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,V(l,u,m,Object(_.a)(Object(_.a)({},j.params),{},{offset:0,direction:r?"forward":"backward"}));case 3:e.sent&&f.push("/run/trains");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"train-seats",children:[Object(d.jsxs)("div",{className:"train-seats__return"+(r?"":" train-seats__return_mirror"),children:[Object(d.jsx)("svg",{className:"train-seats__return-icon"+(r?"":" train-seats__return-icon_mirror"),width:"76",height:"60",children:Object(d.jsx)("use",{xlinkHref:oe+"#arrow-negative-big"})}),Object(d.jsx)(i.b,{to:"/run/trains",className:"train-seats__return-button",onClick:O,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u043e\u0435\u0437\u0434"})]}),Object(d.jsx)(Ae,{trainInfo:t,isForward:r}),Object(d.jsx)(Re,{seatsState:a,setSeatsState:c}),Object(d.jsx)(Ke,{seatsState:a,setSeatsState:c})]})}function qe(){var e=Object(s.useState)({competitorCount:0}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(s.useState)({competitorCount:0}),n=Object(l.a)(r,2),u=n[0],j=n[1],m=Object(s.useContext)(o),h=m.setBookingStage,f=m.setAnimation,x=m.setPopup,v=m.forwardTrain,N=m.backwardTrain,g=m.seatsInfo,k=m.setSeatsInfo,y=m.setOrderInfo;Object(s.useEffect)((function(){h("seats")}),[h]),Object(s.useEffect)((function(){c({info:g.forwardSeatsInfo.map((function(e){return Ve(e)})),classNumber:0,curTicketType:"full",fullTicketsCount:0,childTicketsCount:0,parentTicketsCount:0,competitorCount:Math.trunc(10*Math.random())+5}),j({info:g.backwardSeatsInfo.map((function(e){return Ve(e)})),classNumber:0,curTicketType:"full",fullTicketsCount:0,childTicketsCount:0,parentTicketsCount:0,competitorCount:Math.trunc(10*Math.random())+5})}),[g]);var w=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(f,x,k,Object(_.a)(Object(_.a)({},g.params),t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=a.fullTicketsCount+a.childTicketsCount+a.parentTicketsCount,T=u.fullTicketsCount+u.childTicketsCount+u.parentTicketsCount,S=C&&a.fullTicketsCount===u.fullTicketsCount&&a.childTicketsCount===u.childTicketsCount&&a.parentTicketsCount===u.parentTicketsCount;return Object(d.jsxs)("main",{className:"seats",children:[Object(d.jsx)(le,{stepNumber:1}),Object(d.jsxs)("div",{className:"seats__main",children:[Object(d.jsxs)("section",{className:"seats__left",children:[Object(d.jsx)(ke,{reloadInfo:w}),Object(d.jsx)(Se,{})]}),Object(d.jsxs)("section",{className:"seats__right",children:[Object(d.jsx)("h2",{className:"seats__title",children:"\u0412\u044b\u0431\u043e\u0440 \u043c\u0435\u0441\u0442"}),Object(d.jsx)("div",{className:"seats__train-seats",children:Object(d.jsx)(Ue,{trainInfo:v,seatsState:a,setSeatsState:c,isForward:!0})}),Object(d.jsx)("div",{className:"seats__train-seats",children:Object(d.jsx)(Ue,{trainInfo:N,seatsState:u,setSeatsState:j,isForward:!1})}),Object(d.jsx)(i.b,{to:"/run/passengers",className:"seats__button"+(S?" seats__button_active":""),onClick:function(e){if(S||e.preventDefault(),C&&T)if(a.fullTicketsCount===u.fullTicketsCount)if(a.childTicketsCount===u.childTicketsCount)if(a.parentTicketsCount===u.parentTicketsCount){var t=[],s=[];a.info.forEach((function(e){return e.seatsMap.forEach((function(a,s){a.selected&&t.push({coachId:e.coachId,seatNumber:s+1,fullPrice:Ye(Object(_.a)(Object(_.a)({},a),{},{ticketType:"full"}),e),childPrice:Ye(Object(_.a)(Object(_.a)({},a),{},{ticketType:"child"}),e)})}))})),u.info.forEach((function(e){return e.seatsMap.forEach((function(t,a){t.selected&&s.push({coachId:e.coachId,seatNumber:a+1,fullPrice:Ye(Object(_.a)(Object(_.a)({},t),{},{ticketType:"full"}),e),childPrice:Ye(Object(_.a)(Object(_.a)({},t),{},{ticketType:"child"}),e)})}))}));var c={seatList:{forward:t,backward:s},passengerList:[{isCollapsed:!1,isAdult:!0,firstName:"",lastName:"",patronymic:"",gender:!0,birthday:"",isDisability:!1,includeChild:!1,documentType:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424",passportSeries:"",passportNumber:"",birthSertificateNumber:"",isChange:!1,isError:!1,isReady:!1}]};y(c),localStorage.setItem("orderInfo",JSON.stringify(c))}else O(x,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u0442\u0441\u043a\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0431\u0435\u0437 \u043c\u0435\u0441\u0442\u0430 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c"]);else O(x,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u0442\u0441\u043a\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c"]);else O(x,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c"]);else O(x,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0431\u0438\u043b\u0435\u0442 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0434\u0438\u043d \u0431\u0438\u043b\u0435\u0442 \u043e\u0431\u0440\u0430\u0442\u043d\u043e"])},children:"\u0414\u0430\u043b\u0435\u0435"})]})]})]})}a(167);var $e=a(31);a(168),a(169);function Qe(e){var t=e.isForward,a=e.isCollapsed,s=e.setCollapsed,c=e.train;return Object(d.jsxs)("div",{className:"travel-details-train",children:[Object(d.jsxs)("div",{className:"travel-details-train__collapsed",children:[Object(d.jsx)("svg",{className:"travel-details-train__arrow-neg"+(t?"":" travel-details-train__arrow-neg_mirror"),width:"32",height:"26",children:Object(d.jsx)("use",{xlinkHref:oe+"#arrow-negative"})}),Object(d.jsx)("p",{className:"travel-details-train__title",children:t?"\u0422\u0443\u0434\u0430":"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"}),Object(d.jsx)("p",{className:"travel-details-train__title-date"+(t?"":" travel-details-train__title-date_backward"),children:he(t?c.from.datetime:c.to.datetime)}),Object(d.jsx)("button",{className:"travel-details-train__button"+(a?"":" travel-details-train__button_minus"),type:"button",onClick:s})]}),!a&&Object(d.jsxs)("div",{className:"travel-details-train__full",children:[Object(d.jsxs)("div",{className:"travel-details-train__number",children:[Object(d.jsx)("p",{className:"travel-details-train__number-left",children:"\u2116 \u041f\u043e\u0435\u0437\u0434\u0430"}),Object(d.jsx)("p",{className:"travel-details-train__number-right",children:c.train._id})]}),Object(d.jsxs)("div",{className:"travel-details-train__name",children:[Object(d.jsx)("p",{className:"travel-details-train__name-left",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(d.jsxs)("p",{className:"travel-details-train__name-right",children:[c.from.city.name,Object(d.jsx)("br",{}),c.to.city.name,Object(d.jsx)("br",{}),!!c.train.name&&c.train.name]})]}),Object(d.jsx)("p",{className:"travel-details-train__duration",children:Oe(c.duration)}),Object(d.jsxs)("div",{className:"travel-details-train__times",children:[Object(d.jsx)("p",{className:"travel-details-train__time-left",children:fe(t?c.from.datetime:c.to.datetime)}),Object(d.jsx)("svg",{className:"travel-details-train__arrow"+(t?"":" travel-details-train__arrow_mirror"),width:"30",height:"20",children:Object(d.jsx)("use",{xlinkHref:oe+"#arrow"})}),Object(d.jsx)("p",{className:"travel-details-train__time-right",children:fe(t?c.to.datetime:c.from.datetime)})]}),Object(d.jsxs)("div",{className:"travel-details-train__dates",children:[Object(d.jsx)("p",{className:"travel-details-train__date-left",children:he(t?c.from.datetime:c.to.datetime)}),Object(d.jsx)("p",{className:"travel-details-train__date-right",children:he(t?c.to.datetime:c.from.datetime)})]}),Object(d.jsxs)("div",{className:"travel-details-train__cities",children:[Object(d.jsx)("p",{className:"travel-details-train__city-left",children:t?c.from.city.name:c.to.city.name}),Object(d.jsx)("p",{className:"travel-details-train__city-right",children:t?c.to.city.name:c.from.city.name})]}),Object(d.jsxs)("div",{className:"travel-details-train__stations",children:[Object(d.jsx)("p",{className:"travel-details-train__station-left",children:t?c.from.railway_station_name:c.to.railway_station_name}),Object(d.jsx)("p",{className:"travel-details-train__station-right",children:t?c.to.railway_station_name:c.from.railway_station_name})]})]})]})}a(170);function ze(e){var t=e.isCollapsed,a=e.setCollapsed,s=e.priceInfo;return Object(d.jsxs)("div",{className:"travel-details-passengers",children:[Object(d.jsxs)("div",{className:"travel-details-passengers__collapsed",children:[Object(d.jsx)("svg",{className:"travel-details-passengers__icon",width:"26",height:"26",children:Object(d.jsx)("use",{xlinkHref:oe+"#passenger"})}),Object(d.jsx)("p",{className:"travel-details-passengers__title",children:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"}),Object(d.jsx)("button",{className:"travel-details-passengers__button"+(t?"":" travel-details-passengers__button_minus"),type:"button",onClick:a})]}),!t&&Object(d.jsxs)("div",{className:"travel-details-passengers__full",children:[!!s.adult.count&&Object(d.jsxs)("div",{className:"travel-details-passengers__item",children:[Object(d.jsx)("p",{className:"travel-details-passengers__count",children:s.adult.count}),Object(d.jsx)("p",{className:"travel-details-passengers__price",children:xe(s.adult.price)}),Object(d.jsx)("p",{className:"travel-details-passengers__currency",children:"\u20bd"})]}),!!s.child.count&&Object(d.jsxs)("div",{className:"travel-details-passengers__item",children:[Object(d.jsx)("p",{className:"travel-details-passengers__count",children:s.child.count}),Object(d.jsx)("p",{className:"travel-details-passengers__price",children:xe(s.child.price)}),Object(d.jsx)("p",{className:"travel-details-passengers__currency",children:"\u20bd"})]})]})]})}function Ge(){var e=Object(s.useContext)(o),t=e.forwardTrain,a=e.backwardTrain,c=e.travelDetailsCollapsed,r=e.setTravelDetailsCollapsed,n=e.orderInfo,i=function(e){r(Object(_.a)(Object(_.a)({},c),{},Object($e.a)({},e,!c[e])))},l=n.passengerList.filter((function(e){return e.isReady})).reduce((function(e,t,a){return t.isAdult?(e.adult.count++,e.adult.price+=n.seatList.forward[a].fullPrice+n.seatList.backward[a].fullPrice):(e.child.count++,e.child.price+=n.seatList.forward[a].childPrice+n.seatList.backward[a].childPrice),e}),{adult:{count:0,price:0},child:{count:0,price:0}});switch(l.adult.count){case 0:break;case 1:l.adult.count+=" \u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439";break;default:l.adult.count+=" \u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445"}switch(l.child.count){case 0:break;case 1:l.child.count+=" \u0420\u0435\u0431\u0451\u043d\u043e\u043a";break;case 2:case 3:case 4:l.child.count+=" \u0420\u0435\u0431\u0451\u043d\u043a\u0430";break;default:l.child.count+=" \u0414\u0435\u0442\u0435\u0439"}return Object(d.jsxs)("div",{className:"travel-details",children:[Object(d.jsx)("h2",{className:"travel-details__title",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"}),Object(d.jsx)("div",{className:"travel-details__train",children:Object(d.jsx)(Qe,{isForward:!0,isCollapsed:c.forward,setCollapsed:function(){return i("forward")},train:t})}),Object(d.jsx)("div",{className:"travel-details__train",children:Object(d.jsx)(Qe,{isForward:!1,isCollapsed:c.backward,setCollapsed:function(){return i("backward")},train:a})}),Object(d.jsx)("div",{className:"travel-details__passengers",children:Object(d.jsx)(ze,{isCollapsed:c.passengers,setCollapsed:function(){return i("passengers")},priceInfo:l})}),Object(d.jsxs)("div",{className:"travel-details__total",children:[Object(d.jsx)("p",{className:"travel-details__total-title",children:"\u0418\u0442\u043e\u0433"}),Object(d.jsx)("p",{className:"travel-details__price",children:xe(l.adult.price+l.child.price)}),Object(d.jsx)("p",{className:"travel-details__currency",children:"\u20bd"})]})]})}a(171);function Ze(e){var t=e.isAdult,a=e.firstName,s=e.lastName,c=e.patronymic,r=e.birthday,n=e.documentType,i=e.passportSeries,l=e.passportNumber,o=e.birthSertificateNumber,d={errorFlags:{},errorText:{},isReady:!0};return s||(d.errorFlags.lastName=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u0424\u0430\u043c\u0438\u043b\u0438\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'}),d.isReady=!1),a||(d.errorFlags.firstName=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'}),d.isReady=!1),c||(d.errorFlags.patronymic=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'}),d.isReady=!1),10!==r.length&&(d.errorFlags.birthday=!0,d.isReady&&(d.errorText={string1:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440 (\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b, \u0442\u043e\u0447\u043a\u0438 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438):",string3:"25.05.1975"}),d.isReady=!1),be()(r,"DD.MM.YYYY").isValid()||(d.errorFlags.birthday=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f" \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0434\u0430\u0442\u0443'}),d.isReady=!1),t||"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"!==n||(d.errorFlags.documentType=!0,d.isReady&&(d.errorText={string1:"\u0414\u043b\u044f \u043f\u0440\u043e\u0435\u0437\u0434\u0430 \u0440\u0435\u0431\u0451\u043d\u043a\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"}),d.isReady=!1),"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===n?(4!==i.length&&(d.errorFlags.passportSeries=!0,d.isReady&&(d.errorText={string1:"\u0421\u0435\u0440\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440:",string3:"1234"}),d.isReady=!1),6!==l.length&&(d.errorFlags.passportNumber=!0,d.isReady&&(d.errorText={string1:"\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440:",string3:"123456"}),d.isReady=!1)):/^[IVX]{2,4}[\u0410-\u042f]{2}[0-9]{6}$/.test(o)||(d.errorFlags.birthSertificateNumber=!0,d.isReady&&(d.errorText={string1:"\u041d\u043e\u043c\u0435\u0440 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440:",string3:"VIII \u042b\u041f 123456"}),d.isReady=!1),d}var et=a.p+"static/media/ready.e0b774b9.svg",tt=a.p+"static/media/error.f0e873e6.svg";function at(e){var t=e.passenger,a=e.index,c=e.passengerList,r=e.setPassengerList,n=Object(s.useState)(t),i=Object(l.a)(n,2),u=i[0],j=i[1],m=Object(s.useState)(!1),p=Object(l.a)(m,2),b=p[0],h=p[1],f=Object(s.useState)(!1),O=Object(l.a)(f,2),x=O[0],v=O[1],N=Object(s.useContext)(o),g=N.orderInfo,k=N.setOrderInfo,y=u.isCollapsed,w=u.isAdult,C=u.firstName,T=u.lastName,S=u.patronymic,I=u.gender,H=u.birthday,F=u.isDisability,M=u.documentType,E=u.passportSeries,D=u.passportNumber,P=u.birthSertificateNumber,A=u.isChange,R=u.isError,L=u.isReady,V="\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===M,W=function(e,t){j(Object(_.a)(Object(_.a)({},u),{},Object($e.a)({},e,t)))},B=function(e,t){var s=Object(Le.a)(c);switch(e){case"isCollapsed":case"isChange":case"isError":case"isReady":break;default:s[a][e]!==t&&(s[a].isChange=!0,s[a].isError=!1,s[a].isReady=!1)}s[a][e]=t,r(s)},Y=function(e){"Enter"===e.key&&e.target.blur()},X={errorFlags:{},errorText:{}};R&&(X=Ze(u));var J=X,K=J.errorFlags,U=J.errorText;return Object(d.jsxs)("div",{className:"edit-passenger",children:[Object(d.jsxs)("div",{className:"edit-passenger__collapsed"+(y?"":" edit-passenger__collapsed_gray"),children:[Object(d.jsx)("button",{className:"edit-passenger__button-collapse"+(y?"":" edit-passenger__button-collapse_minus"),type:"button",onClick:function(){return B("isCollapsed",!y)}}),Object(d.jsxs)("p",{className:"edit-passenger__title",children:["\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",a+1]}),!y&&Object(d.jsx)("button",{className:"edit-passenger__button-close",type:"button",onClick:function(){var e=c;e.splice(a,1);var t=Object(_.a)(Object(_.a)({},g),{},{passengerList:e});k(t),localStorage.setItem("orderInfo",JSON.stringify(t))}})]}),!y&&Object(d.jsxs)("form",{className:"edit-passenger__form",children:[Object(d.jsxs)("div",{className:"edit-passenger__ago-container",children:[Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__ago edit-passsenger__listbox",type:"text",name:"age",value:w?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439",readOnly:!0,onClick:function(){return h(!0)}}),b&&Object(d.jsxs)("ul",{className:"edit-passenger__list",children:[Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("isAdult",!0)},children:"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439"}),Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("isAdult",!1)},children:"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"})]})]}),Object(d.jsxs)("div",{className:"edit-passenger__name-section",children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__last-name",children:["\u0424\u0430\u043c\u0438\u043b\u0438\u044f",Object(d.jsx)("input",{className:"edit-passenger__input"+(K.lastName?" edit-passenger__error":""),type:"text",name:"last-name",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432",value:T,onChange:function(e){return W("lastName",e.target.value)},onBlur:function(e){return B("lastName",e.target.value.trim())},onKeyPress:Y})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__first-name",children:["\u0418\u043c\u044f",Object(d.jsx)("input",{className:"edit-passenger__input"+(K.firstName?" edit-passenger__error":""),type:"text",name:"first-name",placeholder:"\u0418\u0432\u0430\u043d",value:C,onChange:function(e){return W("firstName",e.target.value)},onBlur:function(e){return B("firstName",e.target.value.trim())},onKeyPress:Y})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__patronymic",children:["\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",Object(d.jsx)("input",{className:"edit-passenger__input"+(K.patronymic?" edit-passenger__error":""),type:"text",name:"patronymic",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",value:S,onChange:function(e){return W("patronymic",e.target.value)},onBlur:function(e){return B("patronymic",e.target.value.trim())},onKeyPress:Y})]})]}),Object(d.jsxs)("div",{className:"edit-passenger__data-section",children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__gender",children:["\u041f\u043e\u043b",Object(d.jsxs)("div",{className:"edit-passenger__gender-selector",children:[Object(d.jsx)("div",{className:"edit-passenger__gender-item"+(I?" edit-passenger__gender-item_active":""),onClick:function(){return B("gender",!0)},children:"\u041c"}),Object(d.jsx)("div",{className:"edit-passenger__gender-item"+(I?"":" edit-passenger__gender-item_active"),onClick:function(){return B("gender",!1)},children:"\u0416"})]})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__birthday",children:["\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",Object(d.jsx)("input",{className:"edit-passenger__input"+(K.birthday?" edit-passenger__error":""),type:"text",name:"birthday",placeholder:"\u0414\u0414 \u041c\u041c \u0413\u0413\u0413\u0413",value:H,onChange:function(e){return function(e){var t=e.replace(/[^\d]/g,"").split("",8);t.length>4&&t.splice(4,0,"."),t.length>2&&t.splice(2,0,"."),W("birthday",t.join(""))}(e.target.value)},onBlur:function(e){return B("birthday",e.target.value)},onKeyPress:Y})]})]}),Object(d.jsx)("div",{className:"edit-passenger__options-section",children:Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__label-checkbox"+(F?" edit-passenger__label-checkbox_checked":""),children:[Object(d.jsx)("input",{className:"edit-passenger__checkbox",type:"checkbox",name:"disability",checked:F,onChange:function(){return B("isDisability",!F)}}),"\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u0434\u0432\u0438\u0436\u043d\u043e\u0441\u0442\u044c"]})}),Object(d.jsxs)("div",{className:"edit-passenger__document-data-section",children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__document-type"+(V?" edit-passenger__document-type_passport":" edit-passenger__document-type_sertificate"),children:["\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",Object(d.jsx)("input",{className:"edit-passenger__input edit-passsenger__listbox"+(K.documentType?" edit-passenger__error":""),type:"text",name:"document-type",value:M,readOnly:!0,onClick:function(){return v(!0)}}),x&&Object(d.jsxs)("ul",{className:"edit-passenger__list edit-passenger__list_document-type",children:[Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("documentType","\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424")},children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"}),Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("documentType","\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438")},children:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"})]})]}),V?Object(d.jsxs)(s.Fragment,{children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__passport-series",children:["\u0421\u0435\u0440\u0438\u044f",Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__input_passport-series"+(K.passportSeries?" edit-passenger__error":""),type:"text",name:"passport-series",placeholder:" ",value:E,onChange:function(e){return function(e){var t=e.replace(/[^\d]/g,"").slice(0,4);W("passportSeries",t)}(e.target.value)},onBlur:function(e){return B("passportSeries",e.target.value)},onKeyPress:Y})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__passport-number",children:["\u041d\u043e\u043c\u0435\u0440",Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__input_passport-number"+(K.passportNumber?" edit-passenger__error":""),type:"text",name:"passport-number",placeholder:" ",value:D,onChange:function(e){return function(e){var t=e.replace(/[^\d]/g,"").slice(0,6);W("passportNumber",t)}(e.target.value)},onBlur:function(e){return B("passportNumber",e.target.value)},onKeyPress:Y})]})]}):Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__sertificate-number",children:["\u041d\u043e\u043c\u0435\u0440",Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__input_sertificate"+(K.birthSertificateNumber?" edit-passenger__error":""),type:"text",name:"sertificate-number",placeholder:" ",value:P,onChange:function(e){return W("birthSertificateNumber",e.target.value.toUpperCase())},onBlur:function(e){return function(e){var t=e.replace(/[^0-9IVX\u0410-\u042f]/g,"").slice(0,12).toUpperCase();B("birthSertificateNumber",t)}(e.target.value)},onKeyPress:Y})]})]}),Object(d.jsxs)("div",{className:"edit-passenger__state-section"+(R?" edit-passenger__state-section_error":"")+(L?" edit-passenger__state-section_ready":""),children:[L&&Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("img",{className:"edit-passenger__state-icon",src:et,width:"32",height:"32",alt:"ready-icon"}),Object(d.jsx)("div",{className:"edit-passenger__state-text-container",children:Object(d.jsx)("p",{className:"edit-passenger__state-text-ready",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})})]}),R&&Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("img",{className:"edit-passenger__state-icon",src:tt,width:"32",height:"32",alt:"error-icon"}),Object(d.jsxs)("div",{className:"edit-passenger__state-text-container",children:[U.string1&&Object(d.jsx)("p",{className:"edit-passenger__state-text-error",children:U.string1}),U.string2&&Object(d.jsxs)("p",{className:"edit-passenger__state-text-error",children:[U.string2,U.string3&&Object(d.jsx)("span",{className:"edit-passenger__state-text-error_bold",children:U.string3})]})]})]}),A&&Object(d.jsx)("button",{className:"edit-passenger__button-save",type:"button",onClick:function(e){var t=Object(Le.a)(c);t[a].isChange=!1,t[a].isReady=Ze(u).isReady,t[a].isError=!t[a].isReady;var s=Object(_.a)(Object(_.a)({},g),{},{passengerList:t});k(s),localStorage.setItem("orderInfo",JSON.stringify(s))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})]})}a(172);function st(e){var t=e.add;return Object(d.jsxs)("div",{className:"add-passenger",onClick:t,children:[Object(d.jsx)("h3",{className:"add-passenger__title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430"}),Object(d.jsx)("button",{className:"add-passenger__button",type:"button",children:"+"})]})}function ct(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(s.useContext)(o),n=r.setBookingStage,u=r.orderInfo,j=r.setOrderInfo,m=r.setPopup;Object(s.useEffect)((function(){n("passengers")}),[n]),Object(s.useEffect)((function(){c(u.passengerList?u.passengerList:[{}])}),[u.passengerList]);var p=a.length&&!a.find((function(e){return!e.isReady}));return Object(d.jsxs)("main",{className:"passengers",children:[Object(d.jsx)(le,{stepNumber:2}),Object(d.jsxs)("div",{className:"passengers__main",children:[Object(d.jsx)("section",{className:"passengers__left",children:Object(d.jsx)(Ge,{})}),Object(d.jsxs)("section",{className:"passengers__right",children:[a.map((function(e,t){return Object(d.jsx)("div",{className:"passengers__edit-passenger",children:Object(d.jsx)(at,{passenger:e,index:t,passengerList:a,setPassengerList:c})},Te.a.generate())})),u.seatList.forward.length>a.length&&Object(d.jsx)("div",{className:"passengers__add-passenger",children:Object(d.jsx)(st,{add:function(){var e=[].concat(Object(Le.a)(a),[{isCollapsed:!1,isAdult:!0,firstName:"",lastName:"",patronymic:"",gender:!0,birthday:"",isDisability:!1,includeChild:!1,documentType:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424",passportSeries:"",passportNumber:"",birthSertificateNumber:"",isChange:!1,isError:!1,isReady:!1}]),t=Object(_.a)(Object(_.a)({},u),{},{passengerList:e});j(t),localStorage.setItem("orderInfo",JSON.stringify(t))}})}),Object(d.jsx)(i.b,{to:"/run/payment",className:"passengers__button"+(p?" passengers__button_active":""),onClick:function(e){p||e.preventDefault(),a.length?a.find((function(e){return!e.isReady}))&&O(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u0431\u043e\u043b\u0435\u0435 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"]):O(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430"])},children:"\u0414\u0430\u043b\u0435\u0435"})]})]})]})}a(173),a(174);function rt(){var e=Object(s.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(s.useContext)(o),n=r.orderInfo,u=r.setOrderInfo,j=r.setPopup,m=Object(h.f)();Object(s.useEffect)((function(){c(n.user?n.user:{})}),[n.user]);var p=a.firstName,b=void 0===p?"":p,f=a.lastName,x=void 0===f?"":f,v=a.patronymic,N=void 0===v?"":v,g=a.phone,k=void 0===g?"":g,y=a.email,w=void 0===y?"":y,C=a.paymentMethod,T=void 0===C?"":C,S="online"===T,I="cash"===T,H=function(e){c(Object(_.a)(Object(_.a)({},a),{},{firstName:e}))},F=function(e){c(Object(_.a)(Object(_.a)({},a),{},{lastName:e}))},M=function(e){c(Object(_.a)(Object(_.a)({},a),{},{patronymic:e}))},E=function(e){c(Object(_.a)(Object(_.a)({},a),{},{email:e}))},D=function(e){c(Object(_.a)(Object(_.a)({},a),{},{paymentMethod:e}))},P=b.trim()&&x.trim()&&N.trim()&&k.trim()&&w.trim()&&T;return Object(d.jsxs)("div",{className:"user-data",children:[Object(d.jsxs)("form",{className:"user-data__form",children:[Object(d.jsx)("h3",{className:"user-data__title",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(d.jsxs)("div",{className:"user-data__data-section",children:[Object(d.jsxs)("div",{className:"user-data__name-line",children:[Object(d.jsxs)("label",{className:"user-data__label user-data__last-name",children:["\u0424\u0430\u043c\u0438\u043b\u0438\u044f",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"last-name",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432",value:x,onChange:function(e){return F(e.target.value)},onBlur:function(e){return F(e.target.value.trim())}})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__first-name",children:["\u0418\u043c\u044f",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"first-name",placeholder:"\u0418\u0432\u0430\u043d",value:b,onChange:function(e){return H(e.target.value)},onBlur:function(e){return H(e.target.value.trim())}})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__patronymic",children:["\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"patronymic",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",value:N,onChange:function(e){return M(e.target.value)},onBlur:function(e){return M(e.target.value.trim())}})]})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__phone",children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"phone",placeholder:"+7 ___ ___ __ __",value:k,onChange:function(e){return t=e.target.value,void c(Object(_.a)(Object(_.a)({},a),{},{phone:t}));var t},onBlur:function(e){return function(e){var t=e.replace(/[^\d]/g,"");t&&(t="+"+t),c(Object(_.a)(Object(_.a)({},a),{},{phone:t}))}(e.target.value)}})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__email",children:["E-mail",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"email",placeholder:"inbox@gmail.ru",value:w,onChange:function(e){return E(e.target.value)},onBlur:function(e){return E(e.target.value.trim())}})]})]}),Object(d.jsx)("h3",{className:"user-data__title",children:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"}),Object(d.jsxs)("div",{className:"user-data__online-section",children:[Object(d.jsxs)("label",{className:"user-data__label user-data__label-checkbox"+(S?" user-data__label-checkbox_checked":""),children:[Object(d.jsx)("input",{className:"user-data__checkbox",type:"checkbox",name:"online",checked:S,onChange:function(){return D("online")}}),"\u041e\u043d\u043b\u0430\u0439\u043d"]}),Object(d.jsxs)("ul",{className:"user-data__online-list",children:[Object(d.jsx)("li",{className:"user-data__online-list-item",children:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439"}),Object(d.jsx)("li",{className:"user-data__online-list-item",children:"PayPal"}),Object(d.jsx)("li",{className:"user-data__online-list-item",children:"Visa QIWI Wallet"})]})]}),Object(d.jsx)("div",{className:"user-data__cash-section",children:Object(d.jsxs)("label",{className:"user-data__label user-data__label-checkbox"+(I?" user-data__label-checkbox_checked":""),children:[Object(d.jsx)("input",{className:"user-data__checkbox",type:"checkbox",name:"cash",checked:I,onChange:function(){return D("cash")}}),"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438"]})})]}),Object(d.jsx)(i.b,{to:"/fe-32-diploma-fin/run/confirmation",className:"user-data__button"+(P?" user-data__button_active":""),onClick:function(e){if(e.preventDefault(),x)if(b)if(N)if(function(e){return/^\+7\d{10}$/.test(e)}(k))if(_e(w))if(T){var t=Object(_.a)(Object(_.a)({},n),{},{user:a});u(t),localStorage.setItem("orderInfo",JSON.stringify(t)),m.push("/run/confirmation")}else O(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"]);else O(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b","E-mail \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u0438\u0434 xxx@xxx.xx","\u041f\u0440\u0438\u043c\u0435\u0440: qwerty111@mail.ru"]);else O(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u043d\u0430 +7 \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0435\u0449\u0451 10 \u0446\u0438\u0444\u0440","\u041f\u0440\u0438\u043c\u0435\u0440\u044b: +79101234567, +7 (910) 123-45-67"]);else O(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",'\u041f\u043e\u043b\u0435 "\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f']);else O(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",'\u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f']);else O(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",'\u041f\u043e\u043b\u0435 "\u0424\u0430\u043c\u0438\u043b\u0438\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'])},children:"\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b"})]})}function nt(){var e=Object(s.useContext)(o).setBookingStage;return Object(s.useEffect)((function(){e("payment")}),[e]),Object(d.jsxs)("main",{className:"payment",children:[Object(d.jsx)(le,{stepNumber:3}),Object(d.jsxs)("div",{className:"payment__main",children:[Object(d.jsx)("section",{className:"payment__left",children:Object(d.jsx)(Ge,{})}),Object(d.jsx)("section",{className:"payment__right",children:Object(d.jsx)(rt,{})})]})]})}a(175),a(176);function it(){var e=Object(s.useContext)(o).orderInfo,t=e.passengerList;return Object(d.jsxs)("div",{className:"passengers-confirmation",children:[Object(d.jsx)("h3",{className:"passengers-confirmation__title",children:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"}),Object(d.jsxs)("div",{className:"passengers-confirmation__body",children:[Object(d.jsx)("div",{className:"passengers-confirmation__left",children:t&&t.length&&Object(d.jsx)("ul",{className:"passengers-confirmation__list",children:t.map((function(e){return Object(d.jsxs)("li",{className:"passengers-confirmation__list-item",children:[Object(d.jsxs)("div",{className:"passengers-confirmation__list-item-title",children:[Object(d.jsx)("svg",{className:"passengers-confirmation__icon",width:"68",height:"68",children:Object(d.jsx)("use",{xlinkHref:oe+"#passenger-negative"})}),Object(d.jsx)("p",{className:"passengers-confirmation__list-item-title-text",children:e.isAdult?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"})]}),Object(d.jsxs)("div",{className:"passengers-confirmation__list-item-body",children:[Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-name",children:[e.lastName," ",e.firstName," ",e.patronymic]}),Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-text",children:["\u041f\u043e\u043b ",e.gender?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439"]}),Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-text",children:["\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f ",e.birthday]}),Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-text",children:[e.documentType,"\xa0","\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===e.documentType?"".concat(e.passportSeries," ").concat(e.passportNumber):(t=e.birthSertificateNumber,"".concat(t.slice(0,-8)," ").concat(t.slice(-8,-6)," ").concat(t.slice(-6)))]})]})]},Te.a.generate());var t}))})}),Object(d.jsxs)("div",{className:"passengers-confirmation__right",children:[Object(d.jsxs)("div",{className:"passengers-confirmation__total",children:[Object(d.jsx)("p",{className:"passengers-confirmation__total-title",children:"\u0412\u0441\u0435\u0433\u043e"}),Object(d.jsx)("p",{className:"passengers-confirmation__price",children:xe(ge(e))}),Object(d.jsx)("p",{className:"passengers-confirmation__currency",children:"\u20bd"})]}),Object(d.jsx)(i.b,{to:"/run/passengers",className:"passengers-confirmation__button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})}a(177);function lt(){var e=Object(s.useContext)(o).orderInfo.user.paymentMethod;return Object(d.jsxs)("div",{className:"payment-confirmation",children:[Object(d.jsx)("h3",{className:"payment-confirmation__title",children:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"}),Object(d.jsxs)("div",{className:"payment-confirmation__body",children:[Object(d.jsx)("div",{className:"payment-confirmation__left",children:Object(d.jsx)("p",{className:"payment-confirmation__method",children:"online"===e?"\u041e\u043d\u043b\u0430\u0439\u043d":"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438"})}),Object(d.jsx)("div",{className:"payment-confirmation__right",children:Object(d.jsx)(i.b,{to:"/run/payment",className:"payment-confirmation__button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})}function ot(e,t,a,s){return dt.apply(this,arguments)}function dt(){return(dt=Object(b.a)(Object(p.a)().mark((function e(t,a,s,c){var r,n,i,l,o,d,u,j,m,b,_,h,f;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.seatList,n=c.passengerList,i=c.user,l=i.firstName,o=i.lastName,d=i.patronymic,u=i.phone,j=i.email,m=i.paymentMethod,(b={route_direction_id:a._id}).seats=n.map((function(e,t){var a="\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===e.documentType;return{coach_id:r.forward[t].coachId,person_info:{is_adult:e.isAdult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:Ne(e.birthday),document_type:a?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",document_data:a?e.passportSeries+e.passportNumber:e.birthSertificateNumber},seat_number:r.forward[t].seatNumber,is_child:!e.isAdult,include_children_seat:e.includeChild}})),(_={route_direction_id:s._id}).seats=n.map((function(e,t){var a="\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===e.documentType;return{coach_id:r.backward[t].coachId,person_info:{is_adult:e.isAdult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:Ne(e.birthday),document_type:a?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",document_data:a?e.passportSeries+e.passportNumber:e.birthSertificateNumber},seat_number:r.backward[t].seatNumber,is_child:!e.isAdult,include_children_seat:e.includeChild}})),h={user:{first_name:l,last_name:o,patronymic:d,phone:u,email:j,payment_method:m},departure:b,arrival:_},t({loading:!0,text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),e.next=10,F(h);case 10:return f=e.sent,t({loading:!1}),e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(){var e=Object(s.useContext)(o),t=e.setBookingStage,a=e.setAnimation,c=e.setPopup,r=e.forwardTrain,n=e.backwardTrain,l=e.orderInfo,u=Object(h.f)();Object(s.useEffect)((function(){t("confirmation")}),[t]);var j=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ot(a,r,n,l);case 3:(s=e.sent).ok?u.push("/run/completion"):x(c,s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("main",{className:"confirmation",children:[Object(d.jsx)(le,{stepNumber:4}),Object(d.jsxs)("div",{className:"confirmation__main",children:[Object(d.jsx)("section",{className:"confirmation__left",children:Object(d.jsx)(Ge,{})}),Object(d.jsxs)("section",{className:"confirmation__right",children:[Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(He,{trainInfo:r,isForward:!0,reloadInfo:function(e){return e},loadSeats:function(e){return e},isConfirmation:!0})}),Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(He,{trainInfo:n,isForward:!1,reloadInfo:function(e){return e},loadSeats:function(e){return e},isConfirmation:!0})}),Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(it,{})}),Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(lt,{})}),Object(d.jsx)(i.b,{to:"/run/completion",className:"confirmation__button confirmation__button_active",onClick:j,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})]})}var jt=a.p+"static/media/star.d4eb37de.svg",mt=a.p+"static/media/active-star.d1fd1c72.svg";a(178);function pt(){var e={clicked:!1,moved:!1},t=Object(s.useState)([e,e,e,e,e]),a=Object(l.a)(t,2),c=a[0],r=a[1],n=Object(s.useContext)(o),u=n.setBookingStage,j=n.orderInfo,m=j.user,p=m.firstName,b=m.patronymic;Object(s.useEffect)((function(){u("completion")}),[u]);return Object(d.jsx)("main",{className:"completion",children:Object(d.jsxs)("div",{className:"completion__window",children:[Object(d.jsx)("h2",{className:"completion__title",children:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"}),Object(d.jsxs)("div",{className:"completion__body",children:[Object(d.jsxs)("div",{className:"completion__order-data",children:[Object(d.jsxs)("p",{className:"completion__order-number",children:["\u2116\u0437\u0430\u043a\u0430\u0437\u0430 ",Math.trunc(900*Math.random()+100),"\u0410\u0410"]}),Object(d.jsx)("p",{className:"completion__order-sum-title",children:"\u0441\u0443\u043c\u043c\u0430"}),Object(d.jsx)("p",{className:"completion__order-price",children:xe(ge(j))}),Object(d.jsx)("p",{className:"completion__order-currency",children:"\u20bd"})]}),Object(d.jsxs)("div",{className:"completion__manual",children:[Object(d.jsxs)("div",{className:"completion__manual-item",children:[Object(d.jsx)("div",{className:"completion__manual-icon completion__manual-icon_1"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0431\u0438\u043b\u0435\u0442\u044b \u0431\u0443\u0434\u0443\u0442"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b"}),Object(d.jsxs)("p",{className:"completion__manual-text",children:["\u043d\u0430 \u0432\u0430\u0448"," ",Object(d.jsx)("span",{className:"completion__manual-text_bold",children:"e-mail"})]})]}),Object(d.jsxs)("div",{className:"completion__manual-item",children:[Object(d.jsx)("div",{className:"completion__manual-icon completion__manual-icon_2"}),Object(d.jsx)("p",{className:"completion__manual-text completion__manual-text_bold",children:"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0434\u043e \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438"})]}),Object(d.jsxs)("div",{className:"completion__manual-item",children:[Object(d.jsx)("div",{className:"completion__manual-icon completion__manual-icon_3"}),Object(d.jsx)("p",{className:"completion__manual-text completion__manual-text_bold",children:"\u043f\u0440\u0435\u0434\u044a\u044f\u0432\u0438\u0442\u0435"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u043d\u043d\u044b\u0435"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0431\u0438\u043b\u0435\u0442\u044b \u043f\u0440\u0438 \u043f\u043e\u0441\u0430\u0434\u043a\u0435"})]})]}),Object(d.jsxs)("div",{className:"completion__text-container",children:[Object(d.jsxs)("p",{className:"completion__text-title",children:[p," ",b,"!"]}),Object(d.jsx)("p",{className:"completion__text-text",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d."}),Object(d.jsx)("p",{className:"completion__text-text",children:"\u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0412\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."}),Object(d.jsx)("p",{className:"completion__text-end",children:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0434\u043e\u0432\u0435\u0440\u0438\u0435 \u0438 \u0436\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f!"})]}),Object(d.jsxs)("div",{className:"completion__controls",children:[Object(d.jsx)("p",{className:"completion__controls-text",children:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441"}),Object(d.jsx)("div",{className:"completion__stars-container",onMouseOut:function(){var e=c.map((function(e){return{clicked:e.clicked,moved:!1}}));r(e)},children:c.map((function(e,t){return Object(d.jsx)("div",{className:"completion__star-cell",onClick:function(){return function(e){var t=c.map((function(t,a){return{clicked:a<=e,moved:t.moved}}));r(t)}(t)},onMouseOver:function(){return function(e){var t=c.map((function(t,a){return{clicked:t.clicked,moved:a<=e}}));r(t)}(t)},children:Object(d.jsx)("img",{className:"completion__star",src:e.clicked||e.moved?mt:jt,width:"48",height:"48",alt:"star"})},t)}))}),Object(d.jsx)(i.b,{to:"/",className:"completion-button",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})]})]})})}function bt(){var e=Object(s.useContext)(o).animation;return Object(d.jsxs)(s.Fragment,{children:[e.loading&&Object(d.jsx)(z,{}),Object(d.jsx)("div",{className:"main__body"+(e.loading?" main__body_no-visible":""),children:Object(d.jsxs)(h.c,{children:[Object(d.jsx)(h.a,{exact:!0,path:"/",component:re}),Object(d.jsx)(h.a,{path:"/run/trains",component:Pe}),Object(d.jsx)(h.a,{path:"/run/seats",component:qe}),Object(d.jsx)(h.a,{path:"/run/passengers",component:ct}),Object(d.jsx)(h.a,{path:"/run/payment",component:nt}),Object(d.jsx)(h.a,{path:"/run/confirmation",component:ut}),Object(d.jsx)(h.a,{path:"/run/completion",component:pt})]})})]})}a(179),a(180);var _t=a.p+"static/media/icons.03963612.svg";function ht(){return Object(d.jsxs)("div",{className:"contacts",id:"contacts",children:[Object(d.jsx)("h3",{className:"contacts__title",children:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"}),Object(d.jsxs)("ul",{className:"contacts__list",children:[Object(d.jsxs)("li",{className:"contacts__list-item",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"tel:+78000000000",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"30",height:"30",children:Object(d.jsx)("use",{xlinkHref:_t+"#phone"})})})}),Object(d.jsx)("p",{className:"contacts__text",children:"8 (800) 000 00 00"})]}),Object(d.jsxs)("li",{className:"contacts__list-item",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"mailto:inbox@mail.ru",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"30",height:"25",children:Object(d.jsx)("use",{xlinkHref:_t+"#email"})})})}),Object(d.jsx)("p",{className:"contacts__text",children:"inbox@mail.ru"})]}),Object(d.jsxs)("li",{className:"contacts__list-item",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"skype:tu.train.tickets?call",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"30",height:"30",children:Object(d.jsx)("use",{xlinkHref:_t+"#skype"})})})}),Object(d.jsx)("p",{className:"contacts__text",children:"tu.train.tickets"})]}),Object(d.jsxs)("li",{className:"contacts__list-item contacts__list-item_geolocation",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"https://yandex.ru/maps/",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"21",height:"30",children:Object(d.jsx)("use",{xlinkHref:_t+"#location"})})})}),Object(d.jsxs)("p",{className:"contacts__text",children:["\u0433. \u041c\u043e\u0441\u043a\u0432\u0430",Object(d.jsx)("br",{}),"\u0443\u043b. \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f 27-35",Object(d.jsx)("br",{}),"555 555"]})]})]})]})}a(181);var ft=a.p+"static/media/icons.e4b19f5e.svg";function Ot(){return Object(d.jsxs)("div",{className:"social-media",children:[Object(d.jsx)("h3",{className:"social-media__title",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0441"}),Object(d.jsxs)("ul",{className:"social-media__list",children:[Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://www.youtube.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"38",height:"30",children:Object(d.jsx)("use",{xlinkHref:ft+"#youtube"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://www.instagram.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"32",height:"30",children:Object(d.jsx)("use",{xlinkHref:ft+"#instagram"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://plus.google.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"47",height:"30",children:Object(d.jsx)("use",{xlinkHref:ft+"#google-plus"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://www.facebook.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"14",height:"30",children:Object(d.jsx)("use",{xlinkHref:ft+"#facebook"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://twitter.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"37",height:"30",children:Object(d.jsx)("use",{xlinkHref:ft+"#twitter"})})})})]})]})}function xt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(b.a)(Object(p.a)().mark((function e(t,a){var s;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),e.next=3,E(a);case 3:return s=e.sent,t({loading:!1}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(182);function Nt(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(s.useContext)(o),n=r.setAnimation,i=r.setPopup,u=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var s,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s=a.trim()){e.next=6;break}return O(i,"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),c(""),e.abrupt("return");case 6:if(_e(s)){e.next=10;break}return O(i,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0432\u043e\u0434\u0430 email"),c(s),e.abrupt("return");case 10:return c(""),e.next=13,xt(n,s);case 13:(r=e.sent).ok?f(i,"\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 ".concat(s," \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438")):x(i,r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(s.Fragment,{children:Object(d.jsxs)("form",{className:"footer__subscribe",onSubmit:u,children:[Object(d.jsx)("h3",{className:"footer__subscription__title",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"}),Object(d.jsx)("label",{className:"footer__subscription__label",children:"\u0411\u0443\u0434\u044c\u0442\u0435 \u0432 \u043a\u0443\u0440\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"}),Object(d.jsx)("input",{className:"footer__subscription__input",name:"email",type:"text",value:a,placeholder:"e-mail",onChange:function(e){c(e.target.value),console.log(e.target.value)}}),Object(d.jsx)("button",{className:"footer__subscribe__btn",type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})}function gt(){return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsxs)("div",{className:"footer__main",children:[Object(d.jsx)(ht,{}),Object(d.jsxs)("div",{className:"footer__subscription-options",children:[Object(d.jsx)(Nt,{}),Object(d.jsx)(Ot,{})]})]}),Object(d.jsxs)("div",{className:"footer__bottom",children:[Object(d.jsx)("div",{className:"footer__logo",children:"\u041b\u043e\u0433\u043e"}),Object(d.jsx)("button",{className:"footer__scrollup",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}}),Object(d.jsx)("div",{className:"footer__copyright",children:"2018 Web"})]})]})}a(183);var kt=a.p+"static/media/icon-error.f617ffc6.svg",yt=a.p+"static/media/icon-info.8160a758.svg";function wt(){var e=Object(s.useContext)(o),t=e.popup,a=e.setPopup,c=e.animation,r=t.visible,n=t.buttonText,i=t.content,l=t.error,u=l?"error":"info";return(r||c.loading)&&Object(d.jsx)("div",{className:"popup",children:r&&Object(d.jsxs)("div",{className:"popup__window popup__window_".concat(u),children:[Object(d.jsx)("div",{className:"popup__top popup__top_".concat(u),children:Object(d.jsx)("img",{className:"popup__icon",src:l?kt:yt,width:"32",alt:"icon"})}),Object(d.jsx)("div",{className:"popup__content popup__content_".concat(u),children:i.map((function(e,t){return Object(d.jsx)("p",{className:"popup__paragraph popup__paragraph_".concat(u),children:e},Te.a.generate())}))}),Object(d.jsx)("div",{className:"popup__bottom",children:Object(d.jsx)("button",{className:"popup__button",type:"button",onClick:function(){return a({visible:!1})},children:n})})]})})}var Ct=function(){return Object(d.jsx)(u,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)($,{}),Object(d.jsx)(bt,{}),Object(d.jsx)(gt,{}),Object(d.jsx)(wt,{})]})})};n.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(Ct,{})}),document.getElementById("root"))}]),[[184,1,2]]]);
//# sourceMappingURL=main.1ca3697a.chunk.js.map