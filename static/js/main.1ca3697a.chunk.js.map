{"version":3,"sources":["AppContext.js","AppProvider.js","components/Header/Menu/Menu.js","api/gui.js","api/http/http.js","api/http/loadCities.js","components/Header/TicketSearchForm/LocationInput/location.svg","components/Header/TicketSearchForm/LocationInput/LocationInput.js","api/http/loadTrainsInfo.js","components/Header/TicketSearchForm/button-invert.svg","components/Header/TicketSearchForm/calendar.svg","components/Header/TicketSearchForm/TicketSearchForm.js","components/Header/Logo/Logo.js","components/Header/Header.js","components/Main/LoadingAnimation/loading-animation.gif","components/Main/LoadingAnimation/LoadingAnimation.js","components/Main/HomePage/About/About.js","components/Main/HomePage/Description/Description.js","components/Main/HomePage/Feedbacks/avatar_ekaterina.png","components/Main/HomePage/Feedbacks/avatar_evgeniy.png","components/Main/HomePage/Feedbacks/data.js","components/Main/HomePage/Feedbacks/Feedbacks.js","components/Main/HomePage/HomePage.js","components/Main/ProgressIndicator/dark-triangle.svg","components/Main/ProgressIndicator/light-triangle.svg","components/Main/ProgressIndicator/ProgressIndicator.js","components/Main/icons.svg","components/Main/Trains/TrainsParams/OptionCheckBox/OptionCheckBox.js","components/Main/Trains/TrainsParams/PriceRangeBar/PriceRangeBar.js","components/Main/Trains/TrainsParams/TrainsTimeFilter/TimeRangeBar/TimeRangeBar.js","components/Main/Trains/TrainsParams/TrainsTimeFilter/TrainsTimeFilter.js","api/utils.js","components/Main/Trains/TrainsParams/TrainsParams.js","components/Main/Trains/OptionIcons/OptionIcons.js","components/Main/Trains/LastRoutes/LastRoutesItem/LastRoutesItem.js","components/Main/Trains/LastRoutes/LastRoutes.js","components/Main/Trains/TrainsList/TrainsListItem/TrainClassSeatsInfo/TrainClassSeatsInfo.js","components/Main/Trains/TrainsList/TrainsListItem/TrainsListItem.js","components/Main/Trains/TrainsList/SelectTrainsPage/SelectTrainsPage.js","components/Main/Trains/TrainsList/TrainsList.js","api/http/loadSeatsInfo.js","components/Main/Trains/Trains.js","components/Main/Seats/TrainSeats/TrainSeatsHeader/TrainSeatsHeader.js","components/Main/Seats/TrainSeats/SeatsCount/SeatsCount.js","api/seats.js","components/Main/Seats/TrainSeats/CoachType/CoachSelect/CoachProperties/CoachProperties.js","components/Main/Seats/TrainSeats/CoachType/CoachSelect/CoachSelect.js","components/Main/Seats/TrainSeats/CoachType/CoachType.js","components/Main/Seats/TrainSeats/TrainSeats.js","components/Main/Seats/Seats.js","components/Main/Passengers/TravelDetails/TravelDetailsTrain/TravelDetailsTrain.js","components/Main/Passengers/TravelDetails/TravelDetailsPassengers/TravelDetailsPassengers.js","components/Main/Passengers/TravelDetails/TravelDetails.js","components/Main/Passengers/EditPassenger/verifyData.js","components/Main/Passengers/EditPassenger/ready.svg","components/Main/Passengers/EditPassenger/error.svg","components/Main/Passengers/EditPassenger/EditPassenger.js","components/Main/Passengers/AddPassenger/AddPassenger.js","components/Main/Passengers/Passengers.js","components/Main/Payment/UserData/UserData.js","components/Main/Payment/Payment.js","components/Main/Confirmation/PassengersConfirmation/PassengersConfirmation.js","components/Main/Confirmation/PaymentConfirmation/PaymentConfirmation.js","api/http/setOrder.js","components/Main/Confirmation/Confirmation.js","components/Main/Completion/star.svg","components/Main/Completion/active-star.svg","components/Main/Completion/Completion.js","components/Main/Main.js","components/Footer/Contacts/icons.svg","components/Footer/Contacts/Contacts.js","components/Footer/SocialMedia/icons.svg","components/Footer/SocialMedia/SocialMedia.js","api/http/setSubscribe.js","components/Footer/Subscription/Subscription.js","components/Footer/Footer.js","components/Popup/icon-error.svg","components/Popup/icon-info.svg","components/Popup/Popup.js","App.js","index.js"],"names":["AppContext","createContext","bookingStage","animation","loading","text","popup","visible","buttonText","content","error","trainsInfo","forwardTrain","backwardTrain","seatsInfo","orderInfo","travelDetailsCollapsed","AppProvider","props","storageTrainsInfo","useState","setBookingStage","setAnimation","setPopup","JSON","parse","localStorage","getItem","params","storageForwardTrain","setTrainsInfo","storageBackwardTrain","setForwardTrain","storageSeatsInfo","setBackwardTrain","storageOrderInfo","setSeatsInfo","setOrderInfo","forward","backward","passengers","setTravelDetailsCollapsed","Provider","value","children","Menu","className","exact","to","infoBox","Array","isArray","errorBox","httpErrorBox","response","status","statusText","incorrectDataErrorBox","fetchData","url","opt","fetch","ok","cities","name","process","routes","URL","Object","entries","forEach","item","searchParams","append","last","seats","trainId","order","info","method","headers","body","stringify","subscribe","email","loadCities","LocationInput","placeholder","setValue","timerId","setTimerId","citiesList","setCitiesList","showList","setShowList","useContext","getCities","cityName","json","list","length","console","log","type","onChange","evt","clearTimeout","target","trimLeft","setTimeout","timer","required","src","buttonIcon","width","alt","tabIndex","map","onClick","city","_id","loadTrainsInfo","fromCityId","toCityId","dateStart","dateEnd","limit","offset","sort","haveFirstClass","haveSecondClass","haveThirdClass","haveFourthClass","haveWifi","isExpress","priceFrom","priceTo","startDepartureHourFrom","startDepartureHourTo","startArrivalHourFrom","startArrivalHourTo","endDepartureHourFrom","endDepartureHourTo","endArrivalHourFrom","endArrivalHourTo","forwardTrainsParams","from_city_id","to_city_id","date_start","backwardTrainsParams","date_start_arrival","have_first_class","have_second_class","have_third_class","have_fourth_class","have_wifi","is_express","isNaN","price_from","price_to","start_departure_hour_from","start_departure_hour_to","start_arrival_hour_from","start_arrival_hour_to","forwardTrainsInfo","backwardTrainsInfo","lastRoutes","setItem","TicketSearchForm","classModificator","formClassName","labelClassName","buttonClassName","setDateStart","setDateEnd","initialFormState","from","formState","setFormState","history","useHistory","getCityId","field","trim","find","searchTickets","preventDefault","direction","push","onSubmit","buttonInvert","locale","dateFormat","selected","placeholderText","date","calendar","registerLocale","ru","Logo","Header","headerClassName","headerTopClassName","LoadingAnimation","loadingAnimation","height","About","id","Description","index","line","Fragment","data","avatar","ekaterina","evgeniy","Feedbacks","itemsToShow","showArrows","HomePage","useEffect","ProgressIndicator","stepNumber","i","array","stepClassName","stepNameClassName","lightTriangle","darkTriangle","OptionCheckBox","iconName","iconWidth","iconHeight","xlinkHref","icons","PriceRangeBar","minValue","maxValue","setMinValue","setMaxValue","changeRange","isDisabled","curX","setCurX","minLimit","maxLimit","step","minDiff","curMinValue","curMaxValue","curMinPos","Math","round","curMaxPos","style","left","right","onPointerDown","setPointerCapture","pointerId","clientX","onPointerMove","buttons","deltaX","parentElement","clientWidth","onPointerUp","TimeRangeBar","TrainsTimeFilter","times","setTimes","changeTimes","isStart","departureHourFrom","departureHourTo","arrivalHourFrom","arrivalHourTo","setDepartureHourFrom","setDepartureHourTo","setArrivalHourFrom","setArrivalHourTo","isCollapsed","setIsCollapsed","verifyEmail","test","secToDate","sec","moment","format","secToHourMin","durationToHourMin","duration","min","trunc","hour","separateThousands","result","slice","dayInFirstPosition","dayInLastPosition","totalTicketPrice","seatList","passengerList","reduce","sum","isAdult","fullPrice","childPrice","TrainsParams","reloadInfo","setHaveFirstClass","setHaveSecondClass","setHaveThirdClass","setHaveFourthClass","setHaveWifi","setIsExpress","setPriceFrom","setPriceTo","setStartDepartureHourFrom","setStartDepartureHourTo","setStartArrivalHourFrom","setStartArrivalHourTo","setEndDepartureHourFrom","setEndDepartureHourTo","setEndArrivalHourFrom","setEndArrivalHourTo","undefined","startTimes","endTimes","setStartTimes","setEndTimes","OptionIcons","haveFood","darkColor","iconClassName","LastRoutesItem","route","departure","min_price","railway_station_name","LastRoutes","shortid","generate","TrainClassSeatsInfo","classNumber","seatsCount","priceInfo","top_price","Infinity","bottom_price","side_price","TrainsListItem","trainInfo","isForward","loadSeats","isConfirmation","train","available_seats_info","price_info","returnToTrains","goToNextPage","trainInfoString","datetime","fourth","third","second","first","SelectTrainsPage","totalCount","pageNumber","setPageNumber","pageCount","setPageCount","middleNumber","setMiddleNumber","floor","ceil","isManyPages","activeButtonClassName","numberClick","number","newNumber","TrainsList","sortIndex","setSortIndex","limitIndex","setLimitIndex","trainsArray","items","trainsCount","total_count","sortModes","mode","limits","loadSeatsInfo","forwardTrainId","backwardTrainId","haveAirConditioning","seatsParams","have_air_conditioning","forwardSeatsInfo","backwardSeatsInfo","Trains","TrainSeatsHeader","durationText","durationToHourMinText","SeatsCount","seatsState","setSeatsState","ticketsCount","fullTicketsCount","childTicketsCount","parentTicketsCount","fullClassName","curTicketType","childClassName","parentClassName","setCurTicketType","createSeatsMap","coach","class_type","seatsMap","available","isTop","price","top","paddingTop","createMapType1","createMapType2","createMapType3","createMapType4","topPrice","bottomPrice","isLinensIncluded","is_linens_included","have_food","wifiPrice","wifi_price","linensPrice","linens_price","coachId","getTopAvailableSeatsCount","count","getBottomAvailableSeatsCount","getPrice","param","seat","addWifi","addLinens","ticketType","CoachProperties","checkOption","checkSeat","competitorCount","showHints","setShowHints","price1","price2","conditionerClassName","wifiClassName","wifiIconClassName","linensClassName","linensIconClassName","foodClassName","foodIconClassName","addFood","changeHint","optionIndex","isShow","hints","buttonMouseOver","buttonMouseOut","mapClassName","sumPrice","getSumPrice","onMouseOver","onMouseOut","seatIndex","CoachSelect","coachArray","filter","a","b","coachIndex","optionFlagName","isSelected","coachClick","CoachType","margin","marginLeft","TrainSeats","Seats","forwardSeats","setForwardSeats","backwardSeats","setBackwardSeats","random","forwardTicketsCount","backwardTicketsCount","isNextEnabled","forwardSeatList","backwardSeatList","seatNumber","initOrderInfo","firstName","lastName","patronymic","gender","birthday","isDisability","includeChild","documentType","passportSeries","passportNumber","birthSertificateNumber","isChange","isError","isReady","TravelDetailsTrain","setCollapsed","TravelDetailsPassengers","adult","child","TravelDetails","setSectionCollapsed","verifyData","errorFlags","errorText","string1","string2","string3","isValid","EditPassenger","passenger","setPassengerList","passengerState","setPassengerState","ageListShow","setAgeListShow","documentTypeListShow","setDocumentTypeListShow","isPassport","changeValue","keyPress","key","blur","verify","splice","newOrderInfo","readOnly","onBlur","onKeyPress","digitsArray","replace","split","join","changeBirthday","checked","newValue","changePassportSeries","changePassportNumber","toUpperCase","setBirthSertificateNumber","readyIcon","errorIcon","AddPassenger","add","Passengers","UserData","user","setUser","phone","paymentMethod","isOnline","isCash","changeFirstName","changeLastName","changePatronymic","changeEmail","changePaymentMethod","normalizePhone","verifyPhone","Payment","PassengersConfirmation","PaymentConfirmation","setOrder","route_direction_id","coach_id","person_info","is_adult","first_name","last_name","document_type","document_data","seat_number","is_child","include_children_seat","arrival","fullOrderInfo","payment_method","Confirmation","goToNext","f","Completion","initStar","clicked","moved","stars","setStars","newStars","starClick","starOver","activeStar","star","Main","path","component","Contacts","href","SocialMedia","setSubscribe","Subscription","setEmail","handleSubmit","event","mail","Footer","window","scrollTo","behavior","Popup","iconError","iconInfo","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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AK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHJ,EAAStM,GAAG0M,IAAM,GAClB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHJ,EAAStM,GAAG0M,IAAM,IAKtB,OAAQ1M,EAAI,GACV,KAAK,EACL,KAAK,EACL,KAAK,GACHsM,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,EACL,KAAK,EACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,EACL,KAAK,EACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,EACL,KAAK,EACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,EACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IACnB,MACF,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK,GACHsK,EAAStM,GAAGgC,KAAO,IAC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","file":"static/js/main.1ca3697a.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst AppContext = createContext({\n  bookingStage: null,\n  animation: {\n    loading: false,\n    text: \"\",\n  },\n  popup: {\n    visible: false,\n    buttonText: \"\",\n    content: [\"\"],\n    error: false,\n  },\n  trainsInfo: {},\n  forwardTrain: null,\n  backwardTrain: null,\n  seatsInfo: {},\n  orderInfo: {},\n  travelDetailsCollapsed: {},\n});\n\nexport default AppContext;\n","import { useState } from \"react\";\nimport AppContext from \"./AppContext\";\n\nexport default function AppProvider(props) {\n  const [bookingStage, setBookingStage] = useState(null);\n  const [animation, setAnimation] = useState({ loading: false });\n  const [popup, setPopup] = useState({ visible: false });\n\n  let storageTrainsInfo;\n  try {\n    storageTrainsInfo = JSON.parse(localStorage.getItem(\"trainsInfo\"));\n  } catch {\n    storageTrainsInfo = null;\n  }\n  if (!storageTrainsInfo || !storageTrainsInfo.params) {\n    storageTrainsInfo = { params: {} };\n  }\n  const [trainsInfo, setTrainsInfo] = useState(storageTrainsInfo);\n\n  let storageForwardTrain;\n  try {\n    storageForwardTrain = JSON.parse(localStorage.getItem(\"forwardTrain\"));\n  } catch {\n    storageForwardTrain = null;\n  }\n  const [forwardTrain, setForwardTrain] = useState(storageForwardTrain);\n\n  let storageBackwardTrain;\n  try {\n    storageBackwardTrain = JSON.parse(localStorage.getItem(\"backwardTrain\"));\n  } catch {\n    storageBackwardTrain = null;\n  }\n  const [backwardTrain, setBackwardTrain] = useState(storageBackwardTrain);\n\n  let storageSeatsInfo;\n  try {\n    storageSeatsInfo = JSON.parse(localStorage.getItem(\"seatsInfo\"));\n  } catch {\n    storageSeatsInfo = null;\n  }\n  if (!storageSeatsInfo || !storageSeatsInfo.params) {\n    storageSeatsInfo = { params: {} };\n  }\n  const [seatsInfo, setSeatsInfo] = useState(storageSeatsInfo);\n\n  let storageOrderInfo;\n  try {\n    storageOrderInfo = JSON.parse(localStorage.getItem(\"orderInfo\"));\n  } catch {\n    storageOrderInfo = {};\n  }\n  const [orderInfo, setOrderInfo] = useState(storageOrderInfo);\n\n  const [travelDetailsCollapsed, setTravelDetailsCollapsed] = useState({\n    forward: false,\n    backward: false,\n    passengers: false,\n  });\n\n  return (\n    <AppContext.Provider\n      value={{\n        bookingStage,\n        setBookingStage,\n        animation,\n        setAnimation,\n        popup,\n        setPopup,\n        trainsInfo,\n        setTrainsInfo,\n        forwardTrain,\n        setForwardTrain,\n        backwardTrain,\n        setBackwardTrain,\n        seatsInfo,\n        setSeatsInfo,\n        orderInfo,\n        setOrderInfo,\n        travelDetailsCollapsed,\n        setTravelDetailsCollapsed,\n      }}\n    >\n      {props.children}\n    </AppContext.Provider>\n  );\n}\n","import { HashLink as NavLink } from \"react-router-hash-link\";\nimport \"./Menu.css\";\n\nfunction Menu() {\n  return (\n    <nav className=\"header__navbar\">\n      <ul className=\"header__navbar__list\">\n        <li className=\"header__nav-item active\">\n          <NavLink exact to=\"/#about\" className=\"nav-link\">\n             \n          </NavLink>\n        </li>\n        <li className=\"header__nav-item\">\n          <NavLink to=\"/#description\" className=\"nav-link\">\n              \n          </NavLink>\n        </li>\n        <li className=\"header__nav-item\">\n          <NavLink to=\"/#feedbacks\" className=\"nav-link\">\n            \n          </NavLink>\n        </li>\n        <li className=\"header__nav-item\">\n          <NavLink to=\"/#contacts\" className=\"nav-link\">\n            \n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n}\n\nexport default Menu;\n","export function infoBox(setPopup, content, buttonText = \"OK\") {\n  setPopup({\n    visible: true,\n    buttonText,\n    content: Array.isArray(content) ? content : [content],\n    error: false,\n  });\n  return;\n}\n\nexport function errorBox(setPopup, content, buttonText = \"OK\") {\n  setPopup({\n    visible: true,\n    buttonText,\n    content: Array.isArray(content) ? content : [content],\n    error: true,\n  });\n  return;\n}\n\nexport function httpErrorBox(setPopup, response) {\n  errorBox(setPopup, [\n    ` ${response.status} - ${response.statusText}`,\n    \" -   \",\n  ]);\n}\n\nexport function incorrectDataErrorBox(setPopup) {\n  errorBox(setPopup, [\n    \"  \",\n    \" -   \",\n  ]);\n}\n","async function fetchData(url, opt) {\n  try {\n    return await fetch(url, opt);\n  } catch (err) {\n    return {\n      ok: false,\n      status: \"\",\n      statusText: \"No Connect\",\n    };\n  }\n}\n\nexport async function cities(name) {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes/cities?name=${name}`;\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function routes(params) {\n  const url = new URL(`${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes`);\n  Object.entries(params).forEach((item) =>\n    url.searchParams.append(item[0], item[1])\n  );\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function last() {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes/last`;\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function seats(trainId, params) {\n  const url = new URL(\n    `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes/${trainId}/seats`\n  );\n  Object.entries(params).forEach((item) =>\n    url.searchParams.append(item[0], item[1])\n  );\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function order(info) {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/order`;\n  const opt = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify(info),\n  };\n  const response = await fetchData(url, opt);\n  return response;\n}\n\nexport async function subscribe(email) {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/subscribe`;\n  const opt = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify({ email }),\n  };\n  const response = await fetchData(url, opt);\n  return response;\n}\n","import { cities } from \"./http\";\n\nexport async function loadCities(setAnimation, name) {\n  setAnimation({ loading: true, text: \" \" });\n  const response = await cities(name);\n  setAnimation({ loading: false });\n  return response;\n}\n","export default __webpack_public_path__ + \"static/media/location.08fbb43a.svg\";","import { useState, useContext, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AppContext from \"AppContext\";\nimport { httpErrorBox } from \"api/gui\";\nimport { loadCities } from \"api/http/loadCities\";\nimport buttonIcon from \"./location.svg\";\nimport \"./LocationInput.css\";\n\nexport default function LocationInput(props) {\n  const { name, value, placeholder, setValue } = props;\n\n  const [timerId, setTimerId] = useState(null);\n  const [citiesList, setCitiesList] = useState([]);\n  const [showList, setShowList] = useState(false);\n  const { animation, setAnimation, setPopup } = useContext(AppContext);\n\n  const getCities = async (cityName) => {\n    const response = await loadCities(setAnimation, cityName);\n    if (!response.ok) {\n      httpErrorBox(setPopup, response);\n    }\n    try {\n      const list = await response.json();\n      setCitiesList(list);\n      setShowList(!!list.length);\n    } catch (e) {\n      setShowList(false);\n    }\n  };\n  console.log(citiesList);\n  const timeout = 1000;\n\n  const timer = (text) => {\n    getCities(text);\n  };\n\n  const changeText = (evt) => {\n    if (animation.loading) {\n      return;\n    }\n\n    clearTimeout(timerId);\n    const text = evt.target.value.trimLeft();\n    setValue(text);\n\n    if (text.length) {\n      setTimerId(setTimeout(() => timer(text), timeout));\n    } else {\n      setShowList(false);\n    }\n  };\n\n  const selectCity = (city) => {\n    setValue(city);\n    setShowList(false);\n  };\n\n  return (\n    <Fragment>\n      <input\n        className=\"location-input__input\"\n        type=\"text\"\n        name={name}\n        value={value}\n        placeholder={placeholder}\n        onChange={changeText}\n        required\n      />\n      <div className=\"location-input__button\">\n        <img\n          className=\"location-input__button-icon\"\n          src={buttonIcon}\n          width=\"100%\"\n          alt=\"button-location\"\n        />\n      </div>\n      {showList && (\n        <ul className=\"location-input__list\" tabIndex=\"9999\">\n          {citiesList.map((item) => (\n            <li\n              className=\"location-input__list-item\"\n              key={item._id}\n              onClick={() => selectCity(item.name)}\n            >\n              {item.name}\n            </li>\n          ))}\n        </ul>\n      )}\n    </Fragment>\n  );\n}\n\nLocationInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  setValue: PropTypes.func.isRequired,\n};\n","import { routes, last } from \"./http\";\nimport { httpErrorBox, incorrectDataErrorBox } from \"../gui\";\n\nexport async function loadTrainsInfo(\n  setAnimation,\n  setPopup,\n  setTrainsInfo,\n  params\n) {\n  setAnimation({ loading: true, text: \" \" });\n\n  let response;\n  let forwardTrainsInfo;\n  let backwardTrainsInfo;\n  let lastRoutes;\n\n  const {\n    fromCityId,\n    toCityId,\n    dateStart,\n    dateEnd,\n    limit,\n    offset,\n    sort,\n    haveFirstClass,\n    haveSecondClass,\n    haveThirdClass,\n    haveFourthClass,\n    haveWifi,\n    isExpress,\n    priceFrom,\n    priceTo,\n    startDepartureHourFrom,\n    startDepartureHourTo,\n    startArrivalHourFrom,\n    startArrivalHourTo,\n    endDepartureHourFrom,\n    endDepartureHourTo,\n    endArrivalHourFrom,\n    endArrivalHourTo,\n  } = params;\n\n  const forwardTrainsParams = {\n    from_city_id: fromCityId,\n    to_city_id: toCityId,\n    date_start: dateStart,\n    limit,\n    offset,\n    sort,\n  };\n\n  const backwardTrainsParams = {\n    from_city_id: toCityId,\n    to_city_id: fromCityId,\n    date_start_arrival: dateEnd,\n    limit,\n    offset,\n    sort,\n  };\n\n  if (haveFirstClass) {\n    forwardTrainsParams.have_first_class = true;\n    backwardTrainsParams.have_first_class = true;\n  }\n\n  if (haveSecondClass) {\n    forwardTrainsParams.have_second_class = true;\n    backwardTrainsParams.have_second_class = true;\n  }\n\n  if (haveThirdClass) {\n    forwardTrainsParams.have_third_class = true;\n    backwardTrainsParams.have_third_class = true;\n  }\n\n  if (haveFourthClass) {\n    forwardTrainsParams.have_fourth_class = true;\n    backwardTrainsParams.have_fourth_class = true;\n  }\n\n  if (haveWifi) {\n    forwardTrainsParams.have_wifi = true;\n    backwardTrainsParams.have_wifi = true;\n  }\n\n  if (isExpress) {\n    forwardTrainsParams.is_express = true;\n    backwardTrainsParams.is_express = true;\n  }\n\n  if (!isNaN(+priceFrom)) {\n    forwardTrainsParams.price_from = priceFrom;\n    backwardTrainsParams.price_from = priceFrom;\n  }\n\n  if (!isNaN(+priceTo)) {\n    forwardTrainsParams.price_to = priceTo;\n    backwardTrainsParams.price_to = priceTo;\n  }\n\n  if (!isNaN(+startDepartureHourFrom)) {\n    forwardTrainsParams.start_departure_hour_from = startDepartureHourFrom;\n  }\n\n  if (!isNaN(+startDepartureHourTo)) {\n    forwardTrainsParams.start_departure_hour_to = startDepartureHourTo;\n  }\n\n  if (!isNaN(+startArrivalHourFrom)) {\n    forwardTrainsParams.start_arrival_hour_from = startArrivalHourFrom;\n  }\n\n  if (!isNaN(+startArrivalHourTo)) {\n    forwardTrainsParams.start_arrival_hour_to = startArrivalHourTo;\n  }\n\n  if (!isNaN(+endDepartureHourFrom)) {\n    backwardTrainsParams.start_departure_hour_from = endDepartureHourFrom;\n  }\n\n  if (!isNaN(+endDepartureHourTo)) {\n    backwardTrainsParams.start_departure_hour_to = endDepartureHourTo;\n  }\n\n  if (!isNaN(+endArrivalHourFrom)) {\n    backwardTrainsParams.start_arrival_hour_from = endArrivalHourFrom;\n  }\n\n  if (!isNaN(+endArrivalHourTo)) {\n    backwardTrainsParams.start_arrival_hour_to = endArrivalHourTo;\n  }\n\n  response = await routes(forwardTrainsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false });\n    httpErrorBox(setPopup, response);\n    return false;\n  }\n\n  try {\n    forwardTrainsInfo = await response.json();\n  } catch (e) {\n    setAnimation({ loading: false });\n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  response = await routes(backwardTrainsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false });\n    httpErrorBox(setPopup, response);\n    return false;\n  }\n\n  try {\n    backwardTrainsInfo = await response.json();\n  } catch (e) {\n    setAnimation({ loading: false });\n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  response = await last();\n  if (!response.ok) {\n    setAnimation({ loading: false });\n    httpErrorBox(setPopup, response);\n    return false;\n  }\n\n  try {\n    lastRoutes = await response.json();\n  } catch (e) {\n    setAnimation({ loading: false });\n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  const trainsInfo = {\n    params,\n    forwardTrainsInfo,\n    backwardTrainsInfo,\n    lastRoutes,\n  };\n\n  setTrainsInfo(trainsInfo);\n  localStorage.setItem(\"trainsInfo\", JSON.stringify(trainsInfo));\n\n  setAnimation({ loading: false });\n  return true;\n}\n","export default __webpack_public_path__ + \"static/media/button-invert.5fca6600.svg\";","export default __webpack_public_path__ + \"static/media/calendar.f3bd0495.svg\";","import { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport \"./TicketSearchForm.css\";\nimport AppContext from \"AppContext\";\nimport LocationInput from \"./LocationInput/LocationInput\";\nimport { errorBox, httpErrorBox } from \"api/gui\";\nimport { loadCities } from \"api/http/loadCities\";\nimport { loadTrainsInfo } from \"api/http/loadTrainsInfo\";\nimport DatePicker from \"react-datepicker\";\nimport { registerLocale } from \"react-datepicker\";\nimport ru from \"date-fns/locale/ru\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport buttonInvert from \"./button-invert.svg\";\nimport calendar from \"./calendar.svg\";\n\nregisterLocale(\"ru\", ru);\n\nexport default function TicketSearchForm(props) {\n  const { classModificator } = props;\n  const formClassName =\n    \"ticket-search-form\" +\n    (classModificator ? ` ticket-search-form${classModificator}` : \"\");\n  const labelClassName =\n    \"ticket-search-form__label\" +\n    (classModificator ? ` ticket-search-form__label${classModificator}` : \"\");\n  const buttonClassName =\n    \"ticket-search-form__button\" +\n    (classModificator ? ` ticket-search-form__button${classModificator}` : \"\");\n\n  const [dateStart, setDateStart] = useState(\"\");\n  const [dateEnd, setDateEnd] = useState(\"\");\n\n  const initialFormState = {\n    from: \"\",\n    to: \"\",\n  };\n\n  const [formState, setFormState] = useState(initialFormState);\n  const {\n    setPopup,\n    setAnimation,\n    setTrainsInfo,\n    setForwardTrain,\n    setBackwardTrain,\n  } = useContext(AppContext);\n  const history = useHistory();\n\n  const fromChange = (value) => {\n    setFormState({ ...formState, from: value });\n  };\n\n  const toChange = (value) => {\n    setFormState({ ...formState, to: value });\n  };\n\n  const invertDirection = () => {\n    const from = formState.to;\n    const to = formState.from;\n    setFormState({ ...formState, from, to });\n  };\n\n  const getCityId = async (cityName, field) => {\n    const name = cityName.trim();\n    const response = await loadCities(setAnimation, name);\n    if (!response.ok) {\n      httpErrorBox(setPopup, response);\n      return null;\n    }\n\n    let list;\n    try {\n      list = await response.json();\n    } catch (e) {\n      return null;\n    }\n    const city = list.find((item) => item.name === name);\n    return city._id;\n  };\n\n  const searchTickets = async (evt) => {\n    evt.preventDefault();\n\n    const fromCityId = await getCityId(formState.from, \"\");\n    if (fromCityId === null) {\n      return;\n    }\n\n    const toCityId = await getCityId(formState.to, \"\");\n    if (toCityId === null) {\n      return;\n    }\n\n    if (fromCityId === toCityId) {\n      errorBox(\n        setPopup,\n        '  \"\"  \"\"    '\n      );\n      return;\n    }\n\n    const result = await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, {\n      fromCityId,\n      toCityId,\n      dateStart,\n      dateEnd,\n      limit: 5,\n      offset: 0,\n      sort: \"date\",\n      direction: \"forward\",\n    });\n\n    if (!result) {\n      return;\n    }\n\n    history.push(\"/run/trains\");\n    setFormState(initialFormState);\n    setForwardTrain(null);\n    setBackwardTrain(null);\n    localStorage.setItem(\"forwardTrain\", null);\n    localStorage.setItem(\"backwardTrain\", null);\n  };\n\n  return (\n    <form className={formClassName} onSubmit={searchTickets}>\n      <label className={labelClassName}>\n        \n        <div className=\"ticket-search-form__input-container\">\n          <LocationInput\n            name=\"from\"\n            value={formState.from}\n            placeholder=\"\"\n            setValue={fromChange}\n          />\n        </div>\n      </label>\n      <button\n        className=\"ticket-search-form__button-invert\"\n        type=\"button\"\n        onClick={invertDirection}\n      >\n        <img\n          className=\"ticket-search-form__image-invert\"\n          src={buttonInvert}\n          width=\"100%\"\n          alt=\"button-invert\"\n        />\n      </button>\n      <div className=\"ticket-search-form__input-container\">\n        <LocationInput\n          name=\"to\"\n          value={formState.to}\n          placeholder=\"\"\n          setValue={toChange}\n        />\n      </div>\n      <label className={labelClassName}>\n        \n        <div className=\"ticket-search-form__input-container\">\n          <DatePicker\n            className=\"date-input__datepicker\"\n            locale=\"ru\"\n            dateFormat=\"dd/MM/yyyy\"\n            // minDate={Date.now()}\n            selected={dateStart}\n            placeholderText=\"//\"\n            onChange={(date) => setDateStart(date)}\n          />\n          <div className=\"date-input__button\">\n            <img\n              className=\"date-input__button-icon\"\n              src={calendar}\n              width=\"100%\"\n              alt=\"button-calendar\"\n            />\n          </div>\n        </div>\n      </label>\n      <div className=\"ticket-search-form__input-container\">\n        <DatePicker\n          className=\"date-input__datepicker\"\n          locale=\"ru\"\n          dateFormat=\"dd/MM/yyyy\"\n          // minDate={Date.now()}\n          selected={dateEnd}\n          placeholderText=\"//\"\n          onChange={(date) => setDateEnd(date)}\n        />\n        <div className=\"date-input__button\">\n          <img\n            className=\"date-input__button-icon\"\n            src={calendar}\n            width=\"100%\"\n            alt=\"button-calendar\"\n          />\n        </div>\n      </div>\n      <button className={buttonClassName} type=\"submit\">\n         \n      </button>\n    </form>\n  );\n}\n\nTicketSearchForm.propTypes = {\n  classModificator: PropTypes.string.isRequired,\n};\n","import { Link } from \"react-router-dom\";\nimport \"./Logo.css\";\n\nexport default function Logo() {\n  return (\n    <div className=\"header__logo\">\n      <Link to=\"/\" className=\"header__logo__link\">\n        \n      </Link>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport AppContext from \"AppContext\";\nimport Menu from \"./Menu/Menu\";\nimport TicketSearchForm from \"./TicketSearchForm/TicketSearchForm\";\nimport Logo from \"./Logo/Logo\";\nimport \"./Header.css\";\n\nexport default function Header() {\n  const { bookingStage } = useContext(AppContext);\n  let classModificator = \"\";\n\n  switch (bookingStage) {\n    case \"trains\":\n    case \"seats\":\n    case \"passengers\":\n    case \"payment\":\n    case \"confirmation\":\n      classModificator = \"_run\";\n      break;\n    case \"completion\":\n      classModificator = \"_completion\";\n      break;\n    default:\n  }\n\n  const headerClassName =\n    \"header\" + (classModificator ? ` header${classModificator}` : \"\");\n  const headerTopClassName =\n    \"header__top\" + (classModificator ? ` header__top${classModificator}` : \"\");\n\n  return (\n    <header className={headerClassName}>\n      <div className={headerTopClassName}>\n        <Logo />\n      </div>\n      <Menu />\n      {classModificator !== \"_completion\" && (\n        <div className=\"header__body\">\n          {!classModificator && (\n            <p className=\"header__slogan\">\n                -\n              <br />\n              <span className=\"header__slogan_bold\">!</span>\n            </p>\n          )}\n          <TicketSearchForm classModificator={classModificator} />\n        </div>\n      )}\n    </header>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/loading-animation.4e2e699c.gif\";","import { useContext } from \"react\";\nimport \"./LoadingAnimation.css\";\nimport AppContext from \"AppContext\";\nimport loadingAnimation from \"./loading-animation.gif\";\n\nexport default function LoadingAnimation() {\n  const { animation } = useContext(AppContext);\n\n  return (\n    <div className=\"loading-animation\">\n      <img\n        className=\"loading-animation__image\"\n        src={loadingAnimation}\n        height=\"780\"\n        alt=\"loading-animation\"\n      />\n      <p className=\"loading-animation__text\">{animation.text}</p>\n    </div>\n  );\n}\n","import \"./About.css\";\n\nexport default function About() {\n  return (\n    <section className=\"about\" id=\"about\">\n      <h2 className=\"about__title\"> </h2>\n      <div className=\"about__content\">\n        <p className=\"about__text\">\n             !      2003 . 14  \n          ,          \n           .\n        </p>\n        <p className=\"about__text\">\n                  2 ,\n              ?\n          <br />\n                .\n        </p>\n        <p className=\"about__text\">\n                90    .\n          <br />\n                  \n           .\n        </p>\n      </div>\n    </section>\n  );\n}\n","import React, { useContext } from \"react\";\nimport \"./Description.css\";\nimport AppContext from \"AppContext\";\nimport { infoBox } from \"api/gui\";\n\nexport default function Description() {\n  const { setPopup } = useContext(AppContext);\n\n  const description = [\n    [\" \", \" \"],\n    [\" \", \"  \"],\n    [\" \", \"\"],\n  ];\n\n  const showPopup = () => {\n    infoBox(\n      setPopup,\n      \"        \"\n    );\n  };\n\n  return (\n    <section className=\"description\" id=\"description\">\n      <div className=\"description__top\">\n        <h2 className=\"description__title\">  </h2>\n        <button\n          className=\"description__button\"\n          type=\"button\"\n          onClick={showPopup}\n        >\n           \n        </button>\n      </div>\n      <div className=\"description__items\">\n        {description.map((item, index) => (\n          <div key={index} className=\"description__item\">\n            <div\n              className={`description__icon description__icon_${index + 1}`}\n            ></div>\n            <p className=\"description__text\">\n              {item.map((line, index) => (\n                <React.Fragment key={index}>\n                  {line}\n                  <br />\n                </React.Fragment>\n              ))}\n            </p>\n          </div>\n        ))}\n      </div>\n    </section>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/avatar_ekaterina.e05877d1.png\";","export default __webpack_public_path__ + \"static/media/avatar_evgeniy.65a6aedf.png\";","import ekaterina from \"./avatar_ekaterina.png\";\nimport evgeniy from \"./avatar_evgeniy.png\";\n\nconst data = [\n  {\n    avatar: ekaterina,\n    name: \" \",\n    text: \"               / ,       .\",\n  },\n  {\n    avatar: evgeniy,\n    name: \" \",\n    text: \"-      /    3       -  .\",\n  },\n  {\n    avatar: ekaterina,\n    name: \" \",\n    text: \"               / ,       .\",\n  },\n  {\n    avatar: evgeniy,\n    name: \" \",\n    text: \"-      /    3       -  .\",\n  },\n  {\n    avatar: ekaterina,\n    name: \" \",\n    text: \"               / ,       .\",\n  },\n  {\n    avatar: evgeniy,\n    name: \" \",\n    text: \"-      /    3       -  .\",\n  },\n  {\n    avatar: ekaterina,\n    name: \" \",\n    text: \"               / ,       .\",\n  },\n  {\n    avatar: evgeniy,\n    name: \" \",\n    text: \"-      /    3       -  .\",\n  },\n  {\n    avatar: ekaterina,\n    name: \" \",\n    text: \"               / ,       .\",\n  },\n  {\n    avatar: evgeniy,\n    name: \" \",\n    text: \"-      /    3       -  .\",\n  },\n];\n\nexport default data;\n","import React from \"react\";\nimport Carousel from \"react-elastic-carousel\";\nimport \"./Feedbacks.css\";\nimport data from \"./data\";\n\nexport default function Feedbacks() {\n  return (\n    <section className=\"feedbacks__slider\" id=\"feedbacks\">\n      <h2 className=\"feedbacks__title\"></h2>\n      <div className=\"feedbacks__items\">\n        <Carousel itemsToShow={2} showArrows={false}>\n          {data.map((item, index) => (\n            <div className=\"feedbacks__item\" key={index}>\n              <img\n                className=\"feedbacks__item__avatar\"\n                src={item.avatar}\n                alt=\"avatar\"\n              />\n              <div className=\"feedbacks__item__content\">\n                <div className=\"feedbacks__item__name\">{item.name}</div>\n                <div className=\"feedbacks__item__text\">\n                  <span className=\"feedbacks__item__quote-start\">&#8220;</span>\n                  {item.text}{\" \"}\n                  <span className=\"feedbacks__item__quote-end\">&#8222;</span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </Carousel>\n      </div>\n    </section>\n  );\n}\n","import { useContext, useEffect } from \"react\";\nimport AppContext from \"AppContext\";\nimport About from \"./About/About\";\nimport Description from \"./Description/Description\";\nimport Feedbacks from \"./Feedbacks/Feedbacks\";\n\nexport default function HomePage() {\n  const { setBookingStage } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage(null);\n  }, [setBookingStage]);\n\n  return (\n    <main className=\"home-page\">\n      <About />\n      <Description />\n      <Feedbacks />\n    </main>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/dark-triangle.8b813f45.svg\";","export default __webpack_public_path__ + \"static/media/light-triangle.5ca8bc48.svg\";","import PropTypes from \"prop-types\";\nimport \"./ProgressIndicator.css\";\nimport darkTriangle from \"./dark-triangle.svg\";\nimport lightTriangle from \"./light-triangle.svg\";\n\nexport default function ProgressIndicator(props) {\n  const { stepNumber } = props;\n\n  const steps = [\"\", \"\", \"\", \"\"];\n\n  return (\n    <div className=\"progress-indicator\">\n      {steps.map((item, i, array) => {\n        let stepClassName = `progress-indicator__step progress-indicator__step_${\n          i + 1\n        }`;\n        if (i < stepNumber) {\n          stepClassName += \" progress-indicator__step_highlighted\";\n        }\n        const stepNameClassName = `progress-indicator__step-name progress-indicator__step-name_${\n          i + 1\n        }`;\n\n        return (\n          <div className={stepClassName} key={i}>\n            <p className=\"progress-indicator__step-number\">{i + 1}</p>\n            <p className={stepNameClassName}>{item}</p>\n            {i < array.length - 1 && (\n              <img\n                className=\"progress-indicator__triangle\"\n                src={i < stepNumber ? lightTriangle : darkTriangle}\n                width=\"37\"\n                height=\"98\"\n                alt=\"triangle\"\n              />\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nProgressIndicator.propTypes = {\n  stepNumber: PropTypes.number.isRequired,\n};\n","export default __webpack_public_path__ + \"static/media/icons.659298fb.svg\";","import PropTypes from \"prop-types\";\nimport \"./OptionCheckBox.css\";\nimport icons from \"components/Main/icons.svg\";\n\nexport default function OptionCheckBox(props) {\n  const { iconName, iconWidth, iconHeight, name, value, setValue } = props;\n\n  return (\n    <div className=\"option-check-box\">\n      <svg\n        className=\"option-check-box__icon\"\n        width={iconWidth}\n        height={iconHeight}\n      >\n        <use xlinkHref={`${icons}#${iconName}`} />\n      </svg>\n      <p className=\"option-check-box__title\">{name}</p>\n      <div\n        className={\n          \"option-check-box__selector \" +\n          (value\n            ? \"option-check-box__selector_on\"\n            : \"option-check-box__selector_off\")\n        }\n        onClick={() => setValue(!value)}\n      >\n        <div\n          className={\n            \"option-check-box__handle \" +\n            (value\n              ? \"option-check-box__handle_on\"\n              : \"option-check-box__handle_off\")\n          }\n        ></div>\n      </div>\n    </div>\n  );\n}\n\nOptionCheckBox.propTypes = {\n  iconName: PropTypes.string.isRequired,\n  iconWidth: PropTypes.number.isRequired,\n  iconHeight: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.bool.isRequired,\n  setValue: PropTypes.func.isRequired,\n};\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./PriceRangeBar.css\";\n\nexport default function PriceRangeBar(props) {\n  const {\n    minValue,\n    maxValue,\n    setMinValue,\n    setMaxValue,\n    changeRange,\n    isDisabled,\n  } = props;\n\n  const [curX, setCurX] = useState(0);\n\n  const minLimit = 500;\n  const maxLimit = 5000;\n  const step = 100;\n  const minDiff = 1000;\n\n  let curMinValue = minValue >= minLimit ? minValue : minLimit;\n  let curMaxValue = maxValue <= maxLimit ? maxValue : maxLimit;\n  if (curMinValue + minDiff > curMaxValue) {\n    curMinValue = minLimit;\n    curMaxValue = maxLimit;\n  }\n\n  const curMinPos = Math.round(\n    ((curMinValue - minLimit) / (maxLimit - minLimit)) * 100\n  );\n  const curMaxPos =\n    100 - Math.round(((curMaxValue - minLimit) / (maxLimit - minLimit)) * 100);\n\n  const onPointerDownMin = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId);\n    setCurX(evt.clientX);\n  };\n\n  const onPointerDownMax = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId);\n    setCurX(evt.clientX);\n  };\n\n  const onPointerMoveMin = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n\n    const deltaX =\n      (evt.target.parentElement.parentElement.clientWidth * step) /\n      (maxLimit - minLimit);\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        curMinValue += step;\n        setMinValue(curMinValue);\n      }\n    }\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue > minLimit) {\n        curMinValue -= step;\n        setMinValue(curMinValue > minLimit ? curMinValue : minLimit);\n      }\n    }\n  };\n\n  const onPointerMoveMax = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n\n    const deltaX =\n      (evt.target.parentElement.parentElement.clientWidth * step) /\n      (maxLimit - minLimit);\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        curMaxValue -= step;\n        setMaxValue(curMaxValue);\n      }\n    }\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMaxValue < maxLimit) {\n        curMaxValue += step;\n        setMaxValue(curMaxValue < maxLimit ? curMaxValue : maxLimit);\n      }\n    }\n  };\n\n  const onPointerUpMin = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  };\n\n  const onPointerUpMax = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  };\n\n  return (\n    <div className=\"price-range-bar\">\n      <div\n        className={\n          \"price-range-bar__range\" +\n          (isDisabled ? \" price-range-bar__range_disabled\" : \"\")\n        }\n        style={{ left: `${curMinPos}%`, right: `${curMaxPos}%` }}\n      >\n        <div\n          className=\"price-range-bar__handle price-range-bar__handle-min\"\n          onPointerDown={onPointerDownMin}\n          onPointerMove={onPointerMoveMin}\n          onPointerUp={onPointerUpMin}\n        >\n          <p className=\"price-range-bar__handle-title\"></p>\n          <p className=\"price-range-bar__handle-value\">\n            {curMinValue > minLimit ? curMinValue : \"min\"}\n          </p>\n        </div>\n        <div\n          className=\"price-range-bar__handle price-range-bar__handle-max\"\n          onPointerDown={onPointerDownMax}\n          onPointerMove={onPointerMoveMax}\n          onPointerUp={onPointerUpMax}\n        >\n          <p className=\"price-range-bar__handle-title\"></p>\n          <p className=\"price-range-bar__handle-value\">\n            {curMaxValue < maxLimit ? curMaxValue : \"max\"}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nPriceRangeBar.propTypes = {\n  minValue: PropTypes.number.isRequired,\n  maxValue: PropTypes.number.isRequired,\n  setMinValue: PropTypes.func.isRequired,\n  setMaxValue: PropTypes.func.isRequired,\n  changeRange: PropTypes.func.isRequired,\n  isDisabled: PropTypes.bool.isRequired,\n};\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./TimeRangeBar.css\";\n\nexport default function TimeRangeBar(props) {\n  const {\n    minValue,\n    maxValue,\n    setMinValue,\n    setMaxValue,\n    changeRange,\n    isDisabled,\n  } = props;\n\n  const [curX, setCurX] = useState(0);\n\n  const minDiff = 4;\n\n  let curMinValue = minValue >= 0 ? minValue : 0;\n  let curMaxValue = maxValue <= 24 ? maxValue : 24;\n  if (curMinValue + minDiff > curMaxValue) {\n    curMinValue = 0;\n    curMaxValue = 24;\n  }\n\n  const curMinPos = Math.round((curMinValue / 24) * 100);\n  const curMaxPos = 100 - Math.round((curMaxValue / 24) * 100);\n\n  const onPointerDownMin = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId);\n    setCurX(evt.clientX);\n  };\n\n  const onPointerDownMax = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId);\n    setCurX(evt.clientX);\n  };\n\n  const onPointerMoveMin = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n\n    const deltaX = evt.target.parentElement.parentElement.clientWidth / 24;\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        setMinValue(curMinValue + 1);\n      }\n    }\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue > 0) {\n        setMinValue(curMinValue - 1);\n      }\n    }\n  };\n\n  const onPointerMoveMax = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n\n    const deltaX = evt.target.parentElement.parentElement.clientWidth / 24;\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        setMaxValue(curMaxValue - 1);\n      }\n    }\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMaxValue < 24) {\n        setMaxValue(curMaxValue + 1);\n      }\n    }\n  };\n\n  const onPointerUpMin = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  };\n\n  const onPointerUpMax = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  };\n\n  return (\n    <div className=\"time-range-bar\">\n      <div\n        className={\n          \"time-range-bar__range\" +\n          (isDisabled ? \" time-range-bar__range_disabled\" : \"\")\n        }\n        style={{ left: `${curMinPos}%`, right: `${curMaxPos}%` }}\n      >\n        <div\n          className=\"time-range-bar__handle time-range-bar__handle-min\"\n          onPointerDown={onPointerDownMin}\n          onPointerMove={onPointerMoveMin}\n          onPointerUp={onPointerUpMin}\n        >\n          <p className=\"time-range-bar__handle-value\">{curMinValue}:00</p>\n        </div>\n        <div\n          className=\"time-range-bar__handle time-range-bar__handle-max\"\n          onPointerDown={onPointerDownMax}\n          onPointerMove={onPointerMoveMax}\n          onPointerUp={onPointerUpMax}\n        >\n          <p className=\"time-range-bar__handle-value\">{curMaxValue}:00</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nTimeRangeBar.propTypes = {\n  minValue: PropTypes.number.isRequired,\n  maxValue: PropTypes.number.isRequired,\n  setMinValue: PropTypes.func.isRequired,\n  setMaxValue: PropTypes.func.isRequired,\n  changeRange: PropTypes.func.isRequired,\n  isDisabled: PropTypes.bool.isRequired,\n};\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./TrainsTimeFilter.css\";\nimport TimeRangeBar from \"./TimeRangeBar/TimeRangeBar\";\nimport icons from \"components/Main/icons.svg\";\n\nexport default function TrainsTimeFilter(props) {\n  const { times, setTimes, changeTimes, isStart, isDisabled } = props;\n  const { departureHourFrom, departureHourTo, arrivalHourFrom, arrivalHourTo } =\n    times;\n  const {\n    setDepartureHourFrom,\n    setDepartureHourTo,\n    setArrivalHourFrom,\n    setArrivalHourTo,\n  } = setTimes;\n\n  const [isCollapsed, setIsCollapsed] = useState(true);\n\n  const changeDepartureTimes = (minValue, maxValue) => {\n    const times = {\n      departureHourFrom: minValue,\n      departureHourTo: maxValue,\n      arrivalHourFrom,\n      arrivalHourTo,\n    };\n    changeTimes(times);\n  };\n\n  const changeArrivalTimes = (minValue, maxValue) => {\n    const times = {\n      departureHourFrom,\n      departureHourTo,\n      arrivalHourFrom: minValue,\n      arrivalHourTo: maxValue,\n    };\n    changeTimes(times);\n  };\n\n  return (\n    <div className=\"trains-time-filter\">\n      <div\n        className={\n          \"trains-time-filter__collapsed\" +\n          (isCollapsed ? \"\" : \" trains-time-filter__collapsed_exp\")\n        }\n      >\n        <svg\n          className={\n            \"trains-time-filter__arrow\" +\n            (isStart ? \"\" : \" trains-time-filter__arrow_mirror\")\n          }\n          width=\"32\"\n          height=\"26\"\n        >\n          <use xlinkHref={icons + \"#arrow-negative\"} />\n        </svg>\n        <p className=\"trains-time-filter__title\">\n          {isStart ? \"\" : \"\"}\n        </p>\n        <button\n          className={\n            \"trains-time-filter__button\" +\n            (isCollapsed ? \"\" : \" trains-time-filter__button_minus\")\n          }\n          type=\"button\"\n          onClick={() => setIsCollapsed(!isCollapsed)}\n        ></button>\n      </div>\n      {!isCollapsed && (\n        <div className=\"trains-time-filter__full\">\n          <p className=\"trains-time-filter__bar-title trains-time-filter__bar-title_departure\">\n             \n          </p>\n          <div className=\"trains-time-filter__bar\">\n            <TimeRangeBar\n              minValue={departureHourFrom}\n              maxValue={departureHourTo}\n              setMinValue={setDepartureHourFrom}\n              setMaxValue={setDepartureHourTo}\n              changeRange={changeDepartureTimes}\n              isDisabled={isDisabled}\n            />\n          </div>\n          <p className=\"trains-time-filter__bar-title trains-time-filter__bar-title_arrival\">\n             \n          </p>\n          <div className=\"trains-time-filter__bar\">\n            <TimeRangeBar\n              minValue={arrivalHourFrom}\n              maxValue={arrivalHourTo}\n              setMinValue={setArrivalHourFrom}\n              setMaxValue={setArrivalHourTo}\n              changeRange={changeArrivalTimes}\n              isDisabled={isDisabled}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nTrainsTimeFilter.propTypes = {\n  times: PropTypes.objectOf(PropTypes.number),\n  setTimes: PropTypes.objectOf(PropTypes.func),\n  changeTimes: PropTypes.func.isRequired,\n  isStart: PropTypes.bool.isRequired,\n  isDisabled: PropTypes.bool.isRequired,\n};\n","import moment from \"moment\";\n\nexport function verifyPhone(phone) {\n  return /^\\+7\\d{10}$/.test(phone);\n}\n\nexport function verifyEmail(email) {\n  return /^[^@]+@([^@.]+\\.)+[^@.]+$/.test(email);\n}\n\nexport function separateBirthdaySertificateNumber(number) {\n  return `${number.slice(0, -8)} ${number.slice(-8, -6)} ${number.slice(-6)}`;\n}\n\nexport function readDate(date1, date2) {\n  const result = { status: false };\n  const format = \"DD.MM.YYYY\";\n\n  if (!date1) {\n    result.errorText = [\n      \"   \",\n      \"   \",\n    ];\n    return result;\n  }\n\n  if (!date2) {\n    result.errorText = [\n      \"   \",\n      \"   \",\n    ];\n    return result;\n  }\n\n  if (date1.length !== 10 || !moment(date1, format).isValid()) {\n    result.errorText = [\n      \"   \",\n      ` ${date1}    `,\n      \"    ..,   - ,  - ,  - \",\n    ];\n    return result;\n  }\n\n  if (date2.length !== 10 || !moment(date2, format).isValid()) {\n    result.errorText = [\n      \"   \",\n      ` ${date2}    `,\n      \"    ..,   - ,  - ,  - \",\n    ];\n    return result;\n  }\n\n  const minLimit = 1;\n  const maxLimit = 90;\n\n  const todayString = moment().format(format);\n  const today = moment(todayString, format);\n  const minDay = moment(todayString, format).add(minLimit, \"days\");\n  const maxDay = moment(todayString, format).add(maxLimit, \"days\");\n\n  const moment1 = moment(date1, format);\n  const moment2 = moment(date2, format);\n\n  const diff1 = moment1.diff(today, \"days\");\n  const diff2 = moment2.diff(today, \"days\");\n\n  const outOfRangeText = `      ${minDay.format(\n    format\n  )}  ${maxDay.format(format)}`;\n\n  if (diff1 < minLimit || diff1 > maxLimit) {\n    result.errorText = [\"   \", outOfRangeText];\n    return result;\n  }\n\n  if (diff2 < minLimit || diff2 > maxLimit) {\n    result.errorText = [\"   \", outOfRangeText];\n    return result;\n  }\n\n  if (diff1 >= diff2) {\n    result.errorText = [\n      \"  \",\n      \"       1  ,   \",\n    ];\n    return result;\n  }\n\n  result.date1 = moment1.format(\"YYYY-MM-DD\");\n  result.date2 = moment2.format(\"YYYY-MM-DD\");\n  result.status = true;\n  return result;\n}\n\nexport function secToDate(sec) {\n  return moment(sec * 1000).format(\"DD.MM.YYYY\");\n}\n\nexport function secToHourMin(sec) {\n  return moment(sec * 1000).format(\"HH:mm\");\n}\n\nexport function durationToHourMin(duration) {\n  const sec = +duration;\n  let min = Math.trunc(sec / 60) % 60;\n  min = (min < 10 ? \"0\" : \"\") + min;\n  const hour = Math.trunc(sec / 3600);\n\n  return `${hour} : ${min}`;\n}\n\nexport function durationToHourMinText(duration) {\n  const sec = +duration;\n  let min = Math.trunc(sec / 60) % 60;\n  let hour = Math.trunc(sec / 3600);\n\n  switch (hour % 100) {\n    case 11:\n    case 12:\n    case 13:\n    case 14:\n      hour += \" \";\n      break;\n    default:\n      switch (hour % 10) {\n        case 1:\n          hour += \" \";\n          break;\n        case 2:\n        case 3:\n        case 4:\n          hour += \" \";\n          break;\n        default:\n          hour += \" \";\n      }\n  }\n\n  switch (min) {\n    case 11:\n    case 12:\n    case 13:\n    case 14:\n      min += \" \";\n      break;\n    default:\n      switch (min % 10) {\n        case 1:\n          min += \" \";\n          break;\n        case 2:\n        case 3:\n        case 4:\n          min += \" \";\n          break;\n        default:\n          min += \" \";\n      }\n  }\n\n  return { hour, min };\n}\n\nexport function separateThousands(value) {\n  let result = value + \"\";\n  if (result.length > 3) {\n    result = result.slice(0, -3) + \" \" + result.slice(-3);\n  }\n  return result;\n}\n\nexport function dayInFirstPosition(date) {\n  if (date) {\n    return moment(date, \"YYYY-MM-DD\").format(\"DD.MM.YYYY\");\n  } else {\n    return \"\";\n  }\n}\n\nexport function dayInLastPosition(date) {\n  if (date) {\n    return moment(date, \"DD.MM.YYYY\").format(\"YYYY-MM-DD\");\n  } else {\n    return \"\";\n  }\n}\n\nexport function totalTicketPrice(orderInfo) {\n  const { seatList, passengerList } = orderInfo;\n  return passengerList.reduce(\n    (sum, item, i) =>\n      sum +\n      (item.isAdult\n        ? seatList.forward[i].fullPrice + seatList.backward[i].fullPrice\n        : seatList.forward[i].childPrice + seatList.backward[i].childPrice),\n    0\n  );\n}\n","import { useState, useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./TrainsParams.css\";\nimport AppContext from \"AppContext\";\nimport DatePicker from \"react-datepicker\";\nimport { registerLocale } from \"react-datepicker\";\nimport ru from \"date-fns/locale/ru\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport OptionCheckBox from \"./OptionCheckBox/OptionCheckBox\";\nimport PriceRangeBar from \"./PriceRangeBar/PriceRangeBar\";\nimport TrainsTimeFilter from \"./TrainsTimeFilter/TrainsTimeFilter\";\nimport { dayInFirstPosition } from \"api/utils\";\nimport calendar from \"../../../Header/TicketSearchForm/calendar.svg\";\n\nregisterLocale(\"ru\", ru);\n\nexport default function TrainsParams(props) {\n  const { reloadInfo } = props;\n\n  const [dateStart, setDateStart] = useState(\"\");\n  const [dateEnd, setDateEnd] = useState(\"\");\n\n  const [haveFirstClass, setHaveFirstClass] = useState(false);\n  const [haveSecondClass, setHaveSecondClass] = useState(false);\n  const [haveThirdClass, setHaveThirdClass] = useState(false);\n  const [haveFourthClass, setHaveFourthClass] = useState(false);\n  const [haveWifi, setHaveWifi] = useState(false);\n  const [isExpress, setIsExpress] = useState(false);\n\n  const [priceFrom, setPriceFrom] = useState(0);\n  const [priceTo, setPriceTo] = useState(0);\n\n  const [startDepartureHourFrom, setStartDepartureHourFrom] = useState(0);\n  const [startDepartureHourTo, setStartDepartureHourTo] = useState(24);\n  const [startArrivalHourFrom, setStartArrivalHourFrom] = useState(0);\n  const [startArrivalHourTo, setStartArrivalHourTo] = useState(24);\n  const [endDepartureHourFrom, setEndDepartureHourFrom] = useState(0);\n  const [endDepartureHourTo, setEndDepartureHourTo] = useState(24);\n  const [endArrivalHourFrom, setEndArrivalHourFrom] = useState(0);\n  const [endArrivalHourTo, setEndArrivalHourTo] = useState(24);\n\n  const { bookingStage, trainsInfo, seatsInfo } = useContext(AppContext);\n\n  useEffect(() => {\n    setDateStart(dayInFirstPosition(trainsInfo.params.dateStart));\n  }, [trainsInfo.params.dateStart]);\n\n  useEffect(() => {\n    setDateEnd(dayInFirstPosition(trainsInfo.params.dateEnd));\n  }, [trainsInfo.params.dateEnd]);\n\n  useEffect(() => {\n    setHaveFirstClass(\n      !!(bookingStage === \"trains\"\n        ? trainsInfo.params.haveFirstClass\n        : seatsInfo.params.haveFirstClass)\n    );\n  }, [\n    bookingStage,\n    trainsInfo.params.haveFirstClass,\n    seatsInfo.params.haveFirstClass,\n  ]);\n\n  useEffect(() => {\n    setHaveSecondClass(\n      !!(bookingStage === \"trains\"\n        ? trainsInfo.params.haveSecondClass\n        : seatsInfo.params.haveSecondClass)\n    );\n  }, [\n    bookingStage,\n    trainsInfo.params.haveSecondClass,\n    seatsInfo.params.haveSecondClass,\n  ]);\n\n  useEffect(() => {\n    setHaveThirdClass(\n      !!(bookingStage === \"trains\"\n        ? trainsInfo.params.haveThirdClass\n        : seatsInfo.params.haveThirdClass)\n    );\n  }, [\n    bookingStage,\n    trainsInfo.params.haveThirdClass,\n    seatsInfo.params.haveThirdClass,\n  ]);\n\n  useEffect(() => {\n    setHaveFourthClass(\n      !!(bookingStage === \"trains\"\n        ? trainsInfo.params.haveFourthClass\n        : seatsInfo.params.haveFourthClass)\n    );\n  }, [\n    bookingStage,\n    trainsInfo.params.haveFourthClass,\n    seatsInfo.params.haveFourthClass,\n  ]);\n\n  useEffect(() => {\n    setHaveWifi(\n      !!(bookingStage === \"trains\"\n        ? trainsInfo.params.haveWifi\n        : seatsInfo.params.haveWifi)\n    );\n  }, [bookingStage, trainsInfo.params.haveWifi, seatsInfo.params.haveWifi]);\n\n  useEffect(() => {\n    setIsExpress(\n      !!(bookingStage === \"trains\"\n        ? trainsInfo.params.isExpress\n        : seatsInfo.params.isExpress)\n    );\n  }, [bookingStage, trainsInfo.params.isExpress, seatsInfo.params.isExpress]);\n\n  useEffect(() => {\n    if (trainsInfo.params.priceFrom !== undefined) {\n      setPriceFrom(trainsInfo.params.priceFrom);\n    }\n  }, [trainsInfo.params.priceFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.priceTo !== undefined) {\n      setPriceTo(trainsInfo.params.priceTo);\n    }\n  }, [trainsInfo.params.priceTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startDepartureHourFrom !== undefined) {\n      setStartDepartureHourFrom(trainsInfo.params.startDepartureHourFrom);\n    }\n  }, [trainsInfo.params.startDepartureHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startDepartureHourTo !== undefined) {\n      setStartDepartureHourTo(trainsInfo.params.startDepartureHourTo);\n    }\n  }, [trainsInfo.params.startDepartureHourTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startArrivalHourFrom !== undefined) {\n      setStartArrivalHourFrom(trainsInfo.params.startArrivalHourFrom);\n    }\n  }, [trainsInfo.params.startArrivalHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startArrivalHourTo !== undefined) {\n      setStartArrivalHourTo(trainsInfo.params.startArrivalHourTo);\n    }\n  }, [trainsInfo.params.startArrivalHourTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endDepartureHourFrom !== undefined) {\n      setEndDepartureHourFrom(trainsInfo.params.endDepartureHourFrom);\n    }\n  }, [trainsInfo.params.endDepartureHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endDepartureHourTo !== undefined) {\n      setEndDepartureHourTo(trainsInfo.params.endDepartureHourTo);\n    }\n  }, [trainsInfo.params.endDepartureHourTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endArrivalHourFrom !== undefined) {\n      setEndArrivalHourFrom(trainsInfo.params.endArrivalHourFrom);\n    }\n  }, [trainsInfo.params.endArrivalHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endArrivalHourTo !== undefined) {\n      setEndArrivalHourTo(trainsInfo.params.endArrivalHourTo);\n    }\n  }, [trainsInfo.params.endArrivalHourTo]);\n\n  const changeHaveFirstClass = (value) => {\n    setHaveFirstClass(value);\n    reloadInfo({\n      haveFirstClass: value,\n      offset: 0,\n    });\n  };\n\n  const changeHaveSecondClass = (value) => {\n    setHaveSecondClass(value);\n    reloadInfo({\n      haveSecondClass: value,\n      offset: 0,\n    });\n  };\n\n  const changeHaveThirdClass = (value) => {\n    setHaveThirdClass(value);\n    reloadInfo({\n      haveThirdClass: value,\n      offset: 0,\n    });\n  };\n\n  const changeHaveFourthClass = (value) => {\n    setHaveFourthClass(value);\n    reloadInfo({\n      haveFourthClass: value,\n      offset: 0,\n    });\n  };\n\n  const changeHaveWifi = (value) => {\n    setHaveWifi(value);\n    reloadInfo({\n      haveWifi: value,\n      offset: 0,\n    });\n  };\n\n  const changeIsExpress = (value) => {\n    setIsExpress(value);\n    reloadInfo({\n      isExpress: value,\n      offset: 0,\n    });\n  };\n\n  const changePriceRange = (minValue, maxValue) => {\n    reloadInfo({\n      priceFrom: minValue,\n      priceTo: maxValue,\n      offset: 0,\n    });\n  };\n\n  const changeStartTimes = (times) => {\n    reloadInfo({\n      startDepartureHourFrom: times.departureHourFrom,\n      startDepartureHourTo: times.departureHourTo,\n      startArrivalHourFrom: times.arrivalHourFrom,\n      startArrivalHourTo: times.arrivalHourTo,\n      offset: 0,\n    });\n  };\n\n  const changeEndTimes = (times) => {\n    reloadInfo({\n      endDepartureHourFrom: times.departureHourFrom,\n      endDepartureHourTo: times.departureHourTo,\n      endArrivalHourFrom: times.arrivalHourFrom,\n      endArrivalHourTo: times.arrivalHourTo,\n      offset: 0,\n    });\n  };\n\n  const startTimes = {\n    departureHourFrom: startDepartureHourFrom,\n    departureHourTo: startDepartureHourTo,\n    arrivalHourFrom: startArrivalHourFrom,\n    arrivalHourTo: startArrivalHourTo,\n  };\n\n  const endTimes = {\n    departureHourFrom: endDepartureHourFrom,\n    departureHourTo: endDepartureHourTo,\n    arrivalHourFrom: endArrivalHourFrom,\n    arrivalHourTo: endArrivalHourTo,\n  };\n\n  const setStartTimes = {\n    setDepartureHourFrom: setStartDepartureHourFrom,\n    setDepartureHourTo: setStartDepartureHourTo,\n    setArrivalHourFrom: setStartArrivalHourFrom,\n    setArrivalHourTo: setStartArrivalHourTo,\n  };\n\n  const setEndTimes = {\n    setDepartureHourFrom: setEndDepartureHourFrom,\n    setDepartureHourTo: setEndDepartureHourTo,\n    setArrivalHourFrom: setEndArrivalHourFrom,\n    setArrivalHourTo: setEndArrivalHourTo,\n  };\n\n  return (\n    <div className=\"trains-params\">\n      <section className=\"trains-params__dates\">\n        <label className=\"trains-params__date-title\">\n           \n          <div className=\"trains-params__date-container\">\n            <DatePicker\n              className=\"date-input__datepicker\"\n              locale=\"ru\"\n              dateFormat=\"dd/MM/yyyy\"\n              // minDate={Date.now()}\n              selected={dateStart}\n              placeholderText=\"//\"\n              onChange={(date) => setDateStart(date)}\n            />\n            <div className=\"side-date-input__button\">\n              <img\n                className=\"date-input__button-icon\"\n                src={calendar}\n                width=\"100%\"\n                alt=\"button-calendar\"\n              />\n            </div>\n          </div>\n        </label>\n        <label className=\"trains-params__date-title\">\n           \n          <div className=\"trains-params__date-container\">\n            <DatePicker\n              className=\"date-input__datepicker\"\n              locale=\"ru\"\n              dateFormat=\"dd/MM/yyyy\"\n              // minDate={Date.now()}\n              selected={dateEnd}\n              placeholderText=\"//\"\n              onChange={(date) => setDateEnd(date)}\n            />\n            <div className=\"side-date-input__button\">\n              <img\n                className=\"date-input__button-icon\"\n                src={calendar}\n                width=\"100%\"\n                alt=\"button-calendar\"\n              />\n            </div>\n          </div>\n        </label>\n      </section>\n      <section className=\"trains-params__options\">\n        <div className=\"trains-params__option\">\n          <OptionCheckBox\n            iconName=\"second-class\"\n            iconWidth={17}\n            iconHeight={17}\n            name=\"\"\n            value={haveSecondClass}\n            setValue={changeHaveSecondClass}\n          />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox\n            iconName=\"third-class\"\n            iconWidth={17}\n            iconHeight={17}\n            name=\"\"\n            value={haveThirdClass}\n            setValue={changeHaveThirdClass}\n          />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox\n            iconName=\"fourth-class\"\n            iconWidth={14}\n            iconHeight={23}\n            name=\"\"\n            value={haveFourthClass}\n            setValue={changeHaveFourthClass}\n          />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox\n            iconName=\"first-class\"\n            iconWidth={22}\n            iconHeight={20}\n            name=\"\"\n            value={haveFirstClass}\n            setValue={changeHaveFirstClass}\n          />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox\n            iconName=\"wifi\"\n            iconWidth={24}\n            iconHeight={19}\n            name=\"Wi-Fi\"\n            value={haveWifi}\n            setValue={changeHaveWifi}\n          />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox\n            iconName=\"express\"\n            iconWidth={20}\n            iconHeight={20}\n            name=\"\"\n            value={isExpress}\n            setValue={changeIsExpress}\n          />\n        </div>\n      </section>\n      <section className=\"trains-params__price\">\n        <p className=\"trains-params__price-title\"></p>\n        <div className=\"trains-params__price-range-bar\">\n          <PriceRangeBar\n            minValue={priceFrom}\n            maxValue={priceTo}\n            setMinValue={setPriceFrom}\n            setMaxValue={setPriceTo}\n            changeRange={changePriceRange}\n            isDisabled={bookingStage !== \"trains\"}\n          />\n        </div>\n      </section>\n      <section className=\"trains-params__times\">\n        <TrainsTimeFilter\n          times={startTimes}\n          setTimes={setStartTimes}\n          changeTimes={changeStartTimes}\n          isStart={true}\n          isDisabled={\n            !(\n              bookingStage === \"trains\" &&\n              trainsInfo.params.direction === \"forward\"\n            )\n          }\n        />\n      </section>\n      <section className=\"trains-params__times\">\n        <TrainsTimeFilter\n          times={endTimes}\n          setTimes={setEndTimes}\n          changeTimes={changeEndTimes}\n          isStart={false}\n          isDisabled={\n            !(\n              bookingStage === \"trains\" &&\n              trainsInfo.params.direction === \"backward\"\n            )\n          }\n        />\n      </section>\n    </div>\n  );\n}\n\nTrainsParams.propTypes = {\n  reloadInfo: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport \"./OptionIcons.css\";\nimport icons from \"components/Main/icons.svg\";\n\nexport default function OptionIcons(props) {\n  const { haveWifi, isExpress, haveFood, darkColor } = props;\n\n  const iconClassName = `option-icons__icon option-icons__icon_${\n    darkColor ? \"dark\" : \"light\"\n  }`;\n\n  return (\n    <div className=\"option-icons\">\n      {haveWifi && (\n        <div className=\"option-icons__container\">\n          <svg className={iconClassName} width=\"20\" height=\"16\">\n            <use xlinkHref={icons + \"#wifi\"} />\n          </svg>\n        </div>\n      )}\n      {isExpress && (\n        <div className=\"option-icons__container\">\n          <svg className={iconClassName} width=\"20\" height=\"20\">\n            <use xlinkHref={icons + \"#express\"} />\n          </svg>\n        </div>\n      )}\n      {haveFood && (\n        <div className=\"option-icons__container\">\n          <svg className={iconClassName} width=\"20\" height=\"18\">\n            <use xlinkHref={icons + \"#food\"} />\n          </svg>\n        </div>\n      )}\n    </div>\n  );\n}\n\nOptionIcons.propTypes = {\n  haveWifi: PropTypes.bool.isRequired,\n  isExpress: PropTypes.bool.isRequired,\n  haveFood: PropTypes.bool.isRequired,\n  darkColor: PropTypes.bool.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport \"./LastRoutesItem.css\";\nimport OptionIcons from \"../../OptionIcons/OptionIcons\";\nimport { separateThousands } from \"api/utils\";\n\nexport default function LastRoutesItem(props) {\n  const { route } = props;\n  const { from, to, have_wifi, is_express, min_price } = route.departure;\n\n  return (\n    <div className=\"last-routes-item\">\n      <div className=\"last-routes-item__city-names\">\n        <p className=\"last-routes-item__city-name-from\">{from.city.name}</p>\n        <p className=\"last-routes-item__city-name-to\">{to.city.name}</p>\n      </div>\n      <div className=\"last-routes-item__station-names\">\n        <p className=\"last-routes-item__station-name-from\">\n          {from.railway_station_name}\n        </p>\n        <p className=\"last-routes-item__station-name-to\">\n          {to.railway_station_name}\n        </p>\n      </div>\n      <div className=\"last-routes-item__min-price\">\n        <OptionIcons\n          haveWifi={have_wifi}\n          isExpress={is_express}\n          haveFood={true}\n          darkColor={false}\n        />\n        <p className=\"last-routes-item__before-price\"></p>\n        <p className=\"last-routes-item__price\">\n          {separateThousands(min_price)}\n        </p>\n        <p className=\"last-routes-item__after-price\">&#x20bd;</p>\n      </div>\n    </div>\n  );\n}\n\nLastRoutesItem.propTypes = {\n  route: PropTypes.object.isRequired,\n};\n","import { useContext } from \"react\";\nimport \"./LastRoutes.css\";\nimport AppContext from \"AppContext\";\nimport LastRoutesItem from \"./LastRoutesItem/LastRoutesItem\";\nimport shortid from \"shortid\";\n\nexport default function LastRoutes() {\n  const { trainsInfo } = useContext(AppContext);\n\n  return (\n    <div className=\"last-routes\">\n      <h3 className=\"last-routes__title\"> </h3>\n      <div className=\"last-routes__list\">\n        {trainsInfo.lastRoutes.map((item) => (\n          <LastRoutesItem route={item} key={shortid.generate()} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport \"./TrainClassSeatsInfo.css\";\nimport { separateThousands } from \"api/utils\";\n\nexport default function TrainClassSeatsInfo(props) {\n  const { classNumber, seatsCount, priceInfo } = props;\n  const {\n    top_price = Infinity,\n    bottom_price = Infinity,\n    side_price = Infinity,\n  } = priceInfo;\n\n  const classNames = [\"\", \"\", \"\", \"\"];\n\n  return (\n    <div className=\"train-class-seats-info\">\n      <p className=\"train-class-seats-info__class-name\">\n        {classNames[classNumber - 1]}\n      </p>\n      <p className=\"train-class-seats-info__seats-count\">{seatsCount}</p>\n      <p className=\"train-class-seats-info__before-price\"></p>\n      <p className=\"train-class-seats-info__price\">\n        {separateThousands(Math.min(top_price, bottom_price, side_price))}\n      </p>\n      <p className=\"train-class-seats-info__after-price\">&#x20bd;</p>\n    </div>\n  );\n}\n\nTrainClassSeatsInfo.propTypes = {\n  classNumber: PropTypes.number.isRequired,\n  seatsCount: PropTypes.number.isRequired,\n  priceInfo: PropTypes.object.isRequired,\n};\n","import { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport \"./TrainsListItem.css\";\nimport AppContext from \"AppContext\";\nimport TrainClassSeatsInfo from \"./TrainClassSeatsInfo/TrainClassSeatsInfo\";\nimport OptionIcons from \"../../OptionIcons/OptionIcons\";\nimport icons from \"components/Main/icons.svg\";\nimport { secToDate, secToHourMin, durationToHourMin } from \"api/utils\";\nimport { loadTrainsInfo } from \"api/http/loadTrainsInfo\";\n\nexport default function TrainsListItem(props) {\n  const { trainInfo, isForward, reloadInfo, loadSeats, isConfirmation } = props;\n  const {\n    from,\n    to,\n    train,\n    duration,\n    have_first_class,\n    have_second_class,\n    have_third_class,\n    have_fourth_class,\n    available_seats_info,\n    price_info,\n    have_wifi,\n    is_express,\n    _id,\n  } = trainInfo;\n\n  const {\n    setAnimation,\n    setPopup,\n    trainsInfo,\n    setTrainsInfo,\n    forwardTrain,\n    setForwardTrain,\n    backwardTrain,\n    setBackwardTrain,\n  } = useContext(AppContext);\n\n  const history = useHistory();\n\n  const returnToTrains = async () => {\n    const result = await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, {\n      ...trainsInfo.params,\n      offset: 0,\n      direction: isForward ? \"forward\" : \"backward\",\n    });\n\n    if (result) {\n      history.push(\"/run/trains\");\n    }\n  };\n\n  const goToNextPage = async () => {\n    const trainInfoString = JSON.stringify(trainInfo);\n\n    if (isForward) {\n      setForwardTrain(JSON.parse(trainInfoString));\n      localStorage.setItem(\"forwardTrain\", trainInfoString);\n    } else {\n      setBackwardTrain(JSON.parse(trainInfoString));\n      localStorage.setItem(\"backwardTrain\", trainInfoString);\n    }\n\n    if (isForward && !backwardTrain) {\n      reloadInfo({\n        direction: \"backward\",\n        offset: 0,\n      });\n    } else {\n      const result = isForward\n        ? await loadSeats(_id, backwardTrain._id)\n        : await loadSeats(forwardTrain._id, _id);\n      if (result) {\n        history.push(\"/run/seats\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"trains-list-item\">\n      {isConfirmation && (\n        <h3 className=\"trains-list-item__title\">\n           {isForward ? \"\" : \"\"}\n        </h3>\n      )}\n      <div className=\"trains-list-item__body\">\n        <div className=\"trains-list-item__left\">\n          <div className=\"trains-list-item__icon-container\">\n            <svg className=\"trains-list-item__icon\" width=\"44\" height=\"52\">\n              <use xlinkHref={icons + \"#train-face\"} />\n            </svg>\n          </div>\n          <p className=\"trains-list-item__train-number\">{train._id}</p>\n          <div className=\"trains-list-item__train-properties\">\n            <p className=\"trains-list-item__train-property\">\n              {from.city.name} &#x2192;\n            </p>\n            <p className=\"trains-list-item__train-property\">{to.city.name}</p>\n            <p className=\"trains-list-item__train-property\">\n              {train.name && `\\u00ab${train.name}\\u00bb`}\n            </p>\n          </div>\n        </div>\n        <div className=\"trains-list-item__middle\">\n          <div className=\"trains-list-item__middle-from\">\n            <p className=\"trains-list-item__time\">\n              {secToHourMin(isForward ? from.datetime : to.datetime)}\n            </p>\n            <p className=\"trains-list-item__date\">\n              {secToDate(isForward ? from.datetime : to.datetime)}\n            </p>\n            <p className=\"trains-list-item__city\">\n              {isForward ? from.city.name : to.city.name}\n            </p>\n            <p className=\"trains-list-item__station\">\n              {isForward ? from.railway_station_name : to.railway_station_name}\n            </p>\n          </div>\n          <div className=\"trains-list-item__middle-way\">\n            <p className=\"trains-list-item__duration\">\n              {durationToHourMin(duration)}\n            </p>\n            <svg\n              className={\n                \"trains-list-item__arrow\" +\n                (isForward ? \"\" : \" trains-list-item__arrow_mirror\")\n              }\n              width=\"30\"\n              height=\"20\"\n            >\n              <use xlinkHref={icons + \"#arrow\"} />\n            </svg>\n          </div>\n          <div className=\"trains-list-item__middle-to\">\n            <p className=\"trains-list-item__time\">\n              {secToHourMin(isForward ? to.datetime : from.datetime)}\n            </p>\n            <p className=\"trains-list-item__date\">\n              {secToDate(isForward ? to.datetime : from.datetime)}\n            </p>\n            <p className=\"trains-list-item__city\">\n              {isForward ? to.city.name : from.city.name}\n            </p>\n            <p className=\"trains-list-item__station\">\n              {isForward ? to.railway_station_name : from.railway_station_name}\n            </p>\n          </div>\n        </div>\n        <div className=\"trains-list-item__right\">\n          <div className=\"trains-list-item__seats-info\">\n            {have_fourth_class && (\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo\n                  classNumber={4}\n                  seatsCount={available_seats_info.fourth}\n                  priceInfo={price_info.fourth}\n                />\n              </div>\n            )}\n            {have_third_class && (\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo\n                  classNumber={3}\n                  seatsCount={available_seats_info.third}\n                  priceInfo={price_info.third}\n                />\n              </div>\n            )}\n            {have_second_class && (\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo\n                  classNumber={2}\n                  seatsCount={available_seats_info.second}\n                  priceInfo={price_info.second}\n                />\n              </div>\n            )}\n            {have_first_class && (\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo\n                  classNumber={1}\n                  seatsCount={available_seats_info.first}\n                  priceInfo={price_info.first}\n                />\n              </div>\n            )}\n          </div>\n          <div className=\"trains-list-item__option-icons\">\n            <OptionIcons\n              haveWifi={have_wifi}\n              isExpress={is_express}\n              haveFood={true}\n              darkColor={true}\n            />\n          </div>\n          {isConfirmation ? (\n            <button\n              className=\"trains-list-item__button trains-list-item__button_return\"\n              type=\"button\"\n              onClick={returnToTrains}\n            >\n              \n            </button>\n          ) : (\n            <button\n              className=\"trains-list-item__button trains-list-item__button_next\"\n              type=\"button\"\n              onClick={goToNextPage}\n            >\n               \n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nTrainsListItem.propTypes = {\n  trainInfo: PropTypes.object.isRequired,\n  isForward: PropTypes.bool.isRequired,\n  reloadInfo: PropTypes.func.isRequired,\n  loadSeats: PropTypes.func.isRequired,\n  isConfirmation: PropTypes.bool.isRequired,\n};\n","import { useState, useEffect, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./SelectTrainsPage.css\";\nimport shortid from \"shortid\";\n\nexport default function SelectTrainsPage(props) {\n  const { totalCount, limit, offset, reloadInfo } = props;\n\n  const [pageNumber, setPageNumber] = useState(0);\n  const [pageCount, setPageCount] = useState(0);\n  const [middleNumber, setMiddleNumber] = useState(1);\n\n  useEffect(() => {\n    setPageNumber(Math.floor(offset / limit));\n    setPageCount(Math.ceil(totalCount / limit));\n    if (!offset) {\n      setMiddleNumber(1);\n    }\n  }, [totalCount, limit, offset]);\n\n  if (pageCount < 2) {\n    return null;\n  }\n\n  const isManyPages = pageCount > 5;\n\n  const buttons = [];\n  if (!isManyPages) {\n    for (let i = 1; i <= pageCount; i++) {\n      buttons.push(i);\n    }\n  }\n\n  const buttonClassName = \"select-trains-page__button\";\n  const activeButtonClassName =\n    buttonClassName + \" select-trains-page__button_active\";\n\n  const leftArrayClick = () => {\n    if (pageNumber < 1) {\n      return;\n    }\n\n    const newNumber = pageNumber - 1;\n\n    if (newNumber < middleNumber && middleNumber > 1) {\n      setMiddleNumber(newNumber);\n    }\n    setPageNumber(newNumber);\n    reloadInfo({ offset: newNumber * limit });\n  };\n\n  const rightArrayClick = () => {\n    if (pageNumber > pageCount - 2) {\n      return;\n    }\n\n    const newNumber = pageNumber + 1;\n\n    if (newNumber > middleNumber + 1 && middleNumber < pageCount - 3) {\n      setMiddleNumber(newNumber - 1);\n    }\n    setPageNumber(newNumber);\n    reloadInfo({ offset: newNumber * limit });\n  };\n\n  const leftPointsClick = () => {\n    let newNumber = middleNumber - 2;\n    if (newNumber < 1) {\n      newNumber = 1;\n    }\n\n    setMiddleNumber(newNumber);\n    setPageNumber(newNumber);\n    reloadInfo({ offset: newNumber * limit });\n  };\n\n  const rightPointsClick = () => {\n    let newNumber = middleNumber + 2;\n    if (newNumber > pageCount - 3) {\n      newNumber = pageCount - 3;\n    }\n\n    setMiddleNumber(newNumber);\n    setPageNumber(newNumber + 1);\n    reloadInfo({ offset: (newNumber + 1) * limit });\n  };\n\n  const numberClick = (number) => {\n    if (number === pageNumber) {\n      return;\n    }\n\n    if (!number) {\n      setMiddleNumber(1);\n    }\n    if (number === pageCount - 1) {\n      setMiddleNumber(pageCount - 3);\n    }\n\n    setPageNumber(number);\n    reloadInfo({ offset: number * limit });\n  };\n\n  return (\n    <div className=\"select-trains-page\">\n      <button\n        className={buttonClassName}\n        type=\"button\"\n        onClick={leftArrayClick}\n      >\n        &lt;\n      </button>\n      {isManyPages ? (\n        <Fragment>\n          <button\n            className={\n              pageNumber === 0 ? activeButtonClassName : buttonClassName\n            }\n            type=\"button\"\n            onClick={() => numberClick(0)}\n          >\n            1\n          </button>\n          {middleNumber > 1 && (\n            <button\n              className={buttonClassName}\n              type=\"button\"\n              onClick={leftPointsClick}\n            >\n              ...\n            </button>\n          )}\n          <button\n            className={\n              pageNumber === middleNumber\n                ? activeButtonClassName\n                : buttonClassName\n            }\n            type=\"button\"\n            onClick={() => numberClick(middleNumber)}\n          >\n            {middleNumber + 1}\n          </button>\n          <button\n            className={\n              pageNumber === middleNumber + 1\n                ? activeButtonClassName\n                : buttonClassName\n            }\n            type=\"button\"\n            onClick={() => numberClick(middleNumber + 1)}\n          >\n            {middleNumber + 2}\n          </button>\n          {middleNumber < pageCount - 3 && (\n            <button\n              className={buttonClassName}\n              type=\"button\"\n              onClick={rightPointsClick}\n            >\n              ...\n            </button>\n          )}\n          <button\n            className={\n              pageNumber === pageCount - 1\n                ? activeButtonClassName\n                : buttonClassName\n            }\n            type=\"button\"\n            onClick={() => numberClick(pageCount - 1)}\n          >\n            {pageCount}\n          </button>\n        </Fragment>\n      ) : (\n        buttons.map((item, i) => (\n          <button\n            className={\n              i === pageNumber ? activeButtonClassName : buttonClassName\n            }\n            type=\"button\"\n            key={shortid.generate()}\n            onClick={() => numberClick(i)}\n          >\n            {item}\n          </button>\n        ))\n      )}\n      <button\n        className=\"select-trains-page__button\"\n        type=\"button\"\n        onClick={rightArrayClick}\n      >\n        &gt;\n      </button>\n    </div>\n  );\n}\n\nSelectTrainsPage.propTypes = {\n  totalCount: PropTypes.number.isRequired,\n  limit: PropTypes.number.isRequired,\n  offset: PropTypes.number.isRequired,\n  reloadInfo: PropTypes.func.isRequired,\n};\n","import { useState, useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./TrainsList.css\";\nimport AppContext from \"AppContext\";\nimport TrainsListItem from \"./TrainsListItem/TrainsListItem\";\nimport SelectTrainsPage from \"./SelectTrainsPage/SelectTrainsPage\";\nimport shortid from \"shortid\";\n\nexport default function TrainsList(props) {\n  const { reloadInfo, loadSeats } = props;\n\n  const [sortIndex, setSortIndex] = useState(0);\n  const [limitIndex, setLimitIndex] = useState(0);\n  const [showList, setShowList] = useState(false);\n\n  const { trainsInfo } = useContext(AppContext);\n\n  useEffect(() => {\n    switch (trainsInfo.params.sort) {\n      case \"price_\":\n        setSortIndex(1);\n        break;\n      case \"duration\":\n        setSortIndex(2);\n        break;\n      default:\n        setSortIndex(0);\n    }\n  }, [trainsInfo.params.sort]);\n\n  useEffect(() => {\n    switch (+trainsInfo.params.limit) {\n      case 10:\n        setLimitIndex(1);\n        break;\n      case 20:\n        setLimitIndex(2);\n        break;\n      default:\n        setLimitIndex(0);\n    }\n  }, [trainsInfo.params.limit]);\n\n  const isForward = trainsInfo.params.direction === \"forward\";\n  const trainsArray = isForward\n    ? trainsInfo.forwardTrainsInfo.items\n    : trainsInfo.backwardTrainsInfo.items;\n  const trainsCount = isForward\n    ? `${trainsInfo.forwardTrainsInfo.total_count}`\n    : `${trainsInfo.backwardTrainsInfo.total_count}`;\n\n  const sortModes = [\n    { mode: \"date\", name: \"\" },\n    { mode: \"price_\", name: \"\" },\n    { mode: \"duration\", name: \"\" },\n  ];\n\n  const limits = [5, 10, 20];\n\n  const selectSort = (index) => {\n    setShowList(false);\n    setSortIndex(index);\n    reloadInfo({ sort: sortModes[index].mode });\n  };\n\n  const selectLimit = (index) => {\n    setLimitIndex(index);\n    reloadInfo({\n      limit: limits[index],\n      offset: 0,\n    });\n  };\n\n  return (\n    <div className=\"trains-list\">\n      <div className=\"trains-list__menu\">\n        <p className=\"trains-list__menu-count\"> {trainsCount}</p>\n        <p className=\"trains-list__menu-sort-title\"> :</p>\n        <div className=\"trains-list__menu-sort-value-container\">\n          <p\n            className=\"trains-list__menu-sort-value\"\n            onClick={() => setShowList(true)}\n          >\n            {sortModes[sortIndex].name}\n          </p>\n          {showList && (\n            <ul className=\"trains-list__menu-sort-list\">\n              {sortModes.map((item, i) => (\n                <li\n                  className=\"trains-list__menu-sort-list-item\"\n                  key={i}\n                  onClick={() => selectSort(i)}\n                >\n                  {item.name}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n        <p className=\"trains-list__menu-limit-title\"> :</p>\n        {limits.map((item, i) => (\n          <p\n            className={\n              \"trains-list__menu-limit-value\" +\n              (i === limitIndex ? \" trains-list__menu-limit-value_active\" : \"\")\n            }\n            key={i}\n            onClick={() => selectLimit(i)}\n          >\n            {item}\n          </p>\n        ))}\n      </div>\n      <div className=\"trains-list__list\">\n        {trainsArray.map((item) => (\n          <TrainsListItem\n            trainInfo={item.departure}\n            isForward={isForward}\n            reloadInfo={reloadInfo}\n            loadSeats={loadSeats}\n            isConfirmation={false}\n            key={shortid.generate()}\n          />\n        ))}\n      </div>\n      <div className=\"trains-list__select-page\">\n        <SelectTrainsPage\n          totalCount={\n            isForward\n              ? trainsInfo.forwardTrainsInfo.total_count\n              : trainsInfo.backwardTrainsInfo.total_count\n          }\n          limit={trainsInfo.params.limit}\n          offset={trainsInfo.params.offset}\n          reloadInfo={reloadInfo}\n        />\n      </div>\n    </div>\n  );\n}\n\nTrainsList.propTypes = {\n  reloadInfo: PropTypes.func.isRequired,\n  loadSeats: PropTypes.func.isRequired,\n};\n","import { seats } from \"./http\";\nimport { httpErrorBox, incorrectDataErrorBox } from \"../gui\";\n\nexport async function loadSeatsInfo(\n  setAnimation,\n  setPopup,\n  setSeatsInfo,\n  params\n) {\n  setAnimation({ loading: true, text: \" \" });\n\n  let response;\n  let forwardSeatsInfo;\n  let backwardSeatsInfo;\n\n  const {\n    forwardTrainId,\n    backwardTrainId,\n    haveFirstClass,\n    haveSecondClass,\n    haveThirdClass,\n    haveFourthClass,\n    haveWifi,\n    haveAirConditioning,\n    isExpress,\n  } = params;\n\n  const seatsParams = {};\n\n  if (haveFirstClass) {\n    seatsParams.have_first_class = true;\n  }\n\n  if (haveSecondClass) {\n    seatsParams.have_second_class = true;\n  }\n\n  if (haveThirdClass) {\n    seatsParams.have_third_class = true;\n  }\n\n  if (haveFourthClass) {\n    seatsParams.have_fourth_class = true;\n  }\n\n  if (haveWifi) {\n    seatsParams.have_wifi = true;\n  }\n\n  if (haveAirConditioning) {\n    seatsParams.have_air_conditioning = true;\n  }\n\n  if (isExpress) {\n    seatsParams.is_express = true;\n  }\n\n  response = await seats(forwardTrainId, seatsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false });\n    httpErrorBox(setPopup, response);\n    return false;\n  }\n\n  try {\n    forwardSeatsInfo = await response.json();\n  } catch (e) {\n    setAnimation({ loading: false });\n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  response = await seats(backwardTrainId, seatsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false });\n    httpErrorBox(setPopup, response);\n    return false;\n  }\n\n  try {\n    backwardSeatsInfo = await response.json();\n  } catch (e) {\n    setAnimation({ loading: false });\n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  const seatsInfo = {\n    params,\n    forwardSeatsInfo,\n    backwardSeatsInfo,\n  };\n\n  setSeatsInfo(seatsInfo);\n  localStorage.setItem(\"seatsInfo\", JSON.stringify(seatsInfo));\n\n  setAnimation({ loading: false });\n  return true;\n}\n","import { useContext, useEffect } from \"react\";\nimport \"./Trains.css\";\nimport AppContext from \"AppContext\";\nimport ProgressIndicator from \"../ProgressIndicator/ProgressIndicator\";\nimport TrainsParams from \"./TrainsParams/TrainsParams\";\nimport LastRoutes from \"./LastRoutes/LastRoutes\";\nimport TrainsList from \"./TrainsList/TrainsList\";\nimport { loadTrainsInfo } from \"api/http/loadTrainsInfo\";\nimport { loadSeatsInfo } from \"api/http/loadSeatsInfo\";\n\nexport default function Trains() {\n  const {\n    setBookingStage,\n    setAnimation,\n    setPopup,\n    trainsInfo,\n    setTrainsInfo,\n    setSeatsInfo,\n  } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage(\"trains\");\n  }, [setBookingStage]);\n\n  const reloadInfo = async (params) => {\n    return await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, {\n      ...trainsInfo.params,\n      ...params,\n    });\n  };\n\n  const loadSeats = async (forwardTrainId, backwardTrainId) => {\n    return await loadSeatsInfo(setAnimation, setPopup, setSeatsInfo, {\n      forwardTrainId,\n      backwardTrainId,\n    });\n  };\n\n  return (\n    <main className=\"trains\">\n      <ProgressIndicator stepNumber={1} />\n      <div className=\"trains__main\">\n        <section className=\"trains__left\">\n          <TrainsParams reloadInfo={reloadInfo} />\n          <LastRoutes />\n        </section>\n        <section className=\"trains__right\">\n          <TrainsList reloadInfo={reloadInfo} loadSeats={loadSeats} />\n        </section>\n      </div>\n    </main>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport \"./TrainSeatsHeader.css\";\nimport icons from \"components/Main/icons.svg\";\nimport { secToDate, secToHourMin, durationToHourMinText } from \"api/utils\";\n\nexport default function TrainSeatsHeader(props) {\n  const { trainInfo, isForward } = props;\n\n  const { from, to, train, duration } = trainInfo;\n\n  const durationText = durationToHourMinText(duration);\n\n  return (\n    <div className=\"train-seats-header\">\n      <div className=\"train-seats-header__left\">\n        <div className=\"train-seats-header__left-icon-container\">\n          <svg className=\"train-seats-header__icon\" width=\"15\" height=\"18\">\n            <use xlinkHref={icons + \"#train-face\"} />\n          </svg>\n        </div>\n        <div className=\"train-seats-header__text-container\">\n          <p className=\"train-seats-header__train-number\">{train._id}</p>\n          <div className=\"train-seats-header__train-properties\">\n            <p className=\"train-seats-header__train-property\">\n              {from.city.name} &#x2192;\n            </p>\n            <p className=\"train-seats-header__train-property\">{to.city.name}</p>\n            <p className=\"train-seats-header__train-property\">\n              {train.name && `\\u00ab${train.name}\\u00bb`}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"train-seats-header__middle\">\n        <div className=\"train-seats-header__middle-from\">\n          <p className=\"train-seats-header__time\">\n            {secToHourMin(isForward ? from.datetime : to.datetime)}\n          </p>\n          <p className=\"train-seats-header__date\">\n            {secToDate(isForward ? from.datetime : to.datetime)}\n          </p>\n          <p className=\"train-seats-header__city\">\n            {isForward ? from.city.name : to.city.name}\n          </p>\n          <p className=\"train-seats-header__station\">\n            {isForward ? from.railway_station_name : to.railway_station_name}\n          </p>\n        </div>\n        <svg\n          className={\n            \"train-seats-header__arrow\" +\n            (isForward ? \"\" : \" train-seats-header__arrow_mirror\")\n          }\n          width=\"30\"\n          height=\"20\"\n        >\n          <use xlinkHref={icons + \"#arrow\"} />\n        </svg>\n        <div className=\"train-seats-header__middle-to\">\n          <p className=\"train-seats-header__time\">\n            {secToHourMin(isForward ? to.datetime : from.datetime)}\n          </p>\n          <p className=\"train-seats-header__date\">\n            {secToDate(isForward ? to.datetime : from.datetime)}\n          </p>\n          <p className=\"train-seats-header__city\">\n            {isForward ? to.city.name : from.city.name}\n          </p>\n          <p className=\"train-seats-header__station\">\n            {isForward ? to.railway_station_name : from.railway_station_name}\n          </p>\n        </div>\n      </div>\n      <div className=\"train-seats-header__right\">\n        <svg className=\"train-seats-header__icon-clock\" width=\"30\" height=\"30\">\n          <use xlinkHref={icons + \"#clock\"} />\n        </svg>\n        <p className=\"train-seats-header__duration\">\n          {durationText.hour}\n          <br />\n          {durationText.min}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nTrainSeatsHeader.propTypes = {\n  trainInfo: PropTypes.object.isRequired,\n  isForward: PropTypes.bool.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport \"./SeatsCount.css\";\n\nexport default function SeatsCount(props) {\n  const { seatsState, setSeatsState } = props;\n\n  const ticketsCount =\n    seatsState.fullTicketsCount +\n    seatsState.childTicketsCount +\n    seatsState.parentTicketsCount;\n  const maxCountValue = 6;\n\n  const fullClassName =\n    \"seats-count__types-item\" +\n    (seatsState.curTicketType === \"full\"\n      ? \" seats-count__types-item_active\"\n      : \"\");\n  const childClassName =\n    \"seats-count__types-item\" +\n    (seatsState.curTicketType === \"child\"\n      ? \" seats-count__types-item_active\"\n      : \"\");\n  const parentClassName =\n    \"seats-count__types-item\" +\n    (seatsState.curTicketType === \"parent\"\n      ? \" seats-count__types-item_active\"\n      : \"\");\n\n  const setCurTicketType = (curTicketType) => {\n    setSeatsState({ ...seatsState, curTicketType });\n  };\n\n  return (\n    <div className=\"seats-count\">\n      <h3 className=\"seats-count__title\"> </h3>\n      <div className=\"seats-count__types-list\">\n        <div className={fullClassName} onClick={() => setCurTicketType(\"full\")}>\n          <p className=\"seats-count__type-count\">\n             -{\" \"}\n            {seatsState.fullTicketsCount + seatsState.parentTicketsCount}\n          </p>\n          <p className=\"seats-count__type-description\">\n              \n            <br />\n            {maxCountValue - ticketsCount} \n          </p>\n        </div>\n        <div\n          className={childClassName}\n          onClick={() => setCurTicketType(\"child\")}\n        >\n          <p className=\"seats-count__type-count\">\n             - {seatsState.childTicketsCount}\n          </p>\n          <p className=\"seats-count__type-description\">\n               {maxCountValue - ticketsCount}   10 .\n               ,   ,      50-65%\n          </p>\n        </div>\n        <div\n          className={parentClassName}\n          onClick={() => setCurTicketType(\"parent\")}\n        >\n          <p className=\"seats-count__type-count\">\n               - {seatsState.parentTicketsCount}\n          </p>\n          <p className=\"seats-count__type-description\">\n               \n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nSeatsCount.propTypes = {\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired,\n};\n","function createMapType1(coach) {\n  const seatsMap = [];\n\n  for (let i = 0; i < 16; i++) {\n    seatsMap.push({\n      available: false,\n      selected: false,\n      isTop: false,\n      price: coach.coach.price,\n      width: 26,\n      height: 58,\n      top: 29,\n      paddingTop: 34,\n    });\n  }\n\n  seatsMap[0].left = 134;\n  seatsMap[1].left = 194;\n  seatsMap[2].left = 223;\n  seatsMap[3].left = 283;\n  seatsMap[4].left = 312;\n  seatsMap[5].left = 373;\n  seatsMap[6].left = 402;\n  seatsMap[7].left = 462;\n  seatsMap[8].left = 491;\n  seatsMap[9].left = 552;\n  seatsMap[10].left = 581;\n  seatsMap[11].left = 641;\n  seatsMap[12].left = 670;\n  seatsMap[13].left = 731;\n  seatsMap[14].left = 760;\n  seatsMap[15].left = 820;\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 16) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nfunction createMapType2(coach) {\n  const seatsMap = [];\n\n  for (let i = 0; i < 32; i++) {\n    seatsMap.push({\n      available: false,\n      selected: false,\n      isTop: i % 2,\n      price: i % 2 ? coach.coach.top_price : coach.coach.bottom_price,\n      width: 26,\n      height: 29,\n      top: i % 2 ? 29 : 58,\n      paddingTop: 5,\n    });\n  }\n\n  seatsMap[0].left = 133;\n  seatsMap[1].left = 133;\n  seatsMap[2].left = 194;\n  seatsMap[3].left = 194;\n  seatsMap[4].left = 223;\n  seatsMap[5].left = 223;\n  seatsMap[6].left = 283;\n  seatsMap[7].left = 283;\n  seatsMap[8].left = 312;\n  seatsMap[9].left = 312;\n  seatsMap[10].left = 373;\n  seatsMap[11].left = 373;\n  seatsMap[12].left = 402;\n  seatsMap[13].left = 402;\n  seatsMap[14].left = 462;\n  seatsMap[15].left = 462;\n  seatsMap[16].left = 491;\n  seatsMap[17].left = 491;\n  seatsMap[18].left = 552;\n  seatsMap[19].left = 552;\n  seatsMap[20].left = 581;\n  seatsMap[21].left = 581;\n  seatsMap[22].left = 641;\n  seatsMap[23].left = 641;\n  seatsMap[24].left = 670;\n  seatsMap[25].left = 670;\n  seatsMap[26].left = 731;\n  seatsMap[27].left = 731;\n  seatsMap[28].left = 760;\n  seatsMap[29].left = 760;\n  seatsMap[30].left = 820;\n  seatsMap[31].left = 820;\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 32) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nfunction createMapType3(coach) {\n  const seatsMap = [];\n\n  for (let i = 0; i < 48; i++) {\n    seatsMap.push({\n      available: false,\n      selected: false,\n      isTop: i % 2,\n      price: i % 2 ? coach.coach.top_price : coach.coach.bottom_price,\n      width: i > 31 ? 43 : 26,\n      height: i > 31 ? 25 : 31,\n      top: i > 31 ? 113 : i % 2 ? 29 : 60,\n      paddingTop: i > 31 ? 2 : 5,\n    });\n  }\n\n  seatsMap[0].left = 133;\n  seatsMap[1].left = 133;\n  seatsMap[2].left = 194;\n  seatsMap[3].left = 194;\n  seatsMap[4].left = 223;\n  seatsMap[5].left = 223;\n  seatsMap[6].left = 283;\n  seatsMap[7].left = 283;\n  seatsMap[8].left = 312;\n  seatsMap[9].left = 312;\n  seatsMap[10].left = 373;\n  seatsMap[11].left = 373;\n  seatsMap[12].left = 402;\n  seatsMap[13].left = 402;\n  seatsMap[14].left = 462;\n  seatsMap[15].left = 462;\n  seatsMap[16].left = 491;\n  seatsMap[17].left = 491;\n  seatsMap[18].left = 552;\n  seatsMap[19].left = 552;\n  seatsMap[20].left = 581;\n  seatsMap[21].left = 581;\n  seatsMap[22].left = 641;\n  seatsMap[23].left = 641;\n  seatsMap[24].left = 670;\n  seatsMap[25].left = 670;\n  seatsMap[26].left = 731;\n  seatsMap[27].left = 731;\n  seatsMap[28].left = 760;\n  seatsMap[29].left = 760;\n  seatsMap[30].left = 820;\n  seatsMap[31].left = 820;\n  seatsMap[32].left = 133;\n  seatsMap[33].left = 176;\n  seatsMap[34].left = 223;\n  seatsMap[35].left = 266;\n  seatsMap[36].left = 312;\n  seatsMap[37].left = 355;\n  seatsMap[38].left = 402;\n  seatsMap[39].left = 445;\n  seatsMap[40].left = 491;\n  seatsMap[41].left = 534;\n  seatsMap[42].left = 581;\n  seatsMap[43].left = 624;\n  seatsMap[44].left = 670;\n  seatsMap[45].left = 713;\n  seatsMap[46].left = 760;\n  seatsMap[47].left = 803;\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 48) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nfunction createMapType4(coach) {\n  const seatsMap = [];\n  for (let i = 0; i < 62; i++) {\n    seatsMap.push({\n      available: false,\n      selected: false,\n      isTop: false,\n      price: coach.coach.bottom_price,\n      width: 26,\n      height: 20,\n      paddingTop: 0,\n    });\n\n    switch (i + 1) {\n      case 2:\n      case 4:\n      case 6:\n      case 8:\n      case 10:\n      case 12:\n      case 14:\n      case 16:\n      case 18:\n      case 20:\n      case 22:\n      case 24:\n      case 26:\n      case 28:\n      case 30:\n      case 32:\n        seatsMap[i].top = 32;\n        break;\n      case 1:\n      case 3:\n      case 5:\n      case 7:\n      case 9:\n      case 11:\n      case 13:\n      case 15:\n      case 17:\n      case 19:\n      case 21:\n      case 23:\n      case 25:\n      case 27:\n      case 29:\n      case 31:\n        seatsMap[i].top = 53;\n        break;\n      case 34:\n      case 36:\n      case 38:\n      case 40:\n      case 42:\n      case 44:\n      case 46:\n      case 48:\n      case 50:\n      case 52:\n      case 54:\n      case 56:\n      case 58:\n      case 60:\n        seatsMap[i].top = 92;\n        break;\n      case 33:\n      case 35:\n      case 37:\n      case 39:\n      case 41:\n      case 43:\n      case 45:\n      case 47:\n      case 49:\n      case 51:\n      case 53:\n      case 55:\n      case 57:\n      case 59:\n      case 61:\n      case 62:\n        seatsMap[i].top = 113;\n        break;\n      default:\n    }\n\n    switch (i + 1) {\n      case 2:\n      case 1:\n      case 33:\n        seatsMap[i].left = 144;\n        break;\n      case 4:\n      case 3:\n      case 34:\n      case 35:\n        seatsMap[i].left = 189;\n        break;\n      case 6:\n      case 5:\n      case 36:\n      case 37:\n        seatsMap[i].left = 233;\n        break;\n      case 8:\n      case 7:\n      case 38:\n      case 39:\n        seatsMap[i].left = 277;\n        break;\n      case 10:\n      case 9:\n      case 40:\n      case 41:\n        seatsMap[i].left = 321;\n        break;\n      case 12:\n      case 11:\n      case 42:\n      case 43:\n        seatsMap[i].left = 365;\n        break;\n      case 14:\n      case 13:\n      case 44:\n      case 45:\n        seatsMap[i].left = 409;\n        break;\n      case 16:\n      case 15:\n      case 46:\n      case 47:\n        seatsMap[i].left = 453;\n        break;\n      case 18:\n      case 17:\n      case 48:\n      case 49:\n        seatsMap[i].left = 497;\n        break;\n      case 20:\n      case 19:\n      case 50:\n      case 51:\n        seatsMap[i].left = 541;\n        break;\n      case 22:\n      case 21:\n      case 52:\n      case 53:\n        seatsMap[i].left = 585;\n        break;\n      case 24:\n      case 23:\n      case 54:\n      case 55:\n        seatsMap[i].left = 629;\n        break;\n      case 26:\n      case 25:\n      case 56:\n      case 57:\n        seatsMap[i].left = 672;\n        break;\n      case 28:\n      case 27:\n      case 58:\n      case 59:\n        seatsMap[i].left = 717;\n        break;\n      case 30:\n      case 29:\n      case 60:\n      case 61:\n        seatsMap[i].left = 761;\n        break;\n      case 32:\n      case 31:\n      case 62:\n        seatsMap[i].left = 805;\n        break;\n      default:\n    }\n  }\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 62) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nexport function createSeatsMap(coach) {\n  const result = {};\n  //   (    ,   )\n  result.index = (coach.coach._id % 15) + 1;\n\n  switch (coach.coach.class_type) {\n    case \"first\":\n      result.classNumber = 1;\n      result.seatsMap = createMapType1(coach);\n      break;\n    case \"second\":\n      result.classNumber = 2;\n      result.seatsMap = createMapType2(coach);\n      break;\n    case \"third\":\n      result.classNumber = 3;\n      result.seatsMap = createMapType3(coach);\n      break;\n    default:\n      result.classNumber = 4;\n      result.seatsMap = createMapType4(coach);\n  }\n\n  result.price = coach.coach.price;\n  result.topPrice = coach.coach.top_price;\n  result.bottomPrice = coach.coach.bottom_price;\n  result.haveAirConditioning = coach.coach.have_air_conditioning;\n  result.haveWifi = coach.coach.have_wifi;\n  result.isLinensIncluded = coach.coach.is_linens_included;\n  result.haveFood = coach.coach.have_food;\n  result.wifiPrice = coach.coach.wifi_price;\n  result.linensPrice = coach.coach.linens_price;\n  result.coachId = coach.coach._id;\n\n  return result;\n}\n\nexport function getAvailableSeatsCount(seatsMap) {\n  return seatsMap.reduce(\n    (count, item) => (item.available ? count + 1 : count),\n    0\n  );\n}\n\nexport function getTopAvailableSeatsCount(seatsMap) {\n  return seatsMap.reduce(\n    (count, item) => (item.available && item.isTop ? count + 1 : count),\n    0\n  );\n}\n\nexport function getBottomAvailableSeatsCount(seatsMap) {\n  return seatsMap.reduce(\n    (count, item) => (item.available && !item.isTop ? count + 1 : count),\n    0\n  );\n}\n\nexport function getPrice(param, coach) {\n  const seat = typeof param === \"object\" ? param : coach.seatsMap[param];\n\n  if (!seat.selected) {\n    return 0;\n  }\n\n  let price = seat.price;\n  if (coach.addWifi) {\n    price += coach.wifiPrice;\n  }\n\n  if (coach.addLinens) {\n    price += coach.linensPrice;\n  }\n\n  if (seat.ticketType === \"child\") {\n    price = Math.trunc(price * 0.5);\n  }\n  return price;\n}\n\nexport function getSumPrice(coach) {\n  return coach.seatsMap.reduce((sum, item) => sum + getPrice(item, coach), 0);\n}\n","import { useState, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./CoachProperties.css\";\nimport icons from \"components/Main/icons.svg\";\nimport { separateThousands } from \"api/utils\";\nimport {\n  getAvailableSeatsCount,\n  getTopAvailableSeatsCount,\n  getBottomAvailableSeatsCount,\n  getSumPrice,\n} from \"api/seats\";\n\nexport default function CoachProperties(props) {\n  const { coach, checkOption, checkSeat, competitorCount } = props;\n\n  const [showHints, setShowHints] = useState([false, false, false, false]);\n\n  let price1 = null;\n  let price2 = null;\n  let isTop = false;\n\n  switch (coach.classNumber) {\n    case 1:\n      price1 = coach.price;\n      break;\n    case 2:\n    case 3:\n      price1 = coach.topPrice;\n      price2 = coach.bottomPrice;\n      isTop = true;\n      break;\n    case 4:\n      price1 = coach.bottomPrice;\n      break;\n    default:\n  }\n\n  const buttonClassName = \"coach-properties__button\";\n  const iconClassName = \"coach-properties__button-icon\";\n\n  let conditionerClassName = buttonClassName;\n  let conditionerIconClassName = iconClassName;\n  if (coach.haveAirConditioning) {\n    conditionerClassName += ` ${buttonClassName}_included`;\n  }\n\n  let wifiClassName = buttonClassName;\n  let wifiIconClassName = iconClassName;\n  if (coach.haveWifi) {\n    wifiClassName += ` ${buttonClassName}_enabled`;\n    wifiIconClassName += ` ${iconClassName}_enabled`;\n  }\n  if (coach.addWifi) {\n    wifiClassName += ` ${buttonClassName}_selected`;\n    wifiIconClassName += ` ${iconClassName}_selected`;\n  }\n\n  let linensClassName = buttonClassName;\n  let linensIconClassName = iconClassName;\n  if (coach.classNumber !== 4) {\n    if (coach.isLinensIncluded) {\n      linensClassName += ` ${buttonClassName}_included`;\n    } else {\n      linensClassName += ` ${buttonClassName}_enabled`;\n      linensIconClassName += ` ${iconClassName}_enabled`;\n\n      if (coach.addLinens) {\n        linensClassName += ` ${buttonClassName}_selected`;\n        linensIconClassName += ` ${iconClassName}_selected`;\n      }\n    }\n  }\n\n  let foodClassName = buttonClassName;\n  let foodIconClassName = iconClassName;\n  if (coach.haveFood) {\n    foodClassName += ` ${buttonClassName}_enabled`;\n    foodIconClassName += ` ${iconClassName}_enabled`;\n  }\n  if (coach.addFood) {\n    foodClassName += ` ${buttonClassName}_selected`;\n    foodIconClassName += ` ${iconClassName}_selected`;\n  }\n\n  const wifiChange = () => {\n    if (coach.haveWifi) {\n      checkOption(coach.index, \"addWifi\");\n    }\n  };\n\n  const linensChange = () => {\n    if (coach.classNumber === 4 || coach.isLinensIncluded) {\n      return;\n    }\n    checkOption(coach.index, \"addLinens\");\n  };\n\n  const foodChange = () => {\n    if (coach.haveFood) {\n      checkOption(coach.index, \"addFood\");\n    }\n  };\n\n  const changeHint = (optionIndex, isShow) => {\n    const hints = [...showHints];\n    hints[optionIndex] = isShow;\n    setShowHints(hints);\n  };\n\n  const buttonMouseOver = (optionIndex) => {\n    changeHint(optionIndex, true);\n  };\n\n  const buttonMouseOut = (optionIndex) => {\n    changeHint(optionIndex, false);\n  };\n\n  let mapClassName =\n    \"coach-properties__map coach-properties__map_\" + coach.classNumber;\n\n  const seatChange = (seatIndex) => {\n    if (coach.seatsMap[seatIndex].available) {\n      checkSeat(coach.index, seatIndex);\n    }\n  };\n\n  const sumPrice = getSumPrice(coach);\n\n  return (\n    <div className=\"coach-properties\">\n      <div className=\"coach-properties__header\">\n        <div className=\"coach-properties__label\">\n          <p className=\"coach-properties__index\">\n            {coach.index > 9 ? coach.index : \"0\" + coach.index}\n          </p>\n        </div>\n        <div className=\"coach-properties__seats\">\n          <p className=\"coach-properties__seats-all-title\">\n            \n            <span className=\"coach-properties__seats-all-count\">\n              {getAvailableSeatsCount(coach.seatsMap)}\n            </span>\n          </p>\n          {isTop && (\n            <Fragment>\n              <p className=\"coach-properties__seats-title\">\n                \n                <span className=\"coach-properties__seats-count\">\n                  {getTopAvailableSeatsCount(coach.seatsMap)}\n                </span>\n              </p>\n              <p className=\"coach-properties__seats-title\">\n                \n                <span className=\"coach-properties__seats-count\">\n                  {getBottomAvailableSeatsCount(coach.seatsMap)}\n                </span>\n              </p>\n            </Fragment>\n          )}\n        </div>\n        <div className=\"coach-properties__prices\">\n          <p className=\"coach-properties__prices-title\"></p>\n          <p className=\"coach-properties__price\">\n            {separateThousands(price1)}\n            <span className=\"coach-properties__currency\">&#x20bd;</span>\n          </p>\n          {price2 && (\n            <p className=\"coach-properties__price\">\n              {separateThousands(price2)}\n              <span className=\"coach-properties__currency\">&#x20bd;</span>\n            </p>\n          )}\n        </div>\n        <div className=\"coach-properties__service\">\n          <p className=\"coach-properties__service-title\">\n            \n            <span className=\"coach-propertis__service-title_light\"></span>\n          </p>\n          <ul className=\"coach-properties__options\">\n            <li\n              className={conditionerClassName}\n              onMouseOver={() => buttonMouseOver(0)}\n              onMouseOut={() => buttonMouseOut(0)}\n            >\n              <svg className={conditionerIconClassName} width=\"21\" height=\"21\">\n                <use xlinkHref={icons + \"#conditioner\"} />\n              </svg>\n              {showHints[0] && (\n                <p className=\"coach-properties__button-hint\"></p>\n              )}\n            </li>\n            <li\n              className={wifiClassName}\n              onClick={wifiChange}\n              onMouseOver={() => buttonMouseOver(1)}\n              onMouseOut={() => buttonMouseOut(1)}\n            >\n              <svg className={wifiIconClassName} width=\"20\" height=\"16\">\n                <use xlinkHref={icons + \"#wifi\"} />\n              </svg>\n              {showHints[1] && (\n                <p className=\"coach-properties__button-hint\">WI-FI</p>\n              )}\n            </li>\n            <li\n              className={linensClassName}\n              onClick={linensChange}\n              onMouseOver={() => buttonMouseOver(2)}\n              onMouseOut={() => buttonMouseOut(2)}\n            >\n              <svg className={linensIconClassName} width=\"22\" height=\"16\">\n                <use xlinkHref={icons + \"#linens\"} />\n              </svg>\n              {showHints[2] && (\n                <p className=\"coach-properties__button-hint\"></p>\n              )}\n            </li>\n            <li\n              className={foodClassName}\n              onClick={foodChange}\n              onMouseOver={() => buttonMouseOver(3)}\n              onMouseOut={() => buttonMouseOut(3)}\n            >\n              <svg className={foodIconClassName} width=\"20\" height=\"18\">\n                <use xlinkHref={icons + \"#food\"} />\n              </svg>\n              {showHints[3] && (\n                <p className=\"coach-properties__button-hint\"></p>\n              )}\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div className=\"coach-properties__map-container\">\n        <p className=\"coach-properties__hint\">\n          {competitorCount}      \n        </p>\n        <div className={mapClassName}>\n          <p className=\"coach-properties__map-label\">\n            {coach.index > 9 ? coach.index : \"0\" + coach.index}\n          </p>\n          {coach.seatsMap.map((item, i) => (\n            <p\n              className={\n                \"coach-properties__map-seat\" +\n                (item.available\n                  ? \" coach-properties__map-seat_available\"\n                  : \"\") +\n                (item.selected ? \" coach-properties__map-seat_selected\" : \"\") +\n                (item.selected && item.ticketType === \"child\"\n                  ? \" coach-properties__map-seat_child\"\n                  : \"\") +\n                (item.selected && item.ticketType === \"parent\"\n                  ? \" coach-properties__map-seat_parent\"\n                  : \"\")\n              }\n              key={i}\n              style={{\n                top: `${item.top}px`,\n                left: `${item.left}px`,\n                width: `${item.width}px`,\n                height: `${item.height}px`,\n                paddingTop: `${item.paddingTop}px`,\n              }}\n              onClick={() => seatChange(i)}\n            >\n              {i + 1}\n            </p>\n          ))}\n        </div>\n        {!!sumPrice && (\n          <p className=\"coach-properties__sum-price\">\n            {separateThousands(sumPrice)}\n            <span className=\"coach-properties__sum-price-currency\">\n              &#x20bd;\n            </span>\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nCoachProperties.propTypes = {\n  coach: PropTypes.object.isRequired,\n  checkOption: PropTypes.func.isRequired,\n  checkSeat: PropTypes.func.isRequired,\n  competitorCount: PropTypes.number.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport \"./CoachSelect.css\";\nimport CoachProperties from \"./CoachProperties/CoachProperties\";\nimport shortid from \"shortid\";\n\nexport default function CoachSelect(props) {\n  const { seatsState, setSeatsState } = props;\n\n  const coachArray = seatsState.info\n    .filter((item) => item.classNumber === seatsState.classNumber)\n    .sort((a, b) => a.index - b.index);\n\n  const coachClick = (coachIndex) => {\n    const coach = seatsState.info.find((item) => coachIndex === item.index);\n    coach.isSelected = !coach.isSelected;\n    setSeatsState({ ...seatsState, info: seatsState.info });\n  };\n\n  const checkOption = (coachIndex, optionFlagName) => {\n    const coach = seatsState.info.find((item) => coachIndex === item.index);\n    coach[optionFlagName] = !coach[optionFlagName];\n    setSeatsState({ ...seatsState, info: seatsState.info });\n  };\n\n  const checkSeat = (coachIndex, seatIndex) => {\n    const coach = seatsState.info.find((item) => coachIndex === item.index);\n\n    if (coach.seatsMap[seatIndex].selected) {\n      coach.seatsMap[seatIndex].selected = false;\n      switch (coach.seatsMap[seatIndex].ticketType) {\n        case \"full\":\n          setSeatsState({\n            ...seatsState,\n            info: seatsState.info,\n            fullTicketsCount: seatsState.fullTicketsCount - 1,\n          });\n          break;\n        case \"child\":\n          setSeatsState({\n            ...seatsState,\n            info: seatsState.info,\n            childTicketsCount: seatsState.childTicketsCount - 1,\n          });\n          break;\n        case \"parent\":\n          setSeatsState({\n            ...seatsState,\n            info: seatsState.info,\n            parentTicketsCount: seatsState.parentTicketsCount - 1,\n          });\n          break;\n        default:\n      }\n    } else if (\n      seatsState.fullTicketsCount +\n        seatsState.childTicketsCount +\n        seatsState.parentTicketsCount >=\n      6\n    ) {\n      return;\n    } else {\n      coach.seatsMap[seatIndex].selected = true;\n      coach.seatsMap[seatIndex].ticketType = seatsState.curTicketType;\n      switch (seatsState.curTicketType) {\n        case \"full\":\n          setSeatsState({\n            ...seatsState,\n            info: seatsState.info,\n            fullTicketsCount: seatsState.fullTicketsCount + 1,\n          });\n          break;\n        case \"child\":\n          setSeatsState({\n            ...seatsState,\n            info: seatsState.info,\n            childTicketsCount: seatsState.childTicketsCount + 1,\n          });\n          break;\n        case \"parent\":\n          setSeatsState({\n            ...seatsState,\n            info: seatsState.info,\n            parentTicketsCount: seatsState.parentTicketsCount + 1,\n          });\n          break;\n        default:\n      }\n    }\n  };\n\n  return (\n    <div className=\"coach-select\">\n      <div className=\"coach-select__header\">\n        <p className=\"coach-select__title\"></p>\n        {coachArray.map((item) => (\n          <p\n            className={\n              \"coach-select__number\" +\n              (item.isSelected ? \" coach-select__number_selected\" : \"\")\n            }\n            key={shortid.generate()}\n            onClick={() => coachClick(item.index)}\n          >\n            {item.index > 9 ? item.index : \"0\" + item.index}\n          </p>\n        ))}\n        <p className=\"coach-select__numbering\">\n               \n        </p>\n      </div>\n      {coachArray\n        .filter((item) => item.isSelected)\n        .map((item) => (\n          <div className=\"coach-select__coach\" key={shortid.generate()}>\n            <CoachProperties\n              coach={item}\n              checkOption={checkOption}\n              checkSeat={checkSeat}\n              competitorCount={seatsState.competitorCount}\n            />\n          </div>\n        ))}\n    </div>\n  );\n}\n\nCoachSelect.propTypes = {\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport \"./CoachType.css\";\nimport CoachSelect from \"./CoachSelect/CoachSelect\";\nimport icons from \"components/Main/icons.svg\";\n\nexport default function CoachType(props) {\n  const { seatsState, setSeatsState } = props;\n\n  const arrayTypes = [\n    {\n      iconName: \"fourth-class\",\n      className: \"\",\n      classNumber: 4,\n      margin: 0,\n    },\n    {\n      iconName: \"third-class\",\n      className: \"\",\n      classNumber: 3,\n      margin: 80,\n    },\n    { iconName: \"second-class\", className: \"\", classNumber: 2, margin: 45 },\n    { iconName: \"first-class\", className: \"\", classNumber: 1, margin: 68 },\n  ];\n\n  const iconClick = (classNumber) => {\n    setSeatsState({ ...seatsState, classNumber });\n  };\n\n  return (\n    <div className=\"coach-type\">\n      <h3 className=\"coach-type__title\"> </h3>\n      <ul\n        className={\n          \"coach-type__list\" +\n          (seatsState.classNumber ? \" coach-type__list_active\" : \"\")\n        }\n      >\n        {arrayTypes.map((item, i) => (\n          <li\n            className=\"coach-type__item\"\n            style={{ marginLeft: `${item.margin}px` }}\n            key={i}\n          >\n            <svg\n              className={\n                \"coach-type__icon\" +\n                (item.classNumber === seatsState.classNumber\n                  ? \" coach-type__icon_active\"\n                  : \"\")\n              }\n              width=\"50\"\n              height=\"50\"\n              onClick={() => iconClick(item.classNumber)}\n            >\n              <use xlinkHref={`${icons}#${item.iconName}`} />\n            </svg>\n            <p\n              className={\n                \"coach-type__name\" +\n                (item.classNumber === seatsState.classNumber\n                  ? \" coach-type__name_active\"\n                  : \"\")\n              }\n            >\n              {item.className}\n            </p>\n          </li>\n        ))}\n      </ul>\n      {!!seatsState.classNumber && (\n        <CoachSelect seatsState={seatsState} setSeatsState={setSeatsState} />\n      )}\n    </div>\n  );\n}\n\nCoachType.propTypes = {\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired,\n};\n","import { useContext } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport \"./TrainSeats.css\";\nimport AppContext from \"AppContext\";\nimport TrainSeatsHeader from \"./TrainSeatsHeader/TrainSeatsHeader\";\nimport SeatsCount from \"./SeatsCount/SeatsCount\";\nimport CoachType from \"./CoachType/CoachType\";\nimport icons from \"components/Main/icons.svg\";\nimport { loadTrainsInfo } from \"api/http/loadTrainsInfo\";\n\nexport default function TrainSeats(props) {\n  const { trainInfo, seatsState, setSeatsState, isForward } = props;\n\n  const { setAnimation, setPopup, trainsInfo, setTrainsInfo } =\n    useContext(AppContext);\n\n  const history = useHistory();\n\n  const returnToTrains = async (evt) => {\n    evt.preventDefault();\n\n    const result = await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, {\n      ...trainsInfo.params,\n      offset: 0,\n      direction: isForward ? \"forward\" : \"backward\",\n    });\n\n    if (result) {\n      history.push(\"/run/trains\");\n    }\n  };\n\n  return (\n    <div className=\"train-seats\">\n      <div\n        className={\n          \"train-seats__return\" +\n          (isForward ? \"\" : \" train-seats__return_mirror\")\n        }\n      >\n        <svg\n          className={\n            \"train-seats__return-icon\" +\n            (isForward ? \"\" : \" train-seats__return-icon_mirror\")\n          }\n          width=\"76\"\n          height=\"60\"\n        >\n          <use xlinkHref={icons + \"#arrow-negative-big\"} />\n        </svg>\n        <Link\n          to={\"/run/trains\"}\n          className=\"train-seats__return-button\"\n          onClick={returnToTrains}\n        >\n            \n        </Link>\n      </div>\n      <TrainSeatsHeader trainInfo={trainInfo} isForward={isForward} />\n      <SeatsCount seatsState={seatsState} setSeatsState={setSeatsState} />\n      <CoachType seatsState={seatsState} setSeatsState={setSeatsState} />\n    </div>\n  );\n}\n\nTrainSeats.propTypes = {\n  trainInfo: PropTypes.object.isRequired,\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired,\n  isForward: PropTypes.bool.isRequired,\n};\n","import { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Seats.css\";\nimport AppContext from \"AppContext\";\nimport ProgressIndicator from \"../ProgressIndicator/ProgressIndicator\";\nimport TrainsParams from \"../Trains/TrainsParams/TrainsParams\";\nimport LastRoutes from \"../Trains/LastRoutes/LastRoutes\";\nimport TrainSeats from \"./TrainSeats/TrainSeats\";\nimport { loadSeatsInfo } from \"api/http/loadSeatsInfo\";\nimport { errorBox } from \"api/gui\";\nimport { createSeatsMap, getPrice } from \"api/seats\";\n\nexport default function Seats() {\n  const [forwardSeats, setForwardSeats] = useState({ competitorCount: 0 });\n  const [backwardSeats, setBackwardSeats] = useState({ competitorCount: 0 });\n\n  const {\n    setBookingStage,\n    setAnimation,\n    setPopup,\n    forwardTrain,\n    backwardTrain,\n    seatsInfo,\n    setSeatsInfo,\n    setOrderInfo,\n  } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage(\"seats\");\n  }, [setBookingStage]);\n\n  useEffect(() => {\n    setForwardSeats({\n      info: seatsInfo.forwardSeatsInfo.map((item) => createSeatsMap(item)),\n      classNumber: 0,\n      curTicketType: \"full\",\n      fullTicketsCount: 0,\n      childTicketsCount: 0,\n      parentTicketsCount: 0,\n      competitorCount: Math.trunc(Math.random() * 10) + 5,\n    });\n    setBackwardSeats({\n      info: seatsInfo.backwardSeatsInfo.map((item) => createSeatsMap(item)),\n      classNumber: 0,\n      curTicketType: \"full\",\n      fullTicketsCount: 0,\n      childTicketsCount: 0,\n      parentTicketsCount: 0,\n      competitorCount: Math.trunc(Math.random() * 10) + 5,\n    });\n  }, [seatsInfo]);\n\n  const reloadInfo = async (params) => {\n    await loadSeatsInfo(setAnimation, setPopup, setSeatsInfo, {\n      ...seatsInfo.params,\n      ...params,\n    });\n  };\n\n  const forwardTicketsCount =\n    forwardSeats.fullTicketsCount +\n    forwardSeats.childTicketsCount +\n    forwardSeats.parentTicketsCount;\n  const backwardTicketsCount =\n    backwardSeats.fullTicketsCount +\n    backwardSeats.childTicketsCount +\n    backwardSeats.parentTicketsCount;\n  const isNextEnabled =\n    forwardTicketsCount &&\n    forwardSeats.fullTicketsCount === backwardSeats.fullTicketsCount &&\n    forwardSeats.childTicketsCount === backwardSeats.childTicketsCount &&\n    forwardSeats.parentTicketsCount === backwardSeats.parentTicketsCount;\n\n  const goToNext = (evt) => {\n    if (!isNextEnabled) {\n      evt.preventDefault();\n    }\n\n    if (!forwardTicketsCount || !backwardTicketsCount) {\n      errorBox(setPopup, [\n        \"  \",\n        \"           \",\n      ]);\n      return;\n    }\n\n    if (forwardSeats.fullTicketsCount !== backwardSeats.fullTicketsCount) {\n      errorBox(setPopup, [\n        \"  \",\n        \"        \",\n      ]);\n      return;\n    }\n\n    if (forwardSeats.childTicketsCount !== backwardSeats.childTicketsCount) {\n      errorBox(setPopup, [\n        \"  \",\n        \"        \",\n      ]);\n      return;\n    }\n\n    if (forwardSeats.parentTicketsCount !== backwardSeats.parentTicketsCount) {\n      errorBox(setPopup, [\n        \"  \",\n        \"          \",\n      ]);\n      return;\n    }\n\n    const forwardSeatList = [];\n    const backwardSeatList = [];\n\n    forwardSeats.info.forEach((coach) =>\n      coach.seatsMap.forEach((seat, i) => {\n        if (seat.selected) {\n          forwardSeatList.push({\n            coachId: coach.coachId,\n            seatNumber: i + 1,\n            fullPrice: getPrice({ ...seat, ticketType: \"full\" }, coach),\n            childPrice: getPrice({ ...seat, ticketType: \"child\" }, coach),\n          });\n        }\n      })\n    );\n\n    backwardSeats.info.forEach((coach) =>\n      coach.seatsMap.forEach((seat, i) => {\n        if (seat.selected) {\n          backwardSeatList.push({\n            coachId: coach.coachId,\n            seatNumber: i + 1,\n            fullPrice: getPrice({ ...seat, ticketType: \"full\" }, coach),\n            childPrice: getPrice({ ...seat, ticketType: \"child\" }, coach),\n          });\n        }\n      })\n    );\n\n    const initOrderInfo = {\n      seatList: {\n        forward: forwardSeatList,\n        backward: backwardSeatList,\n      },\n      passengerList: [\n        {\n          isCollapsed: false,\n          isAdult: true,\n          firstName: \"\",\n          lastName: \"\",\n          patronymic: \"\",\n          gender: true,\n          birthday: \"\",\n          isDisability: false,\n          includeChild: false,\n          documentType: \" \",\n          passportSeries: \"\",\n          passportNumber: \"\",\n          birthSertificateNumber: \"\",\n          isChange: false,\n          isError: false,\n          isReady: false,\n        },\n      ],\n    };\n\n    setOrderInfo(initOrderInfo);\n    localStorage.setItem(\"orderInfo\", JSON.stringify(initOrderInfo));\n  };\n\n  return (\n    <main className=\"seats\">\n      <ProgressIndicator stepNumber={1} />\n      <div className=\"seats__main\">\n        <section className=\"seats__left\">\n          <TrainsParams reloadInfo={reloadInfo} />\n          <LastRoutes />\n        </section>\n        <section className=\"seats__right\">\n          <h2 className=\"seats__title\"> </h2>\n          <div className=\"seats__train-seats\">\n            <TrainSeats\n              trainInfo={forwardTrain}\n              seatsState={forwardSeats}\n              setSeatsState={setForwardSeats}\n              isForward={true}\n            />\n          </div>\n          <div className=\"seats__train-seats\">\n            <TrainSeats\n              trainInfo={backwardTrain}\n              seatsState={backwardSeats}\n              setSeatsState={setBackwardSeats}\n              isForward={false}\n            />\n          </div>\n          <Link\n            to=\"/run/passengers\"\n            className={\n              \"seats__button\" + (isNextEnabled ? \" seats__button_active\" : \"\")\n            }\n            onClick={goToNext}\n          >\n            \n          </Link>\n        </section>\n      </div>\n    </main>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport \"./TravelDetailsTrain.css\";\nimport icons from \"components/Main/icons.svg\";\nimport { secToDate, secToHourMin, durationToHourMin } from \"api/utils\";\n\nexport default function TravelDetailsTrain(props) {\n  const { isForward, isCollapsed, setCollapsed, train } = props;\n\n  return (\n    <div className=\"travel-details-train\">\n      <div className=\"travel-details-train__collapsed\">\n        <svg\n          className={\n            \"travel-details-train__arrow-neg\" +\n            (isForward ? \"\" : \" travel-details-train__arrow-neg_mirror\")\n          }\n          width=\"32\"\n          height=\"26\"\n        >\n          <use xlinkHref={icons + \"#arrow-negative\"} />\n        </svg>\n        <p className=\"travel-details-train__title\">\n          {isForward ? \"\" : \"\"}\n        </p>\n        <p\n          className={\n            \"travel-details-train__title-date\" +\n            (isForward ? \"\" : \" travel-details-train__title-date_backward\")\n          }\n        >\n          {secToDate(isForward ? train.from.datetime : train.to.datetime)}\n        </p>\n        <button\n          className={\n            \"travel-details-train__button\" +\n            (isCollapsed ? \"\" : \" travel-details-train__button_minus\")\n          }\n          type=\"button\"\n          onClick={setCollapsed}\n        ></button>\n      </div>\n      {!isCollapsed && (\n        <div className=\"travel-details-train__full\">\n          <div className=\"travel-details-train__number\">\n            <p className=\"travel-details-train__number-left\"> </p>\n            <p className=\"travel-details-train__number-right\">\n              {train.train._id}\n            </p>\n          </div>\n          <div className=\"travel-details-train__name\">\n            <p className=\"travel-details-train__name-left\"></p>\n            <p className=\"travel-details-train__name-right\">\n              {train.from.city.name}\n              <br />\n              {train.to.city.name}\n              <br />\n              {!!train.train.name && train.train.name}\n            </p>\n          </div>\n          <p className=\"travel-details-train__duration\">\n            {durationToHourMin(train.duration)}\n          </p>\n          <div className=\"travel-details-train__times\">\n            <p className=\"travel-details-train__time-left\">\n              {secToHourMin(\n                isForward ? train.from.datetime : train.to.datetime\n              )}\n            </p>\n            <svg\n              className={\n                \"travel-details-train__arrow\" +\n                (isForward ? \"\" : \" travel-details-train__arrow_mirror\")\n              }\n              width=\"30\"\n              height=\"20\"\n            >\n              <use xlinkHref={icons + \"#arrow\"} />\n            </svg>\n            <p className=\"travel-details-train__time-right\">\n              {secToHourMin(\n                isForward ? train.to.datetime : train.from.datetime\n              )}\n            </p>\n          </div>\n          <div className=\"travel-details-train__dates\">\n            <p className=\"travel-details-train__date-left\">\n              {secToDate(isForward ? train.from.datetime : train.to.datetime)}\n            </p>\n            <p className=\"travel-details-train__date-right\">\n              {secToDate(isForward ? train.to.datetime : train.from.datetime)}\n            </p>\n          </div>\n          <div className=\"travel-details-train__cities\">\n            <p className=\"travel-details-train__city-left\">\n              {isForward ? train.from.city.name : train.to.city.name}\n            </p>\n            <p className=\"travel-details-train__city-right\">\n              {isForward ? train.to.city.name : train.from.city.name}\n            </p>\n          </div>\n          <div className=\"travel-details-train__stations\">\n            <p className=\"travel-details-train__station-left\">\n              {isForward\n                ? train.from.railway_station_name\n                : train.to.railway_station_name}\n            </p>\n            <p className=\"travel-details-train__station-right\">\n              {isForward\n                ? train.to.railway_station_name\n                : train.from.railway_station_name}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nTravelDetailsTrain.propTypes = {\n  isForward: PropTypes.bool.isRequired,\n  isCollapsed: PropTypes.bool.isRequired,\n  setCollapsed: PropTypes.func.isRequired,\n  train: PropTypes.object.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport \"./TravelDetailsPassengers.css\";\nimport icons from \"components/Main/icons.svg\";\nimport { separateThousands } from \"api/utils\";\n\nexport default function TravelDetailsPassengers(props) {\n  const { isCollapsed, setCollapsed, priceInfo } = props;\n\n  return (\n    <div className=\"travel-details-passengers\">\n      <div className=\"travel-details-passengers__collapsed\">\n        <svg className=\"travel-details-passengers__icon\" width=\"26\" height=\"26\">\n          <use xlinkHref={icons + \"#passenger\"} />\n        </svg>\n        <p className=\"travel-details-passengers__title\"></p>\n        <button\n          className={\n            \"travel-details-passengers__button\" +\n            (isCollapsed ? \"\" : \" travel-details-passengers__button_minus\")\n          }\n          type=\"button\"\n          onClick={setCollapsed}\n        ></button>\n      </div>\n      {!isCollapsed && (\n        <div className=\"travel-details-passengers__full\">\n          {!!priceInfo.adult.count && (\n            <div className=\"travel-details-passengers__item\">\n              <p className=\"travel-details-passengers__count\">\n                {priceInfo.adult.count}\n              </p>\n              <p className=\"travel-details-passengers__price\">\n                {separateThousands(priceInfo.adult.price)}\n              </p>\n              <p className=\"travel-details-passengers__currency\">&#x20bd;</p>\n            </div>\n          )}\n          {!!priceInfo.child.count && (\n            <div className=\"travel-details-passengers__item\">\n              <p className=\"travel-details-passengers__count\">\n                {priceInfo.child.count}\n              </p>\n              <p className=\"travel-details-passengers__price\">\n                {separateThousands(priceInfo.child.price)}\n              </p>\n              <p className=\"travel-details-passengers__currency\">&#x20bd;</p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nTravelDetailsPassengers.propTypes = {\n  isCollapsed: PropTypes.bool.isRequired,\n  setCollapsed: PropTypes.func.isRequired,\n  priceInfo: PropTypes.object.isRequired,\n};\n","import { useContext } from \"react\";\nimport \"./TravelDetails.css\";\nimport AppContext from \"AppContext\";\nimport TravelDetailsTrain from \"./TravelDetailsTrain/TravelDetailsTrain\";\nimport TravelDetailsPassengers from \"./TravelDetailsPassengers/TravelDetailsPassengers\";\nimport { separateThousands } from \"api/utils\";\n\nexport default function TravelDetails() {\n  const {\n    forwardTrain,\n    backwardTrain,\n    travelDetailsCollapsed,\n    setTravelDetailsCollapsed,\n    orderInfo,\n  } = useContext(AppContext);\n\n  const setSectionCollapsed = (name) => {\n    setTravelDetailsCollapsed({\n      ...travelDetailsCollapsed,\n      [name]: !travelDetailsCollapsed[name],\n    });\n  };\n\n  const initPriceInfo = {\n    adult: { count: 0, price: 0 },\n    child: { count: 0, price: 0 },\n  };\n\n  const priceInfo = orderInfo.passengerList\n    .filter((item) => item.isReady)\n    .reduce((info, item, i) => {\n      if (item.isAdult) {\n        info.adult.count++;\n        info.adult.price +=\n          orderInfo.seatList.forward[i].fullPrice +\n          orderInfo.seatList.backward[i].fullPrice;\n      } else {\n        info.child.count++;\n        info.child.price +=\n          orderInfo.seatList.forward[i].childPrice +\n          orderInfo.seatList.backward[i].childPrice;\n      }\n\n      return info;\n    }, initPriceInfo);\n\n  switch (priceInfo.adult.count) {\n    case 0:\n      break;\n    case 1:\n      priceInfo.adult.count += \" \";\n      break;\n    default:\n      priceInfo.adult.count += \" \";\n  }\n\n  switch (priceInfo.child.count) {\n    case 0:\n      break;\n    case 1:\n      priceInfo.child.count += \" \";\n      break;\n    case 2:\n    case 3:\n    case 4:\n      priceInfo.child.count += \" \";\n      break;\n    default:\n      priceInfo.child.count += \" \";\n  }\n\n  return (\n    <div className=\"travel-details\">\n      <h2 className=\"travel-details__title\"> </h2>\n      <div className=\"travel-details__train\">\n        <TravelDetailsTrain\n          isForward={true}\n          isCollapsed={travelDetailsCollapsed.forward}\n          setCollapsed={() => setSectionCollapsed(\"forward\")}\n          train={forwardTrain}\n        />\n      </div>\n      <div className=\"travel-details__train\">\n        <TravelDetailsTrain\n          isForward={false}\n          isCollapsed={travelDetailsCollapsed.backward}\n          setCollapsed={() => setSectionCollapsed(\"backward\")}\n          train={backwardTrain}\n        />\n      </div>\n      <div className=\"travel-details__passengers\">\n        <TravelDetailsPassengers\n          isCollapsed={travelDetailsCollapsed.passengers}\n          setCollapsed={() => setSectionCollapsed(\"passengers\")}\n          priceInfo={priceInfo}\n        />\n      </div>\n      <div className=\"travel-details__total\">\n        <p className=\"travel-details__total-title\"></p>\n        <p className=\"travel-details__price\">\n          {separateThousands(priceInfo.adult.price + priceInfo.child.price)}\n        </p>\n        <p className=\"travel-details__currency\">&#x20bd;</p>\n      </div>\n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport function verifyData(data) {\n  const {\n    isAdult,\n    firstName,\n    lastName,\n    patronymic,\n    birthday,\n    documentType,\n    passportSeries,\n    passportNumber,\n    birthSertificateNumber,\n  } = data;\n\n  const result = {\n    errorFlags: {},\n    errorText: {},\n    isReady: true,\n  };\n\n  if (!lastName) {\n    result.errorFlags.lastName = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: ' \"\"   ',\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!firstName) {\n    result.errorFlags.firstName = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: ' \"\"   ',\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!patronymic) {\n    result.errorFlags.patronymic = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: ' \"\"   ',\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (birthday.length !== 10) {\n    result.errorFlags.birthday = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: \"      \",\n        string2: \" (  ,   ):\",\n        string3: \"25.05.1975\",\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!moment(birthday, \"DD.MM.YYYY\").isValid()) {\n    result.errorFlags.birthday = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: ' \" \"   ',\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!isAdult && documentType === \" \") {\n    result.errorFlags.documentType = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: \"      \",\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (documentType === \" \") {\n    if (passportSeries.length !== 4) {\n      result.errorFlags.passportSeries = true;\n      if (result.isReady) {\n        result.errorText = {\n          string1: \"      \",\n          string2: \":\",\n          string3: \"1234\",\n        };\n      }\n      result.isReady = false;\n    }\n\n    if (passportNumber.length !== 6) {\n      result.errorFlags.passportNumber = true;\n      if (result.isReady) {\n        result.errorText = {\n          string1: \"      \",\n          string2: \":\",\n          string3: \"123456\",\n        };\n      }\n      result.isReady = false;\n    }\n  } else {\n    if (!/^[IVX]{2,4}[-]{2}[0-9]{6}$/.test(birthSertificateNumber)) {\n      result.errorFlags.birthSertificateNumber = true;\n      if (result.isReady) {\n        result.errorText = {\n          string1:\n            \"        \",\n          string2: \":\",\n          string3: \"VIII  123456\",\n        };\n      }\n      result.isReady = false;\n    }\n  }\n\n  return result;\n}\n","export default __webpack_public_path__ + \"static/media/ready.e0b774b9.svg\";","export default __webpack_public_path__ + \"static/media/error.f0e873e6.svg\";","import { useState, useContext, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./EditPassenger.css\";\nimport AppContext from \"AppContext\";\nimport { verifyData } from \"./verifyData\";\nimport readyIcon from \"./ready.svg\";\nimport errorIcon from \"./error.svg\";\n\nexport default function EditPassenger(props) {\n  const { passenger, index, passengerList, setPassengerList } = props;\n\n  const [passengerState, setPassengerState] = useState(passenger);\n  const [ageListShow, setAgeListShow] = useState(false);\n  const [documentTypeListShow, setDocumentTypeListShow] = useState(false);\n\n  const { orderInfo, setOrderInfo } = useContext(AppContext);\n\n  const {\n    isCollapsed,\n    isAdult,\n    firstName,\n    lastName,\n    patronymic,\n    gender,\n    birthday,\n    isDisability,\n    documentType,\n    passportSeries,\n    passportNumber,\n    birthSertificateNumber,\n    isChange,\n    isError,\n    isReady,\n  } = passengerState;\n\n  const isPassport = documentType === \" \";\n\n  const changeValue = (name, value) => {\n    setPassengerState({ ...passengerState, [name]: value });\n  };\n\n  const changeBirthday = (value) => {\n    const digitsArray = value.replace(/[^\\d]/g, \"\").split(\"\", 8);\n    if (digitsArray.length > 4) {\n      digitsArray.splice(4, 0, \".\");\n    }\n    if (digitsArray.length > 2) {\n      digitsArray.splice(2, 0, \".\");\n    }\n    changeValue(\"birthday\", digitsArray.join(\"\"));\n  };\n\n  const changePassportSeries = (value) => {\n    const newValue = value.replace(/[^\\d]/g, \"\").slice(0, 4);\n    changeValue(\"passportSeries\", newValue);\n  };\n\n  const changePassportNumber = (value) => {\n    const newValue = value.replace(/[^\\d]/g, \"\").slice(0, 6);\n    changeValue(\"passportNumber\", newValue);\n  };\n\n  const setValue = (name, value) => {\n    const list = [...passengerList];\n\n    switch (name) {\n      case \"isCollapsed\":\n      case \"isChange\":\n      case \"isError\":\n      case \"isReady\":\n        break;\n      default:\n        if (list[index][name] !== value) {\n          list[index].isChange = true;\n          list[index].isError = false;\n          list[index].isReady = false;\n        }\n    }\n\n    list[index][name] = value;\n    setPassengerList(list);\n  };\n\n  const setBirthSertificateNumber = (value) => {\n    const newValue = value\n      .replace(/[^0-9IVX-]/g, \"\")\n      .slice(0, 12)\n      .toUpperCase();\n    setValue(\"birthSertificateNumber\", newValue);\n  };\n\n  const keyPress = (evt) => {\n    if (evt.key === \"Enter\") {\n      evt.target.blur();\n    }\n  };\n\n  const savePassenger = (evt) => {\n    const list = [...passengerList];\n\n    list[index].isChange = false;\n    list[index].isReady = verifyData(passengerState).isReady;\n    list[index].isError = !list[index].isReady;\n\n    const newOrderInfo = { ...orderInfo, passengerList: list };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem(\"orderInfo\", JSON.stringify(newOrderInfo));\n  };\n\n  const deletePassenger = () => {\n    const list = passengerList;\n    list.splice(index, 1);\n    const newOrderInfo = { ...orderInfo, passengerList: list };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem(\"orderInfo\", JSON.stringify(newOrderInfo));\n  };\n\n  let verify = {\n    errorFlags: {},\n    errorText: {},\n  };\n\n  if (isError) {\n    verify = verifyData(passengerState);\n  }\n\n  const { errorFlags, errorText } = verify;\n\n  return (\n    <div className=\"edit-passenger\">\n      <div\n        className={\n          \"edit-passenger__collapsed\" +\n          (isCollapsed ? \"\" : \" edit-passenger__collapsed_gray\")\n        }\n      >\n        <button\n          className={\n            \"edit-passenger__button-collapse\" +\n            (isCollapsed ? \"\" : \" edit-passenger__button-collapse_minus\")\n          }\n          type=\"button\"\n          onClick={() => setValue(\"isCollapsed\", !isCollapsed)}\n        ></button>\n        <p className=\"edit-passenger__title\"> {index + 1}</p>\n        {!isCollapsed && (\n          <button\n            className=\"edit-passenger__button-close\"\n            type=\"button\"\n            onClick={deletePassenger}\n          ></button>\n        )}\n      </div>\n      {!isCollapsed && (\n        <form className=\"edit-passenger__form\">\n          <div className=\"edit-passenger__ago-container\">\n            <input\n              className=\"edit-passenger__input edit-passenger__ago edit-passsenger__listbox\"\n              type=\"text\"\n              name=\"age\"\n              value={isAdult ? \"\" : \"\"}\n              readOnly\n              onClick={() => setAgeListShow(true)}\n            />\n            {ageListShow && (\n              <ul className=\"edit-passenger__list\">\n                <li\n                  className=\"edit-passenger__list-item\"\n                  onClick={() => setValue(\"isAdult\", true)}\n                >\n                  \n                </li>\n                <li\n                  className=\"edit-passenger__list-item\"\n                  onClick={() => setValue(\"isAdult\", false)}\n                >\n                  \n                </li>\n              </ul>\n            )}\n          </div>\n          <div className=\"edit-passenger__name-section\">\n            <label className=\"edit-passenger__label edit-passenger__last-name\">\n              \n              <input\n                className={\n                  \"edit-passenger__input\" +\n                  (errorFlags.lastName ? \" edit-passenger__error\" : \"\")\n                }\n                type=\"text\"\n                name=\"last-name\"\n                placeholder=\"\"\n                value={lastName}\n                onChange={(evt) => changeValue(\"lastName\", evt.target.value)}\n                onBlur={(evt) => setValue(\"lastName\", evt.target.value.trim())}\n                onKeyPress={keyPress}\n              />\n            </label>\n            <label className=\"edit-passenger__label edit-passenger__first-name\">\n              \n              <input\n                className={\n                  \"edit-passenger__input\" +\n                  (errorFlags.firstName ? \" edit-passenger__error\" : \"\")\n                }\n                type=\"text\"\n                name=\"first-name\"\n                placeholder=\"\"\n                value={firstName}\n                onChange={(evt) => changeValue(\"firstName\", evt.target.value)}\n                onBlur={(evt) => setValue(\"firstName\", evt.target.value.trim())}\n                onKeyPress={keyPress}\n              />\n            </label>\n            <label className=\"edit-passenger__label edit-passenger__patronymic\">\n              \n              <input\n                className={\n                  \"edit-passenger__input\" +\n                  (errorFlags.patronymic ? \" edit-passenger__error\" : \"\")\n                }\n                type=\"text\"\n                name=\"patronymic\"\n                placeholder=\"\"\n                value={patronymic}\n                onChange={(evt) => changeValue(\"patronymic\", evt.target.value)}\n                onBlur={(evt) =>\n                  setValue(\"patronymic\", evt.target.value.trim())\n                }\n                onKeyPress={keyPress}\n              />\n            </label>\n          </div>\n          <div className=\"edit-passenger__data-section\">\n            <label className=\"edit-passenger__label edit-passenger__gender\">\n              \n              <div className=\"edit-passenger__gender-selector\">\n                <div\n                  className={\n                    \"edit-passenger__gender-item\" +\n                    (gender ? \" edit-passenger__gender-item_active\" : \"\")\n                  }\n                  onClick={() => setValue(\"gender\", true)}\n                >\n                  \n                </div>\n                <div\n                  className={\n                    \"edit-passenger__gender-item\" +\n                    (gender ? \"\" : \" edit-passenger__gender-item_active\")\n                  }\n                  onClick={() => setValue(\"gender\", false)}\n                >\n                  \n                </div>\n              </div>\n            </label>\n            <label className=\"edit-passenger__label edit-passenger__birthday\">\n               \n              <input\n                className={\n                  \"edit-passenger__input\" +\n                  (errorFlags.birthday ? \" edit-passenger__error\" : \"\")\n                }\n                type=\"text\"\n                name=\"birthday\"\n                placeholder=\"  \"\n                value={birthday}\n                onChange={(evt) => changeBirthday(evt.target.value)}\n                onBlur={(evt) => setValue(\"birthday\", evt.target.value)}\n                onKeyPress={keyPress}\n              />\n            </label>\n          </div>\n          <div className=\"edit-passenger__options-section\">\n            <label\n              className={\n                \"edit-passenger__label edit-passenger__label-checkbox\" +\n                (isDisability ? \" edit-passenger__label-checkbox_checked\" : \"\")\n              }\n            >\n              <input\n                className=\"edit-passenger__checkbox\"\n                type=\"checkbox\"\n                name=\"disability\"\n                checked={isDisability}\n                onChange={() => setValue(\"isDisability\", !isDisability)}\n              />\n               \n            </label>\n          </div>\n          <div className=\"edit-passenger__document-data-section\">\n            <label\n              className={\n                \"edit-passenger__label edit-passenger__document-type\" +\n                (isPassport\n                  ? \" edit-passenger__document-type_passport\"\n                  : \" edit-passenger__document-type_sertificate\")\n              }\n            >\n               \n              <input\n                className={\n                  \"edit-passenger__input edit-passsenger__listbox\" +\n                  (errorFlags.documentType ? \" edit-passenger__error\" : \"\")\n                }\n                type=\"text\"\n                name=\"document-type\"\n                value={documentType}\n                readOnly\n                onClick={() => setDocumentTypeListShow(true)}\n              />\n              {documentTypeListShow && (\n                <ul className=\"edit-passenger__list edit-passenger__list_document-type\">\n                  <li\n                    className=\"edit-passenger__list-item\"\n                    onClick={() => setValue(\"documentType\", \" \")}\n                  >\n                     \n                  </li>\n                  <li\n                    className=\"edit-passenger__list-item\"\n                    onClick={() =>\n                      setValue(\"documentType\", \"  \")\n                    }\n                  >\n                      \n                  </li>\n                </ul>\n              )}\n            </label>\n            {isPassport ? (\n              <Fragment>\n                <label className=\"edit-passenger__label edit-passenger__passport-series\">\n                  \n                  <input\n                    className={\n                      \"edit-passenger__input edit-passenger__input_passport-series\" +\n                      (errorFlags.passportSeries\n                        ? \" edit-passenger__error\"\n                        : \"\")\n                    }\n                    type=\"text\"\n                    name=\"passport-series\"\n                    placeholder=\" \"\n                    value={passportSeries}\n                    onChange={(evt) => changePassportSeries(evt.target.value)}\n                    onBlur={(evt) =>\n                      setValue(\"passportSeries\", evt.target.value)\n                    }\n                    onKeyPress={keyPress}\n                  />\n                </label>\n                <label className=\"edit-passenger__label edit-passenger__passport-number\">\n                  \n                  <input\n                    className={\n                      \"edit-passenger__input edit-passenger__input_passport-number\" +\n                      (errorFlags.passportNumber\n                        ? \" edit-passenger__error\"\n                        : \"\")\n                    }\n                    type=\"text\"\n                    name=\"passport-number\"\n                    placeholder=\" \"\n                    value={passportNumber}\n                    onChange={(evt) => changePassportNumber(evt.target.value)}\n                    onBlur={(evt) =>\n                      setValue(\"passportNumber\", evt.target.value)\n                    }\n                    onKeyPress={keyPress}\n                  />\n                </label>\n              </Fragment>\n            ) : (\n              <label className=\"edit-passenger__label edit-passenger__sertificate-number\">\n                \n                <input\n                  className={\n                    \"edit-passenger__input edit-passenger__input_sertificate\" +\n                    (errorFlags.birthSertificateNumber\n                      ? \" edit-passenger__error\"\n                      : \"\")\n                  }\n                  type=\"text\"\n                  name=\"sertificate-number\"\n                  placeholder=\" \"\n                  value={birthSertificateNumber}\n                  onChange={(evt) =>\n                    changeValue(\n                      \"birthSertificateNumber\",\n                      evt.target.value.toUpperCase()\n                    )\n                  }\n                  onBlur={(evt) => setBirthSertificateNumber(evt.target.value)}\n                  onKeyPress={keyPress}\n                />\n              </label>\n            )}\n          </div>\n          <div\n            className={\n              \"edit-passenger__state-section\" +\n              (isError ? \" edit-passenger__state-section_error\" : \"\") +\n              (isReady ? \" edit-passenger__state-section_ready\" : \"\")\n            }\n          >\n            {isReady && (\n              <Fragment>\n                <img\n                  className=\"edit-passenger__state-icon\"\n                  src={readyIcon}\n                  width=\"32\"\n                  height=\"32\"\n                  alt=\"ready-icon\"\n                />\n                <div className=\"edit-passenger__state-text-container\">\n                  <p className=\"edit-passenger__state-text-ready\"></p>\n                </div>\n              </Fragment>\n            )}\n            {isError && (\n              <Fragment>\n                <img\n                  className=\"edit-passenger__state-icon\"\n                  src={errorIcon}\n                  width=\"32\"\n                  height=\"32\"\n                  alt=\"error-icon\"\n                />\n                <div className=\"edit-passenger__state-text-container\">\n                  {errorText.string1 && (\n                    <p className=\"edit-passenger__state-text-error\">\n                      {errorText.string1}\n                    </p>\n                  )}\n                  {errorText.string2 && (\n                    <p className=\"edit-passenger__state-text-error\">\n                      {errorText.string2}\n                      {errorText.string3 && (\n                        <span className=\"edit-passenger__state-text-error_bold\">\n                          {errorText.string3}\n                        </span>\n                      )}\n                    </p>\n                  )}\n                </div>\n              </Fragment>\n            )}\n            {isChange && (\n              <button\n                className=\"edit-passenger__button-save\"\n                type=\"button\"\n                onClick={savePassenger}\n              >\n                 \n              </button>\n            )}\n          </div>\n        </form>\n      )}\n    </div>\n  );\n}\n\nEditPassenger.propTypes = {\n  passenger: PropTypes.object.isRequired,\n  index: PropTypes.number.isRequired,\n  passengerList: PropTypes.array.isRequired,\n  setPassengerList: PropTypes.func.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport \"./AddPassenger.css\";\n\nexport default function AddPassenger(props) {\n  const { add } = props;\n\n  return (\n    <div className=\"add-passenger\" onClick={add}>\n      <h3 className=\"add-passenger__title\"> </h3>\n      <button className=\"add-passenger__button\" type=\"button\">\n        +\n      </button>\n    </div>\n  );\n}\n\nAddPassenger.propTypes = {\n  add: PropTypes.func.isRequired,\n};\n","import { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Passengers.css\";\nimport AppContext from \"AppContext\";\nimport ProgressIndicator from \"../ProgressIndicator/ProgressIndicator\";\nimport TravelDetails from \"./TravelDetails/TravelDetails\";\nimport EditPassenger from \"./EditPassenger/EditPassenger\";\nimport AddPassenger from \"./AddPassenger/AddPassenger\";\nimport { errorBox } from \"api/gui\";\nimport shortid from \"shortid\";\n\nexport default function Passengers() {\n  const [passengerList, setPassengerList] = useState([]);\n\n  const { setBookingStage, orderInfo, setOrderInfo, setPopup } =\n    useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage(\"passengers\");\n  }, [setBookingStage]);\n\n  useEffect(() => {\n    setPassengerList(orderInfo.passengerList ? orderInfo.passengerList : [{}]);\n  }, [orderInfo.passengerList]);\n\n  const addPassenger = () => {\n    const list = [\n      ...passengerList,\n      {\n        isCollapsed: false,\n        isAdult: true,\n        firstName: \"\",\n        lastName: \"\",\n        patronymic: \"\",\n        gender: true,\n        birthday: \"\",\n        isDisability: false,\n        includeChild: false,\n        documentType: \" \",\n        passportSeries: \"\",\n        passportNumber: \"\",\n        birthSertificateNumber: \"\",\n        isChange: false,\n        isError: false,\n        isReady: false,\n      },\n    ];\n\n    const newOrderInfo = { ...orderInfo, passengerList: list };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem(\"orderInfo\", JSON.stringify(newOrderInfo));\n  };\n\n  const isNextEnabled =\n    passengerList.length && !passengerList.find((item) => !item.isReady);\n\n  const goToNext = (evt) => {\n    if (!isNextEnabled) {\n      evt.preventDefault();\n    }\n\n    if (!passengerList.length) {\n      errorBox(setPopup, [\n        \"  \",\n        \"    \",\n      ]);\n      return;\n    }\n\n    if (passengerList.find((item) => !item.isReady)) {\n      errorBox(setPopup, [\n        \"  \",\n        \"       \",\n      ]);\n      return;\n    }\n  };\n\n  return (\n    <main className=\"passengers\">\n      <ProgressIndicator stepNumber={2} />\n      <div className=\"passengers__main\">\n        <section className=\"passengers__left\">\n          <TravelDetails />\n        </section>\n        <section className=\"passengers__right\">\n          {passengerList.map((item, i) => (\n            <div\n              className=\"passengers__edit-passenger\"\n              key={shortid.generate()}\n            >\n              <EditPassenger\n                passenger={item}\n                index={i}\n                passengerList={passengerList}\n                setPassengerList={setPassengerList}\n              />\n            </div>\n          ))}\n          {orderInfo.seatList.forward.length > passengerList.length && (\n            <div className=\"passengers__add-passenger\">\n              <AddPassenger add={addPassenger} />\n            </div>\n          )}\n          <Link\n            to=\"/run/payment\"\n            className={\n              \"passengers__button\" +\n              (isNextEnabled ? \" passengers__button_active\" : \"\")\n            }\n            onClick={goToNext}\n          >\n            \n          </Link>\n        </section>\n      </div>\n    </main>\n  );\n}\n","import { useState, useContext, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport \"./UserData.css\";\nimport AppContext from \"AppContext\";\nimport { errorBox } from \"api/gui\";\nimport { verifyPhone, verifyEmail } from \"api/utils\";\n\nexport default function UserData() {\n  const [user, setUser] = useState({});\n\n  const { orderInfo, setOrderInfo, setPopup } = useContext(AppContext);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    setUser(orderInfo.user ? orderInfo.user : {});\n  }, [orderInfo.user]);\n\n  const {\n    firstName = \"\",\n    lastName = \"\",\n    patronymic = \"\",\n    phone = \"\",\n    email = \"\",\n    paymentMethod = \"\",\n  } = user;\n\n  const isOnline = paymentMethod === \"online\";\n  const isCash = paymentMethod === \"cash\";\n\n  const changeFirstName = (value) => {\n    setUser({ ...user, firstName: value });\n  };\n\n  const changeLastName = (value) => {\n    setUser({ ...user, lastName: value });\n  };\n\n  const changePatronymic = (value) => {\n    setUser({ ...user, patronymic: value });\n  };\n\n  const changePhone = (value) => {\n    setUser({ ...user, phone: value });\n  };\n\n  const normalizePhone = (value) => {\n    let newValue = value.replace(/[^\\d]/g, \"\");\n    if (newValue) {\n      newValue = \"+\" + newValue;\n    }\n    setUser({ ...user, phone: newValue });\n  };\n\n  const changeEmail = (value) => {\n    setUser({ ...user, email: value });\n  };\n\n  const changePaymentMethod = (value) => {\n    setUser({ ...user, paymentMethod: value });\n  };\n\n  const isNextEnabled =\n    firstName.trim() &&\n    lastName.trim() &&\n    patronymic.trim() &&\n    phone.trim() &&\n    email.trim() &&\n    paymentMethod;\n\n  const goToNext = (evt) => {\n    evt.preventDefault();\n\n    if (!lastName) {\n      errorBox(setPopup, [\n        \"  \",\n        ' \"\"   ',\n      ]);\n      return;\n    }\n\n    if (!firstName) {\n      errorBox(setPopup, [\n        \"  \",\n        ' \"\"   ',\n      ]);\n      return;\n    }\n\n    if (!patronymic) {\n      errorBox(setPopup, [\n        \"  \",\n        ' \"\"   ',\n      ]);\n      return;\n    }\n\n    if (!verifyPhone(phone)) {\n      errorBox(setPopup, [\n        \"   \",\n        \"     +7    10 \",\n        \": +79101234567, +7 (910) 123-45-67\",\n      ]);\n      return;\n    }\n\n    if (!verifyEmail(email)) {\n      errorBox(setPopup, [\n        \"    \",\n        \"E-mail    xxx@xxx.xx\",\n        \": qwerty111@mail.ru\",\n      ]);\n      return;\n    }\n\n    if (!paymentMethod) {\n      errorBox(setPopup, [\"  \", \"   \"]);\n      return;\n    }\n\n    const newOrderInfo = { ...orderInfo, user };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem(\"orderInfo\", JSON.stringify(newOrderInfo));\n\n    history.push(\"/run/confirmation\");\n  };\n\n  return (\n    <div className=\"user-data\">\n      <form className=\"user-data__form\">\n        <h3 className=\"user-data__title\"> </h3>\n        <div className=\"user-data__data-section\">\n          <div className=\"user-data__name-line\">\n            <label className=\"user-data__label user-data__last-name\">\n              \n              <input\n                className=\"user-data__input\"\n                type=\"text\"\n                name=\"last-name\"\n                placeholder=\"\"\n                value={lastName}\n                onChange={(evt) => changeLastName(evt.target.value)}\n                onBlur={(evt) => changeLastName(evt.target.value.trim())}\n              />\n            </label>\n            <label className=\"user-data__label user-data__first-name\">\n              \n              <input\n                className=\"user-data__input\"\n                type=\"text\"\n                name=\"first-name\"\n                placeholder=\"\"\n                value={firstName}\n                onChange={(evt) => changeFirstName(evt.target.value)}\n                onBlur={(evt) => changeFirstName(evt.target.value.trim())}\n              />\n            </label>\n            <label className=\"user-data__label user-data__patronymic\">\n              \n              <input\n                className=\"user-data__input\"\n                type=\"text\"\n                name=\"patronymic\"\n                placeholder=\"\"\n                value={patronymic}\n                onChange={(evt) => changePatronymic(evt.target.value)}\n                onBlur={(evt) => changePatronymic(evt.target.value.trim())}\n              />\n            </label>\n          </div>\n          <label className=\"user-data__label user-data__phone\">\n             \n            <input\n              className=\"user-data__input\"\n              type=\"text\"\n              name=\"phone\"\n              placeholder=\"+7 ___ ___ __ __\"\n              value={phone}\n              onChange={(evt) => changePhone(evt.target.value)}\n              onBlur={(evt) => normalizePhone(evt.target.value)}\n            />\n          </label>\n          <label className=\"user-data__label user-data__email\">\n            E-mail\n            <input\n              className=\"user-data__input\"\n              type=\"text\"\n              name=\"email\"\n              placeholder=\"inbox@gmail.ru\"\n              value={email}\n              onChange={(evt) => changeEmail(evt.target.value)}\n              onBlur={(evt) => changeEmail(evt.target.value.trim())}\n            />\n          </label>\n        </div>\n        <h3 className=\"user-data__title\"> </h3>\n        <div className=\"user-data__online-section\">\n          <label\n            className={\n              \"user-data__label user-data__label-checkbox\" +\n              (isOnline ? \" user-data__label-checkbox_checked\" : \"\")\n            }\n          >\n            <input\n              className=\"user-data__checkbox\"\n              type=\"checkbox\"\n              name=\"online\"\n              checked={isOnline}\n              onChange={() => changePaymentMethod(\"online\")}\n            />\n            \n          </label>\n          <ul className=\"user-data__online-list\">\n            <li className=\"user-data__online-list-item\"> </li>\n            <li className=\"user-data__online-list-item\">PayPal</li>\n            <li className=\"user-data__online-list-item\">Visa QIWI Wallet</li>\n          </ul>\n        </div>\n        <div className=\"user-data__cash-section\">\n          <label\n            className={\n              \"user-data__label user-data__label-checkbox\" +\n              (isCash ? \" user-data__label-checkbox_checked\" : \"\")\n            }\n          >\n            <input\n              className=\"user-data__checkbox\"\n              type=\"checkbox\"\n              name=\"cash\"\n              checked={isCash}\n              onChange={() => changePaymentMethod(\"cash\")}\n            />\n            \n          </label>\n        </div>\n      </form>\n      <Link\n        to={process.env.PUBLIC_URL + \"/run/confirmation\"}\n        className={\n          \"user-data__button\" +\n          (isNextEnabled ? \" user-data__button_active\" : \"\")\n        }\n        onClick={goToNext}\n      >\n         \n      </Link>\n    </div>\n  );\n}\n","import { useContext, useEffect } from \"react\";\nimport \"./Payment.css\";\nimport AppContext from \"AppContext\";\nimport ProgressIndicator from \"../ProgressIndicator/ProgressIndicator\";\nimport TravelDetails from \"../Passengers/TravelDetails/TravelDetails\";\nimport UserData from \"./UserData/UserData\";\n\nexport default function Payment() {\n  const { setBookingStage } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage(\"payment\");\n  }, [setBookingStage]);\n\n  return (\n    <main className=\"payment\">\n      <ProgressIndicator stepNumber={3} />\n      <div className=\"payment__main\">\n        <section className=\"payment__left\">\n          <TravelDetails />\n        </section>\n        <section className=\"payment__right\">\n          <UserData />\n        </section>\n      </div>\n    </main>\n  );\n}\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./PassengersConfirmation.css\";\nimport AppContext from \"AppContext\";\nimport icons from \"components/Main/icons.svg\";\nimport {\n  separateBirthdaySertificateNumber,\n  separateThousands,\n  totalTicketPrice,\n} from \"api/utils\";\nimport shortid from \"shortid\";\n\nexport default function PassengersConfirmation() {\n  const { orderInfo } = useContext(AppContext);\n  const { passengerList } = orderInfo;\n\n  return (\n    <div className=\"passengers-confirmation\">\n      <h3 className=\"passengers-confirmation__title\"></h3>\n      <div className=\"passengers-confirmation__body\">\n        <div className=\"passengers-confirmation__left\">\n          {passengerList && passengerList.length && (\n            <ul className=\"passengers-confirmation__list\">\n              {passengerList.map((item) => (\n                <li\n                  className=\"passengers-confirmation__list-item\"\n                  key={shortid.generate()}\n                >\n                  <div className=\"passengers-confirmation__list-item-title\">\n                    <svg\n                      className=\"passengers-confirmation__icon\"\n                      width=\"68\"\n                      height=\"68\"\n                    >\n                      <use xlinkHref={icons + \"#passenger-negative\"} />\n                    </svg>\n                    <p className=\"passengers-confirmation__list-item-title-text\">\n                      {item.isAdult ? \"\" : \"\"}\n                    </p>\n                  </div>\n                  <div className=\"passengers-confirmation__list-item-body\">\n                    <p className=\"passengers-confirmation__list-item-name\">\n                      {item.lastName} {item.firstName} {item.patronymic}\n                    </p>\n                    <p className=\"passengers-confirmation__list-item-text\">\n                       {item.gender ? \"\" : \"\"}\n                    </p>\n                    <p className=\"passengers-confirmation__list-item-text\">\n                        {item.birthday}\n                    </p>\n                    <p className=\"passengers-confirmation__list-item-text\">\n                      {item.documentType}&nbsp;\n                      {item.documentType === \" \"\n                        ? `${item.passportSeries} ${item.passportNumber}`\n                        : separateBirthdaySertificateNumber(\n                            item.birthSertificateNumber\n                          )}\n                    </p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n        <div className=\"passengers-confirmation__right\">\n          <div className=\"passengers-confirmation__total\">\n            <p className=\"passengers-confirmation__total-title\"></p>\n            <p className=\"passengers-confirmation__price\">\n              {separateThousands(totalTicketPrice(orderInfo))}\n            </p>\n            <p className=\"passengers-confirmation__currency\">&#x20bd;</p>\n          </div>\n          <Link\n            to=\"/run/passengers\"\n            className=\"passengers-confirmation__button\"\n          >\n            \n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./PaymentConfirmation.css\";\nimport AppContext from \"AppContext\";\n\nexport default function PaymentConfirmation() {\n  const { orderInfo } = useContext(AppContext);\n  const {\n    user: { paymentMethod },\n  } = orderInfo;\n\n  return (\n    <div className=\"payment-confirmation\">\n      <h3 className=\"payment-confirmation__title\"> </h3>\n      <div className=\"payment-confirmation__body\">\n        <div className=\"payment-confirmation__left\">\n          <p className=\"payment-confirmation__method\">\n            {paymentMethod === \"online\" ? \"\" : \"\"}\n          </p>\n        </div>\n        <div className=\"payment-confirmation__right\">\n          <Link to=\"/run/payment\" className=\"payment-confirmation__button\">\n            \n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { order } from \"./http\";\nimport { dayInLastPosition } from \"../utils\";\n\nexport async function setOrder(\n  setAnimation,\n  forwardTrain,\n  backwardTrain,\n  orderInfo\n) {\n  const { seatList, passengerList, user } = orderInfo;\n  const { firstName, lastName, patronymic, phone, email, paymentMethod } = user;\n\n  const departure = {\n    route_direction_id: forwardTrain._id,\n  };\n\n  departure.seats = passengerList.map((item, i) => {\n    const isPassport = item.documentType === \" \";\n\n    return {\n      coach_id: seatList.forward[i].coachId,\n      person_info: {\n        is_adult: item.isAdult,\n        first_name: item.firstName,\n        last_name: item.lastName,\n        patronymic: item.patronymic,\n        gender: item.gender,\n        birthday: dayInLastPosition(item.birthday),\n        document_type: isPassport ? \"\" : \"\",\n        document_data: isPassport\n          ? item.passportSeries + item.passportNumber\n          : item.birthSertificateNumber,\n      },\n      seat_number: seatList.forward[i].seatNumber,\n      is_child: !item.isAdult,\n      include_children_seat: item.includeChild,\n    };\n  });\n\n  const arrival = {\n    route_direction_id: backwardTrain._id,\n  };\n\n  arrival.seats = passengerList.map((item, i) => {\n    const isPassport = item.documentType === \" \";\n\n    return {\n      coach_id: seatList.backward[i].coachId,\n      person_info: {\n        is_adult: item.isAdult,\n        first_name: item.firstName,\n        last_name: item.lastName,\n        patronymic: item.patronymic,\n        gender: item.gender,\n        birthday: dayInLastPosition(item.birthday),\n        document_type: isPassport ? \"\" : \"\",\n        document_data: isPassport\n          ? item.passportSeries + item.passportNumber\n          : item.birthSertificateNumber,\n      },\n      seat_number: seatList.backward[i].seatNumber,\n      is_child: !item.isAdult,\n      include_children_seat: item.includeChild,\n    };\n  });\n\n  const fullOrderInfo = {\n    user: {\n      first_name: firstName,\n      last_name: lastName,\n      patronymic,\n      phone,\n      email,\n      payment_method: paymentMethod,\n    },\n    departure,\n    arrival,\n  };\n\n  setAnimation({ loading: true, text: \"  \" });\n  const response = await order(fullOrderInfo);\n  setAnimation({ loading: false });\n  return response;\n}\n","import { useContext, useEffect } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport \"./Confirmation.css\";\nimport AppContext from \"AppContext\";\nimport ProgressIndicator from \"../ProgressIndicator/ProgressIndicator\";\nimport TravelDetails from \"../Passengers/TravelDetails/TravelDetails\";\nimport TrainsListItem from \"../Trains/TrainsList/TrainsListItem/TrainsListItem\";\nimport PassengersConfirmation from \"./PassengersConfirmation/PassengersConfirmation\";\nimport PaymentConfirmation from \"./PaymentConfirmation/PaymentConfirmation\";\nimport { setOrder } from \"api/http/setOrder\";\nimport { httpErrorBox } from \"api/gui\";\n\nexport default function Confirmation() {\n  const {\n    setBookingStage,\n    setAnimation,\n    setPopup,\n    forwardTrain,\n    backwardTrain,\n    orderInfo,\n  } = useContext(AppContext);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    setBookingStage(\"confirmation\");\n  }, [setBookingStage]);\n\n  const goToNext = async (evt) => {\n    evt.preventDefault();\n\n    const response = await setOrder(\n      setAnimation,\n      forwardTrain,\n      backwardTrain,\n      orderInfo\n    );\n\n    if (response.ok) {\n      history.push(\"/run/completion\");\n    } else {\n      httpErrorBox(setPopup, response);\n    }\n  };\n\n  return (\n    <main className=\"confirmation\">\n      <ProgressIndicator stepNumber={4} />\n      <div className=\"confirmation__main\">\n        <section className=\"confirmation__left\">\n          <TravelDetails />\n        </section>\n        <section className=\"confirmation__right\">\n          <div className=\"confirmation__section\">\n            <TrainsListItem\n              trainInfo={forwardTrain}\n              isForward={true}\n              reloadInfo={(f) => f}\n              loadSeats={(f) => f}\n              isConfirmation={true}\n            />\n          </div>\n          <div className=\"confirmation__section\">\n            <TrainsListItem\n              trainInfo={backwardTrain}\n              isForward={false}\n              reloadInfo={(f) => f}\n              loadSeats={(f) => f}\n              isConfirmation={true}\n            />\n          </div>\n          <div className=\"confirmation__section\">\n            <PassengersConfirmation />\n          </div>\n          <div className=\"confirmation__section\">\n            <PaymentConfirmation />\n          </div>\n          <Link\n            to=\"/run/completion\"\n            className=\"confirmation__button confirmation__button_active\"\n            onClick={goToNext}\n          >\n            \n          </Link>\n        </section>\n      </div>\n    </main>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/star.d4eb37de.svg\";","export default __webpack_public_path__ + \"static/media/active-star.d1fd1c72.svg\";","import { useState, useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AppContext from \"AppContext\";\nimport { separateThousands, totalTicketPrice } from \"api/utils\";\nimport star from \"./star.svg\";\nimport activeStar from \"./active-star.svg\";\nimport \"./Completion.css\";\n\nexport default function Completion() {\n  const initStar = {\n    clicked: false,\n    moved: false,\n  };\n  const [stars, setStars] = useState([\n    initStar,\n    initStar,\n    initStar,\n    initStar,\n    initStar,\n  ]);\n\n  const { setBookingStage, orderInfo } = useContext(AppContext);\n  const {\n    user: { firstName, patronymic },\n  } = orderInfo;\n\n  useEffect(() => {\n    setBookingStage(\"completion\");\n  }, [setBookingStage]);\n\n  const starClick = (index) => {\n    const newStars = stars.map((item, i) => {\n      return { clicked: i <= index, moved: item.moved };\n    });\n    setStars(newStars);\n  };\n\n  const starOver = (index) => {\n    const newStars = stars.map((item, i) => {\n      return { clicked: item.clicked, moved: i <= index };\n    });\n    setStars(newStars);\n  };\n\n  const starsOut = () => {\n    const newStars = stars.map((item) => {\n      return { clicked: item.clicked, moved: false };\n    });\n    setStars(newStars);\n  };\n\n  return (\n    <main className=\"completion\">\n      <div className=\"completion__window\">\n        <h2 className=\"completion__title\">   !</h2>\n        <div className=\"completion__body\">\n          <div className=\"completion__order-data\">\n            <p className=\"completion__order-number\">\n               {Math.trunc(Math.random() * 900 + 100)}\n            </p>\n            <p className=\"completion__order-sum-title\"></p>\n            <p className=\"completion__order-price\">\n              {separateThousands(totalTicketPrice(orderInfo))}\n            </p>\n            <p className=\"completion__order-currency\">&#x20bd;</p>\n          </div>\n          <div className=\"completion__manual\">\n            <div className=\"completion__manual-item\">\n              <div className=\"completion__manual-icon completion__manual-icon_1\"></div>\n              <p className=\"completion__manual-text\"> </p>\n              <p className=\"completion__manual-text\"></p>\n              <p className=\"completion__manual-text\">\n                 {\" \"}\n                <span className=\"completion__manual-text_bold\">e-mail</span>\n              </p>\n            </div>\n            <div className=\"completion__manual-item\">\n              <div className=\"completion__manual-icon completion__manual-icon_2\"></div>\n              <p className=\"completion__manual-text completion__manual-text_bold\">\n                \n              </p>\n              <p className=\"completion__manual-text\">  </p>\n              <p className=\"completion__manual-text\">  </p>\n            </div>\n            <div className=\"completion__manual-item\">\n              <div className=\"completion__manual-icon completion__manual-icon_3\"></div>\n              <p className=\"completion__manual-text completion__manual-text_bold\">\n                \n              </p>\n              <p className=\"completion__manual-text\"></p>\n              <p className=\"completion__manual-text\">  </p>\n            </div>\n          </div>\n          <div className=\"completion__text-container\">\n            <p className=\"completion__text-title\">\n              {firstName} {patronymic}!\n            </p>\n            <p className=\"completion__text-text\">   .</p>\n            <p className=\"completion__text-text\">\n                       .\n            </p>\n            <p className=\"completion__text-end\">\n                     \n              !\n            </p>\n          </div>\n          <div className=\"completion__controls\">\n            <p className=\"completion__controls-text\"> </p>\n            <div className=\"completion__stars-container\" onMouseOut={starsOut}>\n              {stars.map((item, i) => (\n                <div\n                  className=\"completion__star-cell\"\n                  key={i}\n                  onClick={() => starClick(i)}\n                  onMouseOver={() => starOver(i)}\n                >\n                  <img\n                    className=\"completion__star\"\n                    src={item.clicked || item.moved ? activeStar : star}\n                    width=\"48\"\n                    height=\"48\"\n                    alt=\"star\"\n                  />\n                </div>\n              ))}\n            </div>\n            <Link to=\"/\" className=\"completion-button\">\n                \n            </Link>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n","import { useContext, Fragment } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport \"./Main.css\";\nimport AppContext from \"AppContext\";\n\nimport LoadingAnimation from \"./LoadingAnimation/LoadingAnimation\";\nimport HomePage from \"./HomePage/HomePage\";\nimport Trains from \"./Trains/Trains\";\nimport Seats from \"./Seats/Seats\";\nimport Passengers from \"./Passengers/Passengers\";\nimport Payment from \"./Payment/Payment\";\nimport Confirmation from \"./Confirmation/Confirmation\";\nimport Completion from \"./Completion/Completion\";\n\nexport default function Main() {\n  const { animation } = useContext(AppContext);\n\n  return (\n    <Fragment>\n      {animation.loading && <LoadingAnimation />}\n      <div\n        className={\n          \"main__body\" + (animation.loading ? \" main__body_no-visible\" : \"\")\n        }\n      >\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route path=\"/run/trains\" component={Trains} />\n          <Route path=\"/run/seats\" component={Seats} />\n          <Route path=\"/run/passengers\" component={Passengers} />\n          <Route path=\"/run/payment\" component={Payment} />\n          <Route path=\"/run/confirmation\" component={Confirmation} />\n          <Route path=\"/run/completion\" component={Completion} />\n        </Switch>\n      </div>\n    </Fragment>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/icons.03963612.svg\";","import \"./Contacts.css\";\nimport icons from \"./icons.svg\";\n\nexport default function Contacts() {\n  return (\n    <div className=\"contacts\" id=\"contacts\">\n      <h3 className=\"contacts__title\">  </h3>\n      <ul className=\"contacts__list\">\n        <li className=\"contacts__list-item\">\n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"tel:+78000000000\">\n              <svg className=\"contacts__icon\" width=\"30\" height=\"30\">\n                <use xlinkHref={icons + \"#phone\"} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">8 (800) 000 00 00</p>\n        </li>\n        <li className=\"contacts__list-item\">\n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"mailto:inbox@mail.ru\">\n              <svg className=\"contacts__icon\" width=\"30\" height=\"25\">\n                <use xlinkHref={icons + \"#email\"} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">inbox@mail.ru</p>\n        </li>\n        <li className=\"contacts__list-item\">\n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"skype:tu.train.tickets?call\">\n              <svg className=\"contacts__icon\" width=\"30\" height=\"30\">\n                <use xlinkHref={icons + \"#skype\"} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">tu.train.tickets</p>\n        </li>\n        <li className=\"contacts__list-item contacts__list-item_geolocation\">\n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"https://yandex.ru/maps/\">\n              <svg className=\"contacts__icon\" width=\"21\" height=\"30\">\n                <use xlinkHref={icons + \"#location\"} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">\n            . \n            <br />\n            .  27-35\n            <br />\n            555 555\n          </p>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/icons.e4b19f5e.svg\";","import \"./SocialMedia.css\";\nimport icons from \"./icons.svg\";\n\nexport default function SocialMedia() {\n  return (\n    <div className=\"social-media\">\n      <h3 className=\"social-media__title\">  </h3>\n      <ul className=\"social-media__list\">\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://www.youtube.com\">\n            <svg className=\"social-media__icon\" width=\"38\" height=\"30\">\n              <use xlinkHref={icons + \"#youtube\"} />\n            </svg>\n          </a>\n        </li>\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://www.instagram.com\">\n            <svg className=\"social-media__icon\" width=\"32\" height=\"30\">\n              <use xlinkHref={icons + \"#instagram\"} />\n            </svg>\n          </a>\n        </li>\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://plus.google.com\">\n            <svg className=\"social-media__icon\" width=\"47\" height=\"30\">\n              <use xlinkHref={icons + \"#google-plus\"} />\n            </svg>\n          </a>\n        </li>\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://www.facebook.com\">\n            <svg className=\"social-media__icon\" width=\"14\" height=\"30\">\n              <use xlinkHref={icons + \"#facebook\"} />\n            </svg>\n          </a>\n        </li>\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://twitter.com\">\n            <svg className=\"social-media__icon\" width=\"37\" height=\"30\">\n              <use xlinkHref={icons + \"#twitter\"} />\n            </svg>\n          </a>\n        </li>\n      </ul>\n    </div>\n  );\n}\n","import { subscribe } from \"./http\";\n\nexport async function setSubscribe(setAnimation, email) {\n  setAnimation({ loading: true, text: \"  \" });\n  const response = await subscribe(email);\n  setAnimation({ loading: false });\n  return response;\n}\n","import { useState, useContext, Fragment } from \"react\";\nimport AppContext from \"AppContext\";\nimport { setSubscribe } from \"../../../api/http/setSubscribe\";\nimport { infoBox, errorBox, httpErrorBox } from \"api/gui\";\nimport { verifyEmail } from \"api/utils\";\nimport \"./Subscription.css\";\n\nexport default function Subscription() {\n  const [email, setEmail] = useState(\"\");\n  const { setAnimation, setPopup } = useContext(AppContext);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const mail = email.trim();\n    if (!mail) {\n      errorBox(setPopup, \"   \");\n      setEmail(\"\");\n      return;\n    }\n\n    if (!verifyEmail(mail)) {\n      errorBox(setPopup, \"   email\");\n      setEmail(mail);\n      return;\n    }\n\n    setEmail(\"\");\n    const response = await setSubscribe(setAnimation, mail);\n    if (response.ok) {\n      infoBox(\n        setPopup,\n        `   ${mail}     `\n      );\n    } else {\n      httpErrorBox(setPopup, response);\n    }\n  };\n\n  const handleChange = (event) => {\n    setEmail(event.target.value);\n    console.log(event.target.value);\n  };\n\n  return (\n    <Fragment>\n      <form className=\"footer__subscribe\" onSubmit={handleSubmit}>\n        <h3 className=\"footer__subscription__title\"></h3>\n        <label className=\"footer__subscription__label\">\n             \n        </label>\n        <input\n          className=\"footer__subscription__input\"\n          name=\"email\"\n          type=\"text\"\n          value={email}\n          placeholder=\"e-mail\"\n          onChange={handleChange}\n        />\n        <button className=\"footer__subscribe__btn\" type=\"submit\">\n          \n        </button>\n      </form>\n    </Fragment>\n  );\n}\n","import \"./Footer.css\";\nimport Contacts from \"./Contacts/Contacts\";\nimport SocialMedia from \"./SocialMedia/SocialMedia\";\nimport Subscription from \"./Subscription/Subscription\";\n\nexport default function Footer() {\n  const handleClick = () => {\n    window.scrollTo({\n      top: 0,\n      behavior: \"smooth\",\n    });\n  };\n\n  return (\n    <footer className=\"footer\">\n      <div className=\"footer__main\">\n        <Contacts />\n        <div className=\"footer__subscription-options\">\n          <Subscription />\n          <SocialMedia />\n        </div>\n      </div>\n      <div className=\"footer__bottom\">\n        <div className=\"footer__logo\"></div>\n        <button className=\"footer__scrollup\" onClick={handleClick}></button>\n        <div className=\"footer__copyright\">2018 Web</div>\n      </div>\n    </footer>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/icon-error.f617ffc6.svg\";","export default __webpack_public_path__ + \"static/media/icon-info.8160a758.svg\";","import { useContext } from \"react\";\nimport \"./Popup.css\";\nimport iconError from \"./icon-error.svg\";\nimport iconInfo from \"./icon-info.svg\";\nimport AppContext from \"AppContext\";\nimport shortid from \"shortid\";\n\nexport default function Popup() {\n  const { popup, setPopup, animation } = useContext(AppContext);\n  const { visible, buttonText, content, error } = popup;\n\n  const classModificator = error ? \"error\" : \"info\";\n\n  const closePopup = () => setPopup({ visible: false });\n\n  return (\n    (visible || animation.loading) && (\n      <div className=\"popup\">\n        {visible && (\n          <div className={`popup__window popup__window_${classModificator}`}>\n            <div className={`popup__top popup__top_${classModificator}`}>\n              <img\n                className=\"popup__icon\"\n                src={error ? iconError : iconInfo}\n                width=\"32\"\n                alt=\"icon\"\n              />\n            </div>\n            <div\n              className={`popup__content popup__content_${classModificator}`}\n            >\n              {content.map((item, i) => (\n                <p\n                  className={`popup__paragraph popup__paragraph_${classModificator}`}\n                  key={shortid.generate()}\n                >\n                  {item}\n                </p>\n              ))}\n            </div>\n            <div className=\"popup__bottom\">\n              <button\n                className=\"popup__button\"\n                type=\"button\"\n                onClick={closePopup}\n              >\n                {buttonText}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    )\n  );\n}\n","import { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./App.css\";\nimport AppProvider from \"./AppProvider\";\nimport Header from \"./components/Header/Header\";\nimport Main from \"./components/Main/Main\";\nimport Footer from \"./components/Footer/Footer\";\nimport Popup from \"./components/Popup/Popup\";\n\nfunction App() {\n  return (\n    <AppProvider>\n      <Router>\n        <Header />\n        <Main />\n        <Footer />\n        <Popup />\n      </Router>\n    </AppProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}